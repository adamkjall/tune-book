var qE=i=>{throw TypeError(i)};var Fp=(i,e,t)=>e.has(i)||qE("Cannot "+t);var k=(i,e,t)=>(Fp(i,e,"read from private field"),t?t.call(i):e.get(i)),_e=(i,e,t)=>e.has(i)?qE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),ce=(i,e,t,s)=>(Fp(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),Oe=(i,e,t)=>(Fp(i,e,"access private method"),t);var _f=(i,e,t,s)=>({set _(o){ce(i,e,o,t)},get _(){return k(i,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function fS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qp={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function rC(){if(HE)return qu;HE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return qu.Fragment=e,qu.jsx=t,qu.jsxs=t,qu}var GE;function sC(){return GE||(GE=1,qp.exports=rC()),qp.exports}var C=sC(),Hp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function aC(){if(QE)return Re;QE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function O(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,P={};function W(U,ne,ue){this.props=U,this.context=ne,this.refs=P,this.updater=ue||z}W.prototype.isReactComponent={},W.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},W.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function re(){}re.prototype=W.prototype;function X(U,ne,ue){this.props=U,this.context=ne,this.refs=P,this.updater=ue||z}var oe=X.prototype=new re;oe.constructor=X,V(oe,W.prototype),oe.isPureReactComponent=!0;var se=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(U,ne,ue){var de=ue.ref;return{$$typeof:i,type:U,key:ne,ref:de!==void 0?de:null,props:ue}}function D(U,ne){return R(U.type,ne,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function j(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var x=/\/+/g;function Ke(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):ne.toString(36)}function yt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(me,me):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function q(U,ne,ue,de,Ae){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(Ne){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case i:case e:Fe=!0;break;case _:return Fe=U._init,q(Fe(U._payload),ne,ue,de,Ae)}}if(Fe)return Ae=Ae(U),Fe=de===""?"."+Ke(U,0):de,se(Ae)?(ue="",Fe!=null&&(ue=Fe.replace(x,"$&/")+"/"),q(Ae,ne,ue,"",function(ia){return ia})):Ae!=null&&(I(Ae)&&(Ae=D(Ae,ue+(Ae.key==null||U&&U.key===Ae.key?"":(""+Ae.key).replace(x,"$&/")+"/")+Fe)),ne.push(Ae)),1;Fe=0;var zt=de===""?".":de+":";if(se(U))for(var ht=0;ht<U.length;ht++)de=U[ht],Ne=zt+Ke(de,ht),Fe+=q(de,ne,ue,Ne,Ae);else if(ht=O(U),typeof ht=="function")for(U=ht.call(U),ht=0;!(de=U.next()).done;)de=de.value,Ne=zt+Ke(de,ht++),Fe+=q(de,ne,ue,Ne,Ae);else if(Ne==="object"){if(typeof U.then=="function")return q(yt(U),ne,ue,de,Ae);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function ae(U,ne,ue){if(U==null)return U;var de=[],Ae=0;return q(U,de,"","",function(Ne){return ne.call(ue,Ne,Ae++)}),de}function ye(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var He=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Je={map:ae,forEach:function(U,ne,ue){ae(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return ae(U,function(){ne++}),ne},toArray:function(U){return ae(U,function(ne){return ne})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Re.Activity=b,Re.Children=Je,Re.Component=W,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Re.cache=function(U){return function(){return U.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=V({},U.props),Ae=U.key;if(ne!=null)for(Ne in ne.key!==void 0&&(Ae=""+ne.key),ne)!S.call(ne,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ne.ref===void 0||(de[Ne]=ne[Ne]);var Ne=arguments.length-2;if(Ne===1)de.children=ue;else if(1<Ne){for(var Fe=Array(Ne),zt=0;zt<Ne;zt++)Fe[zt]=arguments[zt+2];de.children=Fe}return R(U.type,Ae,de)},Re.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Re.createElement=function(U,ne,ue){var de,Ae={},Ne=null;if(ne!=null)for(de in ne.key!==void 0&&(Ne=""+ne.key),ne)S.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ae[de]=ne[de]);var Fe=arguments.length-2;if(Fe===1)Ae.children=ue;else if(1<Fe){for(var zt=Array(Fe),ht=0;ht<Fe;ht++)zt[ht]=arguments[ht+2];Ae.children=zt}if(U&&U.defaultProps)for(de in Fe=U.defaultProps,Fe)Ae[de]===void 0&&(Ae[de]=Fe[de]);return R(U,Ne,Ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:m,render:U}},Re.isValidElement=I,Re.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:ye}},Re.memo=function(U,ne){return{$$typeof:g,type:U,compare:ne===void 0?null:ne}},Re.startTransition=function(U){var ne=N.T,ue={};N.T=ue;try{var de=U(),Ae=N.S;Ae!==null&&Ae(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(me,He)}catch(Ne){He(Ne)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),N.T=ne}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(U){return N.H.use(U)},Re.useActionState=function(U,ne,ue){return N.H.useActionState(U,ne,ue)},Re.useCallback=function(U,ne){return N.H.useCallback(U,ne)},Re.useContext=function(U){return N.H.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U,ne){return N.H.useDeferredValue(U,ne)},Re.useEffect=function(U,ne){return N.H.useEffect(U,ne)},Re.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(U,ne,ue){return N.H.useImperativeHandle(U,ne,ue)},Re.useInsertionEffect=function(U,ne){return N.H.useInsertionEffect(U,ne)},Re.useLayoutEffect=function(U,ne){return N.H.useLayoutEffect(U,ne)},Re.useMemo=function(U,ne){return N.H.useMemo(U,ne)},Re.useOptimistic=function(U,ne){return N.H.useOptimistic(U,ne)},Re.useReducer=function(U,ne,ue){return N.H.useReducer(U,ne,ue)},Re.useRef=function(U){return N.H.useRef(U)},Re.useState=function(U){return N.H.useState(U)},Re.useSyncExternalStore=function(U,ne,ue){return N.H.useSyncExternalStore(U,ne,ue)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var KE;function sy(){return KE||(KE=1,Hp.exports=aC()),Hp.exports}var Q=sy();const $u=fS(Q);var Gp={exports:{}},Hu={},Qp={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function oC(){return YE||(YE=1,(function(i){function e(q,ae){var ye=q.length;q.push(ae);e:for(;0<ye;){var He=ye-1>>>1,Je=q[He];if(0<o(Je,ae))q[He]=ae,q[ye]=Je,ye=He;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ae=q[0],ye=q.pop();if(ye!==ae){q[0]=ye;e:for(var He=0,Je=q.length,U=Je>>>1;He<U;){var ne=2*(He+1)-1,ue=q[ne],de=ne+1,Ae=q[de];if(0>o(ue,ye))de<Je&&0>o(Ae,ue)?(q[He]=Ae,q[de]=ye,He=de):(q[He]=ue,q[ne]=ye,He=ne);else if(de<Je&&0>o(Ae,ye))q[He]=Ae,q[de]=ye,He=de;else break e}}return ae}function o(q,ae){var ye=q.sortIndex-ae.sortIndex;return ye!==0?ye:q.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,b=null,w=3,O=!1,z=!1,V=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function oe(q){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=q)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function se(q){if(V=!1,oe(q),!z)if(t(p)!==null)z=!0,me||(me=!0,j());else{var ae=t(g);ae!==null&&yt(se,ae.startTime-q)}}var me=!1,N=-1,S=5,R=-1;function D(){return P?!0:!(i.unstable_now()-R<S)}function I(){if(P=!1,me){var q=i.unstable_now();R=q;var ae=!0;try{e:{z=!1,V&&(V=!1,re(N),N=-1),O=!0;var ye=w;try{t:{for(oe(q),b=t(p);b!==null&&!(b.expirationTime>q&&D());){var He=b.callback;if(typeof He=="function"){b.callback=null,w=b.priorityLevel;var Je=He(b.expirationTime<=q);if(q=i.unstable_now(),typeof Je=="function"){b.callback=Je,oe(q),ae=!0;break t}b===t(p)&&s(p),oe(q)}else s(p);b=t(p)}if(b!==null)ae=!0;else{var U=t(g);U!==null&&yt(se,U.startTime-q),ae=!1}}break e}finally{b=null,w=ye,O=!1}ae=void 0}}finally{ae?j():me=!1}}}var j;if(typeof X=="function")j=function(){X(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ke=x.port2;x.port1.onmessage=I,j=function(){Ke.postMessage(null)}}else j=function(){W(I,0)};function yt(q,ae){N=W(function(){q(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(q){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ye=w;w=ae;try{return q()}finally{w=ye}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(q,ae){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ye=w;w=q;try{return ae()}finally{w=ye}},i.unstable_scheduleCallback=function(q,ae,ye){var He=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?He+ye:He):ye=He,q){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=ye+Je,q={id:_++,callback:ae,priorityLevel:q,startTime:ye,expirationTime:Je,sortIndex:-1},ye>He?(q.sortIndex=ye,e(g,q),t(p)===null&&q===t(g)&&(V?(re(N),N=-1):V=!0,yt(se,ye-He))):(q.sortIndex=Je,e(p,q),z||O||(z=!0,me||(me=!0,j()))),q},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(q){var ae=w;return function(){var ye=w;w=ae;try{return q.apply(this,arguments)}finally{w=ye}}}})(Kp)),Kp}var $E;function lC(){return $E||($E=1,Qp.exports=oC()),Qp.exports}var Yp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function uC(){if(XE)return on;XE=1;var i=sy();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},on.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:O}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},on.requestFormReset=function(p){s.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.0",on}var WE;function cC(){if(WE)return Yp.exports;WE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yp.exports=uC(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function hC(){if(JE)return Hu;JE=1;var i=lC(),e=sy(),t=cC();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function _(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=_(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),X=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function Ke(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case W:return"Profiler";case P:return"StrictMode";case se:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case X:return n.displayName||"Context";case re:return(n._context.displayName||"Context")+".Consumer";case oe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:Ke(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return Ke(n(r))}catch{}}return null}var yt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},He=[],Je=-1;function U(n){return{current:n}}function ne(n){0>Je||(n.current=He[Je],He[Je]=null,Je--)}function ue(n,r){Je++,He[Je]=n.current,n.current=r}var de=U(null),Ae=U(null),Ne=U(null),Fe=U(null);function zt(n,r){switch(ue(Ne,r),ue(Ae,n),ue(de,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?fE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=fE(r),n=dE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(de),ue(de,n)}function ht(){ne(de),ne(Ae),ne(Ne)}function ia(n){n.memoizedState!==null&&ue(Fe,n);var r=de.current,a=dE(r,n.type);r!==a&&(ue(Ae,n),ue(de,a))}function uo(n){Ae.current===n&&(ne(de),ne(Ae)),Fe.current===n&&(ne(Fe),ju._currentValue=ye)}var co,ho;function Ri(n){if(co===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);co=r&&r[1]||"",ho=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+co+n+ho}var jl=!1;function ra(n,r){if(!n||jl)return"";jl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var K=$}Reflect.construct(n,[],ee)}else{try{ee.call()}catch($){K=$}n.call(ee.prototype)}}else{try{throw Error()}catch($){K=$}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var M=v.split(`
`),G=T.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===G.length)for(l=M.length-1,f=G.length-1;1<=l&&0<=f&&M[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==G[f]){var J=`
`+M[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=f);break}}}finally{jl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ri(a):""}function zl(n,r){switch(n.tag){case 26:case 27:case 5:return Ri(n.type);case 16:return Ri("Lazy");case 13:return n.child!==r&&r!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return ra(n.type,!1);case 11:return ra(n.type.render,!1);case 1:return ra(n.type,!0);case 31:return Ri("Activity");default:return""}}function Bl(n){try{var r="",a=null;do r+=zl(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var It=Object.prototype.hasOwnProperty,Bt=i.unstable_scheduleCallback,Fr=i.unstable_cancelCallback,Hd=i.unstable_shouldYield,Fc=i.unstable_requestPaint,fn=i.unstable_now,sa=i.unstable_getCurrentPriorityLevel,Fl=i.unstable_ImmediatePriority,ql=i.unstable_UserBlockingPriority,qr=i.unstable_NormalPriority,Gd=i.unstable_LowPriority,qc=i.unstable_IdlePriority,Hc=i.log,Gc=i.unstable_setDisableYieldValue,ri=null,Wt=null;function Fn(n){if(typeof Hc=="function"&&Gc(n),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ri,n)}catch{}}var St=Math.clz32?Math.clz32:Kc,Qc=Math.log,fo=Math.LN2;function Kc(n){return n>>>=0,n===0?32:31-(Qc(n)/fo|0)|0}var Ci=256,aa=262144,xt=4194304;function Ii(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xi(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Ii(l):(v&=T,v!==0?f=Ii(v):a||(a=T&~n,a!==0&&(f=Ii(a))))):(T=l&~d,T!==0?f=Ii(T):v!==0?f=Ii(v):a||(a=l&~n,a!==0&&(f=Ii(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function si(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Qd(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var n=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),n}function Ni(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function oa(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kd(n,r,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,M=n.expirationTimes,G=n.hiddenUpdates;for(a=v&~a;0<a;){var J=31-St(a),ee=1<<J;T[J]=0,M[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&la(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function la(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-St(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Hl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-St(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Gl(n,r){var a=r&-r;return a=(a&42)!==0?1:ua(a),(a&(n.suspendedLanes|r))!==0?0:a}function ua(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function lr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function $c(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:LE(n.type))}function ai(n,r){var a=ae.p;try{return ae.p=n,r()}finally{ae.p=a}}var oi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+oi,Qt="__reactProps$"+oi,Di="__reactContainer$"+oi,mo="__reactEvents$"+oi,Yd="__reactListeners$"+oi,Xc="__reactHandles$"+oi,Wc="__reactResources$"+oi,Oi="__reactMarker$"+oi;function po(n){delete n[Nt],delete n[Qt],delete n[mo],delete n[Yd],delete n[Xc]}function Mi(n){var r=n[Nt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Di]||a[Nt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=EE(n);n!==null;){if(a=n[Nt])return a;n=EE(n)}return r}n=a,a=n.parentNode}return null}function qn(n){if(n=n[Nt]||n[Di]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Nn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function ki(n){var r=n[Wc];return r||(r=n[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(n){n[Oi]=!0}var Ql=new Set,Kl={};function Pi(n,r){Li(n,r),Li(n+"Capture",r)}function Li(n,r){for(Kl[n]=r,n=0;n<r.length;n++)Ql.add(r[n])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Xl={};function Jc(n){return It.call(Xl,n)?!0:It.call($l,n)?!1:Yl.test(n)?Xl[n]=!0:($l[n]=!0,!1)}function go(n,r,a){if(Jc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Dn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ot(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function Kt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wl(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ze(n){if(!n._valueTracker){var r=Hr(n)?"checked":"value";n._valueTracker=Wl(n,r,""+n[r])}}function ca(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Hr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Vi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ha=/[\n"\\]/g;function vn(n){return n.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yo(n,r,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Kt(r)):n.value!==""+Kt(r)&&(n.value=""+Kt(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Jl(n,v,Kt(r)):a!=null?Jl(n,v,Kt(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Kt(T):n.removeAttribute("name")}function Zc(n,r,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ze(n);return}a=a!=null?""+Kt(a):"",r=r!=null?""+Kt(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Ze(n)}function Jl(n,r,a){r==="number"&&Vi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Gr(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Kt(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function eh(n,r,a){if(r!=null&&(r=""+Kt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Kt(a):""}function Qr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(yt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Kt(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Ze(n)}function En(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||th.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function eu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Zl(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Zl(n,d,r[d])}function _o(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(n){return Kr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function li(){}var tu=null;function Hn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yr=null,Ui=null;function fa(n){var r=qn(n);if(r&&(n=r.stateNode)){var a=n[Qt]||null;e:switch(n=r.stateNode,r.type){case"input":if(yo(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Qt]||null;if(!f)throw Error(s(90));yo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&ca(l)}break e;case"textarea":eh(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Gr(n,!!a.multiple,r,!1)}}}var Eo=!1;function $r(n,r,a){if(Eo)return n(r,a);Eo=!0;try{var l=n(r);return l}finally{if(Eo=!1,(Yr!==null||Ui!==null)&&($h(),Yr&&(r=Yr,n=Ui,Ui=Yr=null,fa(r),n)))for(r=0;r<n.length;r++)fa(n[r])}}function ui(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Gn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){da=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{da=!1}var ji=null,nu=null,ma=null;function iu(){if(ma)return ma;var n,r=nu,a=r.length,l,f="value"in ji?ji.value:ji.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return ma=f.slice(n,1<l?1-l:void 0)}function pa(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ur(){return!0}function ci(){return!1}function Jt(n){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:ci,this.isPropagationStopped=ci,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),r}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Jt(cr),Xr=b({},cr,{view:0,detail:0}),ru=Jt(Xr),Wr,bo,Bi,To=b({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bi&&(Bi&&n.type==="mousemove"?(Wr=n.screenX-Bi.screenX,bo=n.screenY-Bi.screenY):bo=Wr=0,Bi=n),Wr)},movementY:function(n){return"movementY"in n?n.movementY:bo}}),su=Jt(To),ga=b({},To,{dataTransfer:0}),ih=Jt(ga),rh=b({},Xr,{relatedTarget:0}),ya=Jt(rh),au=b({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=Jt(au),So=b({},cr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ah=Jt(So),oh=b({},cr,{data:0}),Fi=Jt(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ch[n])?!!r[n]:!1}function Jr(){return hh}var dn=b({},Xr,{key:function(n){if(n.key){var r=lh[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=pa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(n){return n.type==="keypress"?pa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fh=Jt(dn),dh=b({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Jt(dh),h=b({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),y=Jt(h),E=b({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Jt(E),F=b({},To,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Jt(F),le=b({},cr,{newState:0,oldState:0}),Ie=Jt(le),At=[9,13,27,32],Ye=Gn&&"CompositionEvent"in window,ft=null;Gn&&"documentMode"in document&&(ft=document.documentMode);var Qn=Gn&&"TextEvent"in window&&!ft,qi=Gn&&(!Ye||ft&&8<ft&&11>=ft),hi=" ",fi=!1;function _a(n,r){switch(n){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function I1(n,r){switch(n){case"compositionend":return Ao(r);case"keypress":return r.which!==32?null:(fi=!0,hi);case"textInput":return n=r.data,n===hi&&fi?null:n;default:return null}}function x1(n,r){if(wo)return n==="compositionend"||!Ye&&_a(n,r)?(n=iu(),ma=nu=ji=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var N1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!N1[n.type]:r==="textarea"}function A_(n,r,a,l){Yr?Ui?Ui.push(l):Ui=[l]:Yr=l,r=nf(r,"onChange"),0<r.length&&(a=new zi("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var ou=null,lu=null;function D1(n){aE(n,0)}function mh(n){var r=Nn(n);if(ca(r))return n}function w_(n,r){if(n==="change")return r}var R_=!1;if(Gn){var $d;if(Gn){var Xd="oninput"in document;if(!Xd){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),Xd=typeof C_.oninput=="function"}$d=Xd}else $d=!1;R_=$d&&(!document.documentMode||9<document.documentMode)}function I_(){ou&&(ou.detachEvent("onpropertychange",x_),lu=ou=null)}function x_(n){if(n.propertyName==="value"&&mh(lu)){var r=[];A_(r,lu,n,Hn(n)),$r(D1,r)}}function O1(n,r,a){n==="focusin"?(I_(),ou=r,lu=a,ou.attachEvent("onpropertychange",x_)):n==="focusout"&&I_()}function M1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mh(lu)}function k1(n,r){if(n==="click")return mh(r)}function P1(n,r){if(n==="input"||n==="change")return mh(r)}function L1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var On=typeof Object.is=="function"?Object.is:L1;function uu(n,r){if(On(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!It.call(r,f)||!On(n[f],r[f]))return!1}return!0}function N_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function D_(n,r){var a=N_(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=N_(a)}}function O_(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?O_(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function M_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Vi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Vi(n.document)}return r}function Wd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var V1=Gn&&"documentMode"in document&&11>=document.documentMode,Ro=null,Jd=null,cu=null,Zd=!1;function k_(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zd||Ro==null||Ro!==Vi(l)||(l=Ro,"selectionStart"in l&&Wd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cu&&uu(cu,l)||(cu=l,l=nf(Jd,"onSelect"),0<l.length&&(r=new zi("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ro)))}function va(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Co={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},em={},P_={};Gn&&(P_=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Ea(n){if(em[n])return em[n];if(!Co[n])return n;var r=Co[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in P_)return em[n]=r[a];return n}var L_=Ea("animationend"),V_=Ea("animationiteration"),U_=Ea("animationstart"),U1=Ea("transitionrun"),j1=Ea("transitionstart"),z1=Ea("transitioncancel"),j_=Ea("transitionend"),z_=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function di(n,r){z_.set(n,r),Pi(r,[n])}var ph=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kn=[],Io=0,nm=0;function gh(){for(var n=Io,r=nm=Io=0;r<n;){var a=Kn[r];Kn[r++]=null;var l=Kn[r];Kn[r++]=null;var f=Kn[r];Kn[r++]=null;var d=Kn[r];if(Kn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&B_(a,f,d)}}function yh(n,r,a,l){Kn[Io++]=n,Kn[Io++]=r,Kn[Io++]=a,Kn[Io++]=l,nm|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function im(n,r,a,l){return yh(n,r,a,l),_h(n)}function ba(n,r){return yh(n,null,null,r),_h(n)}function B_(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-St(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function _h(n){if(50<Ou)throw Ou=0,fp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var xo={};function B1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(n,r,a,l){return new B1(n,r,a,l)}function rm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fr(n,r){var a=n.alternate;return a===null?(a=Mn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function F_(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function vh(n,r,a,l,f,d){var v=0;if(l=n,typeof n=="function")rm(n)&&(v=1);else if(typeof n=="string")v=QR(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Mn(31,a,r,f),n.elementType=R,n.lanes=d,n;case V:return Ta(a.children,f,d,r);case P:v=8,f|=24;break;case W:return n=Mn(12,a,r,f|2),n.elementType=W,n.lanes=d,n;case se:return n=Mn(13,a,r,f),n.elementType=se,n.lanes=d,n;case me:return n=Mn(19,a,r,f),n.elementType=me,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:v=10;break e;case re:v=9;break e;case oe:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Mn(v,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ta(n,r,a,l){return n=Mn(7,n,l,r),n.lanes=a,n}function sm(n,r,a){return n=Mn(6,n,null,r),n.lanes=a,n}function q_(n){var r=Mn(18,null,null,0);return r.stateNode=n,r}function am(n,r,a){return r=Mn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var H_=new WeakMap;function Yn(n,r){if(typeof n=="object"&&n!==null){var a=H_.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Bl(r)},H_.set(n,r),r)}return{value:n,source:r,stack:Bl(r)}}var No=[],Do=0,Eh=null,hu=0,$n=[],Xn=0,Zr=null,Hi=1,Gi="";function dr(n,r){No[Do++]=hu,No[Do++]=Eh,Eh=n,hu=r}function G_(n,r,a){$n[Xn++]=Hi,$n[Xn++]=Gi,$n[Xn++]=Zr,Zr=n;var l=Hi;n=Gi;var f=32-St(l)-1;l&=~(1<<f),a+=1;var d=32-St(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Hi=1<<32-St(r)+f|a<<f|l,Gi=d+n}else Hi=1<<d|a<<f|l,Gi=n}function om(n){n.return!==null&&(dr(n,1),G_(n,1,0))}function lm(n){for(;n===Eh;)Eh=No[--Do],No[Do]=null,hu=No[--Do],No[Do]=null;for(;n===Zr;)Zr=$n[--Xn],$n[Xn]=null,Gi=$n[--Xn],$n[Xn]=null,Hi=$n[--Xn],$n[Xn]=null}function Q_(n,r){$n[Xn++]=Hi,$n[Xn++]=Gi,$n[Xn++]=Zr,Hi=r.id,Gi=r.overflow,Zr=n}var Zt=null,lt=null,ze=!1,es=null,Wn=!1,um=Error(s(519));function ts(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(Yn(r,n)),um}function K_(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Nt]=n,r[Qt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<ku.length;a++)ke(ku[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Zc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Qr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||cE(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=li),r=!0):r=!1,r||ts(n,!0)}function Y_(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Zt=Zt.return}}function Oo(n){if(n!==Zt)return!1;if(!ze)return Y_(n),ze=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Cp(n.type,n.memoizedProps)),a=!a),a&&lt&&ts(n),Y_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));lt=vE(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));lt=vE(n)}else r===27?(r=lt,ps(n.type)?(n=Op,Op=null,lt=n):lt=r):lt=Zt?Zn(n.stateNode.nextSibling):null;return!0}function Sa(){lt=Zt=null,ze=!1}function cm(){var n=es;return n!==null&&(An===null?An=n:An.push.apply(An,n),es=null),n}function fu(n){es===null?es=[n]:es.push(n)}var hm=U(null),Aa=null,mr=null;function ns(n,r,a){ue(hm,r._currentValue),r._currentValue=a}function pr(n){n._currentValue=hm.current,ne(hm)}function fm(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function dm(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var M=0;M<r.length;M++)if(T.context===r[M]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),fm(d.return,a,n),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),fm(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Mo(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;On(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===Fe.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ju):n=[ju])}f=f.return}n!==null&&dm(r,n,a,l),r.flags|=262144}function bh(n){for(n=n.firstContext;n!==null;){if(!On(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function wa(n){Aa=n,mr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return $_(Aa,n)}function Th(n,r){return Aa===null&&wa(n),$_(n,r)}function $_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},mr===null){if(n===null)throw Error(s(308));mr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else mr=mr.next=r;return a}var F1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},q1=i.unstable_scheduleCallback,H1=i.unstable_NormalPriority,Mt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mm(){return{controller:new F1,data:new Map,refCount:0}}function du(n){n.refCount--,n.refCount===0&&q1(H1,function(){n.controller.abort()})}var mu=null,pm=0,ko=0,Po=null;function G1(n,r){if(mu===null){var a=mu=[];pm=0,ko=_p(),Po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pm++,r.then(X_,X_),r}function X_(){if(--pm===0&&mu!==null){Po!==null&&(Po.status="fulfilled");var n=mu;mu=null,ko=0,Po=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Q1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var W_=q.S;q.S=function(n,r){k0=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&G1(n,r),W_!==null&&W_(n,r)};var Ra=U(null);function gm(){var n=Ra.current;return n!==null?n:at.pooledCache}function Sh(n,r){r===null?ue(Ra,Ra.current):ue(Ra,r.pool)}function J_(){var n=gm();return n===null?null:{parent:Mt._currentValue,pool:n}}var Lo=Error(s(460)),ym=Error(s(474)),Ah=Error(s(542)),wh={then:function(){}};function Z_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ev(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(li,li),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,nv(n),n;default:if(typeof r.status=="string")r.then(li,li);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,nv(n),n}throw Ia=r,Lo}}function Ca(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ia=a,Lo):a}}var Ia=null;function tv(){if(Ia===null)throw Error(s(459));var n=Ia;return Ia=null,n}function nv(n){if(n===Lo||n===Ah)throw Error(s(483))}var Vo=null,pu=0;function Rh(n){var r=pu;return pu+=1,Vo===null&&(Vo=[]),ev(Vo,n,r)}function gu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ch(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function iv(n){function r(B,L){if(n){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=fr(B,L),B.index=0,B.sibling=null,B}function d(B,L,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function v(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function T(B,L,H,Z){return L===null||L.tag!==6?(L=sm(H,B.mode,Z),L.return=B,L):(L=f(L,H),L.return=B,L)}function M(B,L,H,Z){var ve=H.type;return ve===V?J(B,L,H.props.children,Z,H.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Ca(ve)===L.type)?(L=f(L,H.props),gu(L,H),L.return=B,L):(L=vh(H.type,H.key,H.props,null,B.mode,Z),gu(L,H),L.return=B,L)}function G(B,L,H,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=am(H,B.mode,Z),L.return=B,L):(L=f(L,H.children||[]),L.return=B,L)}function J(B,L,H,Z,ve){return L===null||L.tag!==7?(L=Ta(H,B.mode,Z,ve),L.return=B,L):(L=f(L,H),L.return=B,L)}function ee(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=sm(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return H=vh(L.type,L.key,L.props,null,B.mode,H),gu(H,L),H.return=B,H;case z:return L=am(L,B.mode,H),L.return=B,L;case S:return L=Ca(L),ee(B,L,H)}if(yt(L)||j(L))return L=Ta(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return ee(B,Rh(L),H);if(L.$$typeof===X)return ee(B,Th(B,L),H);Ch(B,L)}return null}function K(B,L,H,Z){var ve=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:T(B,L,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===ve?M(B,L,H,Z):null;case z:return H.key===ve?G(B,L,H,Z):null;case S:return H=Ca(H),K(B,L,H,Z)}if(yt(H)||j(H))return ve!==null?null:J(B,L,H,Z,null);if(typeof H.then=="function")return K(B,L,Rh(H),Z);if(H.$$typeof===X)return K(B,L,Th(B,H),Z);Ch(B,H)}return null}function $(B,L,H,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(H)||null,T(L,B,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return B=B.get(Z.key===null?H:Z.key)||null,M(L,B,Z,ve);case z:return B=B.get(Z.key===null?H:Z.key)||null,G(L,B,Z,ve);case S:return Z=Ca(Z),$(B,L,H,Z,ve)}if(yt(Z)||j(Z))return B=B.get(H)||null,J(L,B,Z,ve,null);if(typeof Z.then=="function")return $(B,L,H,Rh(Z),ve);if(Z.$$typeof===X)return $(B,L,H,Th(L,Z),ve);Ch(L,Z)}return null}function pe(B,L,H,Z){for(var ve=null,Ge=null,ge=L,De=L=0,Le=null;ge!==null&&De<H.length;De++){ge.index>De?(Le=ge,ge=null):Le=ge.sibling;var Qe=K(B,ge,H[De],Z);if(Qe===null){ge===null&&(ge=Le);break}n&&ge&&Qe.alternate===null&&r(B,ge),L=d(Qe,L,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe,ge=Le}if(De===H.length)return a(B,ge),ze&&dr(B,De),ve;if(ge===null){for(;De<H.length;De++)ge=ee(B,H[De],Z),ge!==null&&(L=d(ge,L,De),Ge===null?ve=ge:Ge.sibling=ge,Ge=ge);return ze&&dr(B,De),ve}for(ge=l(ge);De<H.length;De++)Le=$(ge,B,De,H[De],Z),Le!==null&&(n&&Le.alternate!==null&&ge.delete(Le.key===null?De:Le.key),L=d(Le,L,De),Ge===null?ve=Le:Ge.sibling=Le,Ge=Le);return n&&ge.forEach(function(Es){return r(B,Es)}),ze&&dr(B,De),ve}function be(B,L,H,Z){if(H==null)throw Error(s(151));for(var ve=null,Ge=null,ge=L,De=L=0,Le=null,Qe=H.next();ge!==null&&!Qe.done;De++,Qe=H.next()){ge.index>De?(Le=ge,ge=null):Le=ge.sibling;var Es=K(B,ge,Qe.value,Z);if(Es===null){ge===null&&(ge=Le);break}n&&ge&&Es.alternate===null&&r(B,ge),L=d(Es,L,De),Ge===null?ve=Es:Ge.sibling=Es,Ge=Es,ge=Le}if(Qe.done)return a(B,ge),ze&&dr(B,De),ve;if(ge===null){for(;!Qe.done;De++,Qe=H.next())Qe=ee(B,Qe.value,Z),Qe!==null&&(L=d(Qe,L,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return ze&&dr(B,De),ve}for(ge=l(ge);!Qe.done;De++,Qe=H.next())Qe=$(ge,B,De,Qe.value,Z),Qe!==null&&(n&&Qe.alternate!==null&&ge.delete(Qe.key===null?De:Qe.key),L=d(Qe,L,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return n&&ge.forEach(function(iC){return r(B,iC)}),ze&&dr(B,De),ve}function st(B,L,H,Z){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var ve=H.key;L!==null;){if(L.key===ve){if(ve=H.type,ve===V){if(L.tag===7){a(B,L.sibling),Z=f(L,H.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Ca(ve)===L.type){a(B,L.sibling),Z=f(L,H.props),gu(Z,H),Z.return=B,B=Z;break e}a(B,L);break}else r(B,L);L=L.sibling}H.type===V?(Z=Ta(H.props.children,B.mode,Z,H.key),Z.return=B,B=Z):(Z=vh(H.type,H.key,H.props,null,B.mode,Z),gu(Z,H),Z.return=B,B=Z)}return v(B);case z:e:{for(ve=H.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(B,L.sibling),Z=f(L,H.children||[]),Z.return=B,B=Z;break e}else{a(B,L);break}else r(B,L);L=L.sibling}Z=am(H,B.mode,Z),Z.return=B,B=Z}return v(B);case S:return H=Ca(H),st(B,L,H,Z)}if(yt(H))return pe(B,L,H,Z);if(j(H)){if(ve=j(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),be(B,L,H,Z)}if(typeof H.then=="function")return st(B,L,Rh(H),Z);if(H.$$typeof===X)return st(B,L,Th(B,H),Z);Ch(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(B,L.sibling),Z=f(L,H),Z.return=B,B=Z):(a(B,L),Z=sm(H,B.mode,Z),Z.return=B,B=Z),v(B)):a(B,L)}return function(B,L,H,Z){try{pu=0;var ve=st(B,L,H,Z);return Vo=null,ve}catch(ge){if(ge===Lo||ge===Ah)throw ge;var Ge=Mn(29,ge,null,B.mode);return Ge.lanes=Z,Ge.return=B,Ge}finally{}}}var xa=iv(!0),rv=iv(!1),is=!1;function _m(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function rs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ss(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=_h(n),B_(n,null,a),r}return yh(n,l,r,a),_h(n)}function yu(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Hl(n,a)}}function Em(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var bm=!1;function _u(){if(bm){var n=Po;if(n!==null)throw n}}function vu(n,r,a,l){bm=!1;var f=n.updateQueue;is=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var M=T,G=M.next;M.next=null,v===null?d=G:v.next=G,v=M;var J=n.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==v&&(T===null?J.firstBaseUpdate=G:T.next=G,J.lastBaseUpdate=M))}if(d!==null){var ee=f.baseState;v=0,J=G=M=null,T=d;do{var K=T.lane&-536870913,$=K!==T.lane;if($?(Pe&K)===K:(l&K)===K){K!==0&&K===ko&&(bm=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=n,be=T;K=r;var st=a;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ee=pe.call(st,ee,K);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,K=typeof pe=="function"?pe.call(st,ee,K):pe,K==null)break e;ee=b({},ee,K);break e;case 2:is=!0}}K=T.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(G=J=$,M=ee):J=J.next=$,v|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;$=T,T=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(M=ee),f.baseState=M,f.firstBaseUpdate=G,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),cs|=v,n.lanes=v,n.memoizedState=ee}}function sv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function av(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)sv(a[n],r)}var Uo=U(null),Ih=U(0);function ov(n,r){n=Ar,ue(Ih,n),ue(Uo,r),Ar=n|r.baseLanes}function Tm(){ue(Ih,Ar),ue(Uo,Uo.current)}function Sm(){Ar=Ih.current,ne(Uo),ne(Ih)}var kn=U(null),Jn=null;function as(n){var r=n.alternate;ue(wt,wt.current&1),ue(kn,n),Jn===null&&(r===null||Uo.current!==null||r.memoizedState!==null)&&(Jn=n)}function Am(n){ue(wt,wt.current),ue(kn,n),Jn===null&&(Jn=n)}function lv(n){n.tag===22?(ue(wt,wt.current),ue(kn,n),Jn===null&&(Jn=n)):os()}function os(){ue(wt,wt.current),ue(kn,kn.current)}function Pn(n){ne(kn),Jn===n&&(Jn=null),ne(wt)}var wt=U(0);function xh(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Np(a)||Dp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gr=0,xe=null,it=null,kt=null,Nh=!1,jo=!1,Na=!1,Dh=0,Eu=0,zo=null,K1=0;function _t(){throw Error(s(321))}function wm(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!On(n[a],r[a]))return!1;return!0}function Rm(n,r,a,l,f,d){return gr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=n===null||n.memoizedState===null?Gv:Bm,Na=!1,d=a(l,f),Na=!1,jo&&(d=cv(r,a,l,f)),uv(n),d}function uv(n){q.H=Su;var r=it!==null&&it.next!==null;if(gr=0,kt=it=xe=null,Nh=!1,Eu=0,zo=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&bh(n)&&(Pt=!0))}function cv(n,r,a,l){xe=n;var f=0;do{if(jo&&(zo=null),Eu=0,jo=!1,25<=f)throw Error(s(301));if(f+=1,kt=it=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Qv,d=r(a,l)}while(jo);return d}function Y1(){var n=q.H,r=n.useState()[0];return r=typeof r.then=="function"?bu(r):r,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(xe.flags|=1024),r}function Cm(){var n=Dh!==0;return Dh=0,n}function Im(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function xm(n){if(Nh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Nh=!1}gr=0,kt=it=xe=null,jo=!1,Eu=Dh=0,zo=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?xe.memoizedState=kt=n:kt=kt.next=n,kt}function Rt(){if(it===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var r=kt===null?xe.memoizedState:kt.next;if(r!==null)kt=r,it=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?xe.memoizedState=kt=n:kt=kt.next=n}return kt}function Oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(n){var r=Eu;return Eu+=1,zo===null&&(zo=[]),n=ev(zo,n,r),r=xe,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Gv:Bm),n}function Mh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bu(n);if(n.$$typeof===X)return en(n)}throw Error(s(438,String(n)))}function Nm(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Oh(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=D;return r.index++,a}function yr(n,r){return typeof r=="function"?r(n):r}function kh(n){var r=Rt();return Dm(r,it,n)}function Dm(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=v=null,M=null,G=r,J=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Pe&ee)===ee:(gr&ee)===ee){var K=G.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===ko&&(J=!0);else if((gr&K)===K){G=G.next,K===ko&&(J=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(T=M=ee,v=d):M=M.next=ee,xe.lanes|=K,cs|=K;ee=G.action,Na&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else K={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(T=M=K,v=d):M=M.next=K,xe.lanes|=ee,cs|=ee;G=G.next}while(G!==null&&G!==r);if(M===null?v=d:M.next=T,!On(d,n.memoizedState)&&(Pt=!0,J&&(a=Po,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Om(n){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);On(d,r.memoizedState)||(Pt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function hv(n,r,a){var l=xe,f=Rt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!On((it||f).memoizedState,a);if(v&&(f.memoizedState=a,Pt=!0),f=f.queue,Pm(mv.bind(null,l,f,n),[n]),f.getSnapshot!==r||v||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Bo(9,{destroy:void 0},dv.bind(null,l,f,a,r),null),at===null)throw Error(s(349));d||(gr&127)!==0||fv(l,r,a)}return a}function fv(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Oh(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function dv(n,r,a,l){r.value=a,r.getSnapshot=l,pv(r)&&gv(n)}function mv(n,r,a){return a(function(){pv(r)&&gv(n)})}function pv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!On(n,a)}catch{return!0}}function gv(n){var r=ba(n,2);r!==null&&wn(r,n,2)}function Mm(n){var r=mn();if(typeof n=="function"){var a=n;if(n=a(),Na){Fn(!0);try{a()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:n},r}function yv(n,r,a,l){return n.baseState=a,Dm(n,it,typeof l=="function"?l:yr)}function $1(n,r,a,l,f){if(Vh(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,_v(r,d)):(d.next=a.next,r.pending=a.next=d)}}function _v(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=q.T,v={};q.T=v;try{var T=a(f,l),M=q.S;M!==null&&M(v,T),vv(n,r,T)}catch(G){km(n,r,G)}finally{d!==null&&v.types!==null&&(d.types=v.types),q.T=d}}else try{d=a(f,l),vv(n,r,d)}catch(G){km(n,r,G)}}function vv(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ev(n,r,l)},function(l){return km(n,r,l)}):Ev(n,r,a)}function Ev(n,r,a){r.status="fulfilled",r.value=a,bv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,_v(n,a)))}function km(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,bv(r),r=r.next;while(r!==l)}n.action=null}function bv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Tv(n,r){return r}function Sv(n,r){if(ze){var a=at.formState;if(a!==null){e:{var l=xe;if(ze){if(lt){t:{for(var f=lt,d=Wn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){lt=Zn(f.nextSibling),l=f.data==="F!";break e}}ts(l)}l=!1}l&&(r=a[0])}}return a=mn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:r},a.queue=l,a=Fv.bind(null,xe,l),l.dispatch=a,l=Mm(!1),d=zm.bind(null,xe,!1,l.queue),l=mn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=$1.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Av(n){var r=Rt();return wv(r,it,n)}function wv(n,r,a){if(r=Dm(n,r,Tv)[0],n=kh(yr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=bu(r)}catch(v){throw v===Lo?Ah:v}else l=r;r=Rt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Bo(9,{destroy:void 0},X1.bind(null,f,a),null)),[l,d,n]}function X1(n,r){n.action=r}function Rv(n){var r=Rt(),a=it;if(a!==null)return wv(r,a,n);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Bo(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Oh(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Cv(){return Rt().memoizedState}function Ph(n,r,a,l){var f=mn();xe.flags|=n,f.memoizedState=Bo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Lh(n,r,a,l){var f=Rt();l=l===void 0?null:l;var d=f.memoizedState.inst;it!==null&&l!==null&&wm(l,it.memoizedState.deps)?f.memoizedState=Bo(r,d,a,l):(xe.flags|=n,f.memoizedState=Bo(1|r,d,a,l))}function Iv(n,r){Ph(8390656,8,n,r)}function Pm(n,r){Lh(2048,8,n,r)}function W1(n){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=Oh(),xe.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function xv(n){var r=Rt().memoizedState;return W1({ref:r,nextImpl:n}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Nv(n,r){return Lh(4,2,n,r)}function Dv(n,r){return Lh(4,4,n,r)}function Ov(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Mv(n,r,a){a=a!=null?a.concat([n]):null,Lh(4,4,Ov.bind(null,r,n),a)}function Lm(){}function kv(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&wm(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Pv(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&wm(r,l[1]))return l[0];if(l=n(),Na){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,r],l}function Vm(n,r,a){return a===void 0||(gr&1073741824)!==0&&(Pe&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=L0(),xe.lanes|=n,cs|=n,a)}function Lv(n,r,a,l){return On(a,r)?a:Uo.current!==null?(n=Vm(n,a,l),On(n,r)||(Pt=!0),n):(gr&42)===0||(gr&1073741824)!==0&&(Pe&261930)===0?(Pt=!0,n.memoizedState=a):(n=L0(),xe.lanes|=n,cs|=n,r)}function Vv(n,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=q.T,T={};q.T=T,zm(n,!1,r,a);try{var M=f(),G=q.S;if(G!==null&&G(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=Q1(M,l);Tu(n,r,J,Un(n))}else Tu(n,r,l,Un(n))}catch(ee){Tu(n,r,{then:function(){},status:"rejected",reason:ee},Un())}finally{ae.p=d,v!==null&&T.types!==null&&(v.types=T.types),q.T=v}}function J1(){}function Um(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Uv(n).queue;Vv(n,f,r,ye,a===null?J1:function(){return jv(n),a(l)})}function Uv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function jv(n){var r=Uv(n);r.next===null&&(r=n.alternate.memoizedState),Tu(n,r.next.queue,{},Un())}function jm(){return en(ju)}function zv(){return Rt().memoizedState}function Bv(){return Rt().memoizedState}function Z1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Un();n=rs(a);var l=ss(r,n,a);l!==null&&(wn(l,r,a),yu(l,r,a)),r={cache:mm()},n.payload=r;return}r=r.return}}function eR(n,r,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vh(n)?qv(r,a):(a=im(n,r,a,l),a!==null&&(wn(a,n,l),Hv(a,r,l)))}function Fv(n,r,a){var l=Un();Tu(n,r,a,l)}function Tu(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vh(n))qv(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,On(T,v))return yh(n,r,f,0),at===null&&gh(),!1}catch{}finally{}if(a=im(n,r,f,l),a!==null)return wn(a,n,l),Hv(a,r,l),!0}return!1}function zm(n,r,a,l){if(l={lane:2,revertLane:_p(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vh(n)){if(r)throw Error(s(479))}else r=im(n,a,l,2),r!==null&&wn(r,n,2)}function Vh(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function qv(n,r){jo=Nh=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Hv(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Hl(n,a)}}var Su={readContext:en,use:Mh,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Su.useEffectEvent=_t;var Gv={readContext:en,use:Mh,useCallback:function(n,r){return mn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:Iv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Ph(4194308,4,Ov.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Ph(4194308,4,n,r)},useInsertionEffect:function(n,r){Ph(4,2,n,r)},useMemo:function(n,r){var a=mn();r=r===void 0?null:r;var l=n();if(Na){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=mn();if(a!==void 0){var f=a(r);if(Na){Fn(!0);try{a(r)}finally{Fn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=eR.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=mn();return n={current:n},r.memoizedState=n},useState:function(n){n=Mm(n);var r=n.queue,a=Fv.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Lm,useDeferredValue:function(n,r){var a=mn();return Vm(a,n,r)},useTransition:function(){var n=Mm(!1);return n=Vv.bind(null,xe,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,f=mn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(Pe&127)!==0||fv(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Iv(mv.bind(null,l,d,n),[n]),l.flags|=2048,Bo(9,{destroy:void 0},dv.bind(null,l,d,a,r),null),a},useId:function(){var n=mn(),r=at.identifierPrefix;if(ze){var a=Gi,l=Hi;a=(l&~(1<<32-St(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Dh++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=K1++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:jm,useFormState:Sv,useActionState:Sv,useOptimistic:function(n){var r=mn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zm.bind(null,xe,!0,a),a.dispatch=r,[n,r]},useMemoCache:Nm,useCacheRefresh:function(){return mn().memoizedState=Z1.bind(null,xe)},useEffectEvent:function(n){var r=mn(),a={impl:n};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bm={readContext:en,use:Mh,useCallback:kv,useContext:en,useEffect:Pm,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Dv,useMemo:Pv,useReducer:kh,useRef:Cv,useState:function(){return kh(yr)},useDebugValue:Lm,useDeferredValue:function(n,r){var a=Rt();return Lv(a,it.memoizedState,n,r)},useTransition:function(){var n=kh(yr)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:bu(n),r]},useSyncExternalStore:hv,useId:zv,useHostTransitionStatus:jm,useFormState:Av,useActionState:Av,useOptimistic:function(n,r){var a=Rt();return yv(a,it,n,r)},useMemoCache:Nm,useCacheRefresh:Bv};Bm.useEffectEvent=xv;var Qv={readContext:en,use:Mh,useCallback:kv,useContext:en,useEffect:Pm,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Dv,useMemo:Pv,useReducer:Om,useRef:Cv,useState:function(){return Om(yr)},useDebugValue:Lm,useDeferredValue:function(n,r){var a=Rt();return it===null?Vm(a,n,r):Lv(a,it.memoizedState,n,r)},useTransition:function(){var n=Om(yr)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:bu(n),r]},useSyncExternalStore:hv,useId:zv,useHostTransitionStatus:jm,useFormState:Rv,useActionState:Rv,useOptimistic:function(n,r){var a=Rt();return it!==null?yv(a,it,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:Bv};Qv.useEffectEvent=xv;function Fm(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var qm={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Un(),f=rs(l);f.payload=r,a!=null&&(f.callback=a),r=ss(n,f,l),r!==null&&(wn(r,n,l),yu(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Un(),f=rs(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ss(n,f,l),r!==null&&(wn(r,n,l),yu(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Un(),l=rs(a);l.tag=2,r!=null&&(l.callback=r),r=ss(n,l,a),r!==null&&(wn(r,n,a),yu(r,n,a))}};function Kv(n,r,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!uu(a,l)||!uu(f,d):!0}function Yv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&qm.enqueueReplaceState(r,r.state,null)}function Da(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=b({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function $v(n){ph(n)}function Xv(n){console.error(n)}function Wv(n){ph(n)}function Uh(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Jv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hm(n,r,a){return a=rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Uh(n,r)},a}function Zv(n){return n=rs(n),n.tag=3,n}function e0(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Jv(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Jv(r,a,l),typeof f!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function tR(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Mo(r,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?Xh():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===wh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),pp(n,l,f)),!1;case 22:return a.flags|=65536,l===wh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),pp(n,l,f)),!1}throw Error(s(435,a.tag))}return pp(n,l,f),Xh(),!1}if(ze)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==um&&(n=Error(s(422),{cause:l}),fu(Yn(n,a)))):(l!==um&&(r=Error(s(423),{cause:l}),fu(Yn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Yn(l,a),f=Hm(n.stateNode,l,f),Em(n,f),vt!==4&&(vt=2)),!1;var d=Error(s(520),{cause:l});if(d=Yn(d,a),Du===null?Du=[d]:Du.push(d),vt!==4&&(vt=2),r===null)return!0;l=Yn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Hm(a.stateNode,l,n),Em(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hs===null||!hs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zv(f),e0(f,n,a,l),Em(a,f),!1}a=a.return}while(a!==null);return!1}var Gm=Error(s(461)),Pt=!1;function tn(n,r,a,l){r.child=n===null?rv(r,null,a,l):xa(r,n.child,a,l)}function t0(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return wa(r),l=Rm(n,r,a,v,d,f),T=Cm(),n!==null&&!Pt?(Im(n,r,f),_r(n,r,f)):(ze&&T&&om(r),r.flags|=1,tn(n,r,l,f),r.child)}function n0(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!rm(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,i0(n,r,d,l,f)):(n=vh(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Zm(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:uu,a(v,l)&&n.ref===r.ref)return _r(n,r,f)}return r.flags|=1,n=fr(d,l),n.ref=r.ref,n.return=r,r.child=n}function i0(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(uu(d,l)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=l=d,Zm(n,f))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,_r(n,r,f)}return Qm(n,r,a,l,f)}function r0(n,r,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return s0(n,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Sh(r,d!==null?d.cachePool:null),d!==null?ov(r,d):Tm(),lv(r);else return l=r.lanes=536870912,s0(n,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Sh(r,d.cachePool),ov(r,d),os(),r.memoizedState=null):(n!==null&&Sh(r,null),Tm(),os());return tn(n,r,f,a),r.child}function Au(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function s0(n,r,a,l,f){var d=gm();return d=d===null?null:{parent:Mt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Sh(r,null),Tm(),lv(r),n!==null&&Mo(n,r,l,!0),r.childLanes=f,null}function jh(n,r){return r=Bh({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function a0(n,r,a){return xa(r,n.child,null,a),n=jh(r,r.pendingProps),n.flags|=2,Pn(r),r.memoizedState=null,n}function nR(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(ze){if(l.mode==="hidden")return n=jh(r,l),r.lanes=536870912,Au(null,n);if(Am(r),(n=lt)?(n=_E(n,Wn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Zr!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=q_(n),a.return=r,r.child=a,Zt=r,lt=null)):n=null,n===null)throw ts(r);return r.lanes=536870912,null}return jh(r,l)}var d=n.memoizedState;if(d!==null){var v=d.dehydrated;if(Am(r),f)if(r.flags&256)r.flags&=-257,r=a0(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||Mo(n,r,a,!1),f=(a&n.childLanes)!==0,Pt||f){if(l=at,l!==null&&(v=Gl(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ba(n,v),wn(l,n,v),Gm;Xh(),r=a0(n,r,a)}else n=d.treeContext,lt=Zn(v.nextSibling),Zt=r,ze=!0,es=null,Wn=!1,n!==null&&Q_(r,n),r=jh(r,l),r.flags|=4096;return r}return n=fr(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function zh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Qm(n,r,a,l,f){return wa(r),a=Rm(n,r,a,l,void 0,f),l=Cm(),n!==null&&!Pt?(Im(n,r,f),_r(n,r,f)):(ze&&l&&om(r),r.flags|=1,tn(n,r,a,f),r.child)}function o0(n,r,a,l,f,d){return wa(r),r.updateQueue=null,a=cv(r,l,a,f),uv(n),l=Cm(),n!==null&&!Pt?(Im(n,r,d),_r(n,r,d)):(ze&&l&&om(r),r.flags|=1,tn(n,r,a,d),r.child)}function l0(n,r,a,l,f){if(wa(r),r.stateNode===null){var d=xo,v=a.contextType;typeof v=="object"&&v!==null&&(d=en(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qm,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_m(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?en(v):xo,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Fm(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&qm.enqueueReplaceState(d,d.state,null),vu(r,l,d,f),_u(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,M=Da(a,T);d.props=M;var G=d.context,J=a.contextType;v=xo,typeof J=="object"&&J!==null&&(v=en(J));var ee=a.getDerivedStateFromProps;J=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==v)&&Yv(r,d,l,v),is=!1;var K=r.memoizedState;d.state=K,vu(r,l,d,f),_u(),G=r.memoizedState,T||K!==G||is?(typeof ee=="function"&&(Fm(r,a,ee,l),G=r.memoizedState),(M=is||Kv(r,a,M,l,K,G,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vm(n,r),v=r.memoizedProps,J=Da(a,v),d.props=J,ee=r.pendingProps,K=d.context,G=a.contextType,M=xo,typeof G=="object"&&G!==null&&(M=en(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||K!==M)&&Yv(r,d,l,M),is=!1,K=r.memoizedState,d.state=K,vu(r,l,d,f),_u();var $=r.memoizedState;v!==ee||K!==$||is||n!==null&&n.dependencies!==null&&bh(n.dependencies)?(typeof T=="function"&&(Fm(r,a,T,l),$=r.memoizedState),(J=is||Kv(r,a,J,l,K,$,M)||n!==null&&n.dependencies!==null&&bh(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,M)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=M,l=J):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,zh(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=xa(r,n.child,null,f),r.child=xa(r,null,a,f)):tn(n,r,a,f),r.memoizedState=d.state,n=r.child):n=_r(n,r,f),n}function u0(n,r,a,l){return Sa(),r.flags|=256,tn(n,r,a,l),r.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ym(n){return{baseLanes:n,cachePool:J_()}}function $m(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Vn),n}function c0(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(wt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(ze){if(f?as(r):os(),(n=lt)?(n=_E(n,Wn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Zr!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=q_(n),a.return=r,r.child=a,Zt=r,lt=null)):n=null,n===null)throw ts(r);return Dp(n)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(os(),f=r.mode,T=Bh({mode:"hidden",children:T},f),l=Ta(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=Ym(a),l.childLanes=$m(n,v,a),r.memoizedState=Km,Au(null,l)):(as(r),Xm(r,T))}var M=n.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(d)r.flags&256?(as(r),r.flags&=-257,r=Wm(n,r,a)):r.memoizedState!==null?(os(),r.child=n.child,r.flags|=128,r=null):(os(),T=l.fallback,f=r.mode,l=Bh({mode:"visible",children:l.children},f),T=Ta(T,f,a,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,xa(r,n.child,null,a),l=r.child,l.memoizedState=Ym(a),l.childLanes=$m(n,v,a),r.memoizedState=Km,r=Au(null,l));else if(as(r),Dp(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,fu({value:l,source:null,stack:null}),r=Wm(n,r,a)}else if(Pt||Mo(n,r,a,!1),v=(a&n.childLanes)!==0,Pt||v){if(v=at,v!==null&&(l=Gl(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,ba(n,l),wn(v,n,l),Gm;Np(T)||Xh(),r=Wm(n,r,a)}else Np(T)?(r.flags|=192,r.child=n.child,r=null):(n=M.treeContext,lt=Zn(T.nextSibling),Zt=r,ze=!0,es=null,Wn=!1,n!==null&&Q_(r,n),r=Xm(r,l.children),r.flags|=4096);return r}return f?(os(),T=l.fallback,f=r.mode,M=n.child,G=M.sibling,l=fr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?T=fr(G,T):(T=Ta(T,f,a,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,Au(null,l),l=r.child,T=n.child.memoizedState,T===null?T=Ym(a):(f=T.cachePool,f!==null?(M=Mt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=J_(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=$m(n,v,a),r.memoizedState=Km,Au(n.child,l)):(as(r),a=n.child,n=a.sibling,a=fr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Xm(n,r){return r=Bh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Bh(n,r){return n=Mn(22,n,null,r),n.lanes=0,n}function Wm(n,r,a){return xa(r,n.child,null,a),n=Xm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function h0(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),fm(n.return,r,a)}function Jm(n,r,a,l,f,d){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function f0(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=wt.current,T=(v&2)!==0;if(T?(v=v&1|2,r.flags|=128):v&=1,ue(wt,v),tn(n,r,l,a),l=ze?hu:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&h0(n,a,r);else if(n.tag===19)h0(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&xh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Jm(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&xh(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Jm(r,!0,a,null,d,l);break;case"together":Jm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function _r(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),cs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Mo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=fr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=fr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Zm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&bh(n)))}function iR(n,r,a){switch(r.tag){case 3:zt(r,r.stateNode.containerInfo),ns(r,Mt,n.memoizedState.cache),Sa();break;case 27:case 5:ia(r);break;case 4:zt(r,r.stateNode.containerInfo);break;case 10:ns(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Am(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(as(r),r.flags|=128,null):(a&r.child.childLanes)!==0?c0(n,r,a):(as(r),n=_r(n,r,a),n!==null?n.sibling:null);as(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Mo(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return f0(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(wt,wt.current),l)break;return null;case 22:return r.lanes=0,r0(n,r,a,r.pendingProps);case 24:ns(r,Mt,n.memoizedState.cache)}return _r(n,r,a)}function d0(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Zm(n,a)&&(r.flags&128)===0)return Pt=!1,iR(n,r,a);Pt=(n.flags&131072)!==0}else Pt=!1,ze&&(r.flags&1048576)!==0&&G_(r,hu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=Ca(r.elementType),r.type=n,typeof n=="function")rm(n)?(l=Da(n,l),r.tag=1,r=l0(null,r,n,l,a)):(r.tag=0,r=Qm(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===oe){r.tag=11,r=t0(null,r,n,l,a);break e}else if(f===N){r.tag=14,r=n0(null,r,n,l,a);break e}}throw r=Ke(n)||n,Error(s(306,r,""))}}return r;case 0:return Qm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Da(l,r.pendingProps),l0(n,r,l,f,a);case 3:e:{if(zt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,vm(n,r),vu(r,l,null,a);var v=r.memoizedState;if(l=v.cache,ns(r,Mt,l),l!==d.cache&&dm(r,[Mt],a,!0),_u(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=u0(n,r,l,a);break e}else if(l!==f){f=Yn(Error(s(424)),r),fu(f),r=u0(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(lt=Zn(n.firstChild),Zt=r,ze=!0,es=null,Wn=!0,a=rv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sa(),l===f){r=_r(n,r,a);break e}tn(n,r,l,a)}r=r.child}return r;case 26:return zh(n,r),n===null?(a=AE(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,n=r.pendingProps,l=rf(Ne.current).createElement(a),l[Nt]=r,l[Qt]=n,nn(l,a,n),Dt(l),r.stateNode=l):r.memoizedState=AE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ia(r),n===null&&ze&&(l=r.stateNode=bE(r.type,r.pendingProps,Ne.current),Zt=r,Wn=!0,f=lt,ps(r.type)?(Op=f,lt=Zn(l.firstChild)):lt=f),tn(n,r,r.pendingProps.children,a),zh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ze&&((f=l=lt)&&(l=MR(l,r.type,r.pendingProps,Wn),l!==null?(r.stateNode=l,Zt=r,lt=Zn(l.firstChild),Wn=!1,f=!0):f=!1),f||ts(r)),ia(r),f=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Cp(f,d)?l=null:v!==null&&Cp(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Rm(n,r,Y1,null,null,a),ju._currentValue=f),zh(n,r),tn(n,r,l,a),r.child;case 6:return n===null&&ze&&((n=a=lt)&&(a=kR(a,r.pendingProps,Wn),a!==null?(r.stateNode=a,Zt=r,lt=null,n=!0):n=!1),n||ts(r)),null;case 13:return c0(n,r,a);case 4:return zt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=xa(r,null,l,a):tn(n,r,l,a),r.child;case 11:return t0(n,r,r.type,r.pendingProps,a);case 7:return tn(n,r,r.pendingProps,a),r.child;case 8:return tn(n,r,r.pendingProps.children,a),r.child;case 12:return tn(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ns(r,r.type,l.value),tn(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,wa(r),f=en(f),l=l(f),r.flags|=1,tn(n,r,l,a),r.child;case 14:return n0(n,r,r.type,r.pendingProps,a);case 15:return i0(n,r,r.type,r.pendingProps,a);case 19:return f0(n,r,a);case 31:return nR(n,r,a);case 22:return r0(n,r,a,r.pendingProps);case 24:return wa(r),l=en(Mt),n===null?(f=gm(),f===null&&(f=at,d=mm(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},_m(r),ns(r,Mt,f)):((n.lanes&a)!==0&&(vm(n,r),vu(r,null,null,a),_u()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ns(r,Mt,l)):(l=d.cache,ns(r,Mt,l),l!==f.cache&&dm(r,[Mt],a,!0))),tn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function vr(n){n.flags|=4}function ep(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(z0())n.flags|=8192;else throw Ia=wh,ym}else n.flags&=-16777217}function m0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!xE(r))if(z0())n.flags|=8192;else throw Ia=wh,ym}function Fh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Yc():536870912,n.lanes|=r,Go|=r)}function wu(n,r){if(!ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function rR(n,r,a){var l=r.pendingProps;switch(lm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),pr(Mt),ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Oo(r)?vr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cm())),ut(r),null;case 26:var f=r.type,d=r.memoizedState;return n===null?(vr(r),d!==null?(ut(r),m0(r,d)):(ut(r),ep(r,f,null,l,a))):d?d!==n.memoizedState?(vr(r),ut(r),m0(r,d)):(ut(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&vr(r),ut(r),ep(r,f,n,l,a)),null;case 27:if(uo(r),a=Ne.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&vr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=de.current,Oo(r)?K_(r):(n=bE(f,l,a),r.stateNode=n,vr(r))}return ut(r),null;case 5:if(uo(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&vr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(d=de.current,Oo(r))K_(r);else{var v=rf(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Nt]=r,d[Qt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(nn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vr(r)}}return ut(r),ep(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&vr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ne.current,Oo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Nt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cE(n.nodeValue,a)),n||ts(r,!0)}else n=rf(n).createTextNode(l),n[Nt]=r,r.stateNode=n}return ut(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=Oo(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Nt]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),n=!1}else a=cm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Pn(r),r):(Pn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ut(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Oo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Nt]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=cm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Pn(r),r):(Pn(r),null)}return Pn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),Fh(r,r.updateQueue),ut(r),null);case 4:return ht(),n===null&&Tp(r.stateNode.containerInfo),ut(r),null;case 10:return pr(r.type),ut(r),null;case 19:if(ne(wt),l=r.memoizedState,l===null)return ut(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)wu(l,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=xh(n),d!==null){for(r.flags|=128,wu(l,!1),n=d.updateQueue,r.updateQueue=n,Fh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)F_(a,n),a=a.sibling;return ue(wt,wt.current&1|2),ze&&dr(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&fn()>Kh&&(r.flags|=128,f=!0,wu(l,!1),r.lanes=4194304)}else{if(!f)if(n=xh(d),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Fh(r,n),wu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ut(r),null}else 2*fn()-l.renderingStartTime>Kh&&a!==536870912&&(r.flags|=128,f=!0,wu(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(n=l.last,n!==null?n.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=fn(),n.sibling=null,a=wt.current,ue(wt,f?a&1|2:a&1),ze&&dr(r,l.treeForkCount),n):(ut(r),null);case 22:case 23:return Pn(r),Sm(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Fh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ne(Ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),pr(Mt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sR(n,r){switch(lm(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return pr(Mt),ht(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return uo(r),null;case 31:if(r.memoizedState!==null){if(Pn(r),r.alternate===null)throw Error(s(340));Sa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Pn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Sa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ne(wt),null;case 4:return ht(),null;case 10:return pr(r.type),null;case 22:case 23:return Pn(r),Sm(),n!==null&&ne(Ra),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return pr(Mt),null;case 25:return null;default:return null}}function p0(n,r){switch(lm(r),r.tag){case 3:pr(Mt),ht();break;case 26:case 27:case 5:uo(r);break;case 4:ht();break;case 31:r.memoizedState!==null&&Pn(r);break;case 13:Pn(r);break;case 19:ne(wt);break;case 10:pr(r.type);break;case 22:case 23:Pn(r),Sm(),n!==null&&ne(Ra);break;case 24:pr(Mt)}}function Ru(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(r,r.return,T)}}function ls(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var M=a,G=T;try{G()}catch(J){tt(f,M,J)}}}l=l.next}while(l!==d)}}catch(J){tt(r,r.return,J)}}function g0(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{av(r,a)}catch(l){tt(n,n.return,l)}}}function y0(n,r,a){a.props=Da(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,r,l)}}function Cu(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){tt(n,r,f)}}function Qi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,r,f)}else a.current=null}function _0(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function tp(n,r,a){try{var l=n.stateNode;CR(l,n.type,a,r),l[Qt]=r}catch(f){tt(n,n.return,f)}}function v0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ps(n.type)||n.tag===4}function np(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||v0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ps(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ip(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=li));else if(l!==4&&(l===27&&ps(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(ip(n,r,a),n=n.sibling;n!==null;)ip(n,r,a),n=n.sibling}function qh(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&ps(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(qh(n,r,a),n=n.sibling;n!==null;)qh(n,r,a),n=n.sibling}function E0(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,l,a),r[Nt]=n,r[Qt]=a}catch(d){tt(n,n.return,d)}}var Er=!1,Lt=!1,rp=!1,b0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function aR(n,r){if(n=n.containerInfo,wp=hf,n=M_(n),Wd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,M=-1,G=0,J=0,ee=n,K=null;t:for(;;){for(var $;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==d||l!==0&&ee.nodeType!==3||(M=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),($=ee.firstChild)!==null;)K=ee,ee=$;for(;;){if(ee===n)break t;if(K===a&&++G===f&&(T=v),K===d&&++J===l&&(M=v),($=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=$}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rp={focusedElem:n,selectionRange:a},hf=!1,Yt=r;Yt!==null;)if(r=Yt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Yt=n;else for(;Yt!==null;){switch(r=Yt,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Da(a.type,f);n=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){tt(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)xp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Yt=n;break}Yt=r.return}}function T0(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(n,a),l&4&&Ru(5,a);break;case 1:if(Tr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){tt(a,a.return,v)}else{var f=Da(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&g0(a),l&512&&Cu(a,a.return);break;case 3:if(Tr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{av(n,r)}catch(v){tt(a,a.return,v)}}break;case 27:r===null&&l&4&&E0(a);case 26:case 5:Tr(n,a),r===null&&l&4&&_0(a),l&512&&Cu(a,a.return);break;case 12:Tr(n,a);break;case 31:Tr(n,a),l&4&&w0(n,a);break;case 13:Tr(n,a),l&4&&R0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=pR.bind(null,a),PR(n,a))));break;case 22:if(l=a.memoizedState!==null||Er,!l){r=r!==null&&r.memoizedState!==null||Lt,f=Er;var d=Lt;Er=l,(Lt=r)&&!d?Sr(n,a,(a.subtreeFlags&8772)!==0):Tr(n,a),Er=f,Lt=d}break;case 30:break;default:Tr(n,a)}}function S0(n){var r=n.alternate;r!==null&&(n.alternate=null,S0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&po(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,bn=!1;function br(n,r,a){for(a=a.child;a!==null;)A0(n,r,a),a=a.sibling}function A0(n,r,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ri,a)}catch{}switch(a.tag){case 26:Lt||Qi(a,r),br(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Qi(a,r);var l=dt,f=bn;ps(a.type)&&(dt=a.stateNode,bn=!1),br(n,r,a),Lu(a.stateNode),dt=l,bn=f;break;case 5:Lt||Qi(a,r);case 6:if(l=dt,f=bn,dt=null,br(n,r,a),dt=l,bn=f,dt!==null)if(bn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(d){tt(a,r,d)}else try{dt.removeChild(a.stateNode)}catch(d){tt(a,r,d)}break;case 18:dt!==null&&(bn?(n=dt,gE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Zo(n)):gE(dt,a.stateNode));break;case 4:l=dt,f=bn,dt=a.stateNode.containerInfo,bn=!0,br(n,r,a),dt=l,bn=f;break;case 0:case 11:case 14:case 15:ls(2,a,r),Lt||ls(4,a,r),br(n,r,a);break;case 1:Lt||(Qi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y0(a,r,l)),br(n,r,a);break;case 21:br(n,r,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,br(n,r,a),Lt=l;break;default:br(n,r,a)}}function w0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Zo(n)}catch(a){tt(r,r.return,a)}}}function R0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zo(n)}catch(a){tt(r,r.return,a)}}function oR(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new b0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new b0),r;default:throw Error(s(435,n.tag))}}function Hh(n,r){var a=oR(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=gR.bind(null,n,l);l.then(f,f)}})}function Tn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(ps(T.type)){dt=T.stateNode,bn=!1;break e}break;case 5:dt=T.stateNode,bn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(dt===null)throw Error(s(160));A0(d,v,f),dt=null,bn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)C0(r,n),r=r.sibling}var mi=null;function C0(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(r,n),Sn(n),l&4&&(ls(3,n,n.return),Ru(3,n),ls(5,n,n.return));break;case 1:Tn(r,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),l&64&&Er&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=mi;if(Tn(r,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Oi]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),nn(d,l,a),d[Nt]=n,Dt(d),l=d;break e;case"link":var v=CE("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),nn(d,l,a),f.head.appendChild(d);break;case"meta":if(v=CE("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),nn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=n,Dt(d),l=d}n.stateNode=l}else IE(f,n.type,n.stateNode);else n.stateNode=RE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?IE(f,n.type,n.stateNode):RE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&tp(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),a!==null&&l&4&&tp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,n),Sn(n),l&512&&(Lt||a===null||Qi(a,a.return)),n.flags&32){f=n.stateNode;try{En(f,"")}catch(pe){tt(n,n.return,pe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,tp(n,f,a!==null?a.memoizedProps:f)),l&1024&&(rp=!0);break;case 6:if(Tn(r,n),Sn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){tt(n,n.return,pe)}}break;case 3:if(of=null,f=mi,mi=sf(r.containerInfo),Tn(r,n),mi=f,Sn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zo(r.containerInfo)}catch(pe){tt(n,n.return,pe)}rp&&(rp=!1,I0(n));break;case 4:l=mi,mi=sf(n.stateNode.containerInfo),Tn(r,n),Sn(n),mi=l;break;case 12:Tn(r,n),Sn(n);break;case 31:Tn(r,n),Sn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hh(n,l)));break;case 13:Tn(r,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qh=fn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hh(n,l)));break;case 22:f=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,G=Er,J=Lt;if(Er=G||f,Lt=J||M,Tn(r,n),Lt=J,Er=G,Sn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||M||Er||Lt||Oa(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(d=M.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=M.stateNode;var ee=M.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pe){tt(M,M.return,pe)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pe){tt(M,M.return,pe)}}}else if(r.tag===18){if(a===null){M=r;try{var $=M.stateNode;f?yE($,!0):yE(M.stateNode,!1)}catch(pe){tt(M,M.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hh(n,a))));break;case 19:Tn(r,n),Sn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hh(n,l)));break;case 30:break;case 21:break;default:Tn(r,n),Sn(n)}}function Sn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(v0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=np(n);qh(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var T=np(n);qh(n,T,v);break;case 3:case 4:var M=a.stateNode.containerInfo,G=np(n);ip(n,G,M);break;default:throw Error(s(161))}}catch(J){tt(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function I0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;I0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Tr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)T0(n,r.alternate,r),r=r.sibling}function Oa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ls(4,r,r.return),Oa(r);break;case 1:Qi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&y0(r,r.return,a),Oa(r);break;case 27:Lu(r.stateNode);case 26:case 5:Qi(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}n=n.sibling}}function Sr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(f,d,a),Ru(4,d);break;case 1:if(Sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){tt(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)sv(M[f],T)}catch(G){tt(l,l.return,G)}}a&&v&64&&g0(d),Cu(d,d.return);break;case 27:E0(d);case 26:case 5:Sr(f,d,a),a&&l===null&&v&4&&_0(d),Cu(d,d.return);break;case 12:Sr(f,d,a);break;case 31:Sr(f,d,a),a&&v&4&&w0(f,d);break;case 13:Sr(f,d,a),a&&v&4&&R0(f,d);break;case 22:d.memoizedState===null&&Sr(f,d,a),Cu(d,d.return);break;case 30:break;default:Sr(f,d,a)}r=r.sibling}}function sp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&du(a))}function ap(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&du(n))}function pi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)x0(n,r,a,l),r=r.sibling}function x0(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(n,r,a,l),f&2048&&Ru(9,r);break;case 1:pi(n,r,a,l);break;case 3:pi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&du(n)));break;case 12:if(f&2048){pi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){tt(r,r.return,M)}}else pi(n,r,a,l);break;case 31:pi(n,r,a,l);break;case 13:pi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?pi(n,r,a,l):Iu(n,r):d._visibility&2?pi(n,r,a,l):(d._visibility|=2,Fo(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sp(v,r);break;case 24:pi(n,r,a,l),f&2048&&ap(r.alternate,r);break;default:pi(n,r,a,l)}}function Fo(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,v=r,T=a,M=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:Fo(d,v,T,M,f),Ru(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?Fo(d,v,T,M,f):Iu(d,v):(J._visibility|=2,Fo(d,v,T,M,f)),f&&G&2048&&sp(v.alternate,v);break;case 24:Fo(d,v,T,M,f),f&&G&2048&&ap(v.alternate,v);break;default:Fo(d,v,T,M,f)}r=r.sibling}}function Iu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Iu(a,l),f&2048&&sp(l.alternate,l);break;case 24:Iu(a,l),f&2048&&ap(l.alternate,l);break;default:Iu(a,l)}r=r.sibling}}var xu=8192;function qo(n,r,a){if(n.subtreeFlags&xu)for(n=n.child;n!==null;)N0(n,r,a),n=n.sibling}function N0(n,r,a){switch(n.tag){case 26:qo(n,r,a),n.flags&xu&&n.memoizedState!==null&&KR(a,mi,n.memoizedState,n.memoizedProps);break;case 5:qo(n,r,a);break;case 3:case 4:var l=mi;mi=sf(n.stateNode.containerInfo),qo(n,r,a),mi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=xu,xu=16777216,qo(n,r,a),xu=l):qo(n,r,a));break;default:qo(n,r,a)}}function D0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Nu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,M0(l,n)}D0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)O0(n),n=n.sibling}function O0(n){switch(n.tag){case 0:case 11:case 15:Nu(n),n.flags&2048&&ls(9,n,n.return);break;case 3:Nu(n);break;case 12:Nu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Gh(n)):Nu(n);break;default:Nu(n)}}function Gh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,M0(l,n)}D0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ls(8,r,r.return),Gh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Gh(r));break;default:Gh(r)}n=n.sibling}}function M0(n,r){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:ls(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:du(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=n;Yt!==null;){l=Yt;var f=l.sibling,d=l.return;if(S0(l),l===a){Yt=null;break e}if(f!==null){f.return=d,Yt=f;break e}Yt=d}}}var lR={getCacheForType:function(n){var r=en(Mt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return en(Mt).controller.signal}},uR=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Me=null,Pe=0,et=0,Ln=null,us=!1,Ho=!1,op=!1,Ar=0,vt=0,cs=0,Ma=0,lp=0,Vn=0,Go=0,Du=null,An=null,up=!1,Qh=0,k0=0,Kh=1/0,Yh=null,hs=null,Ft=0,fs=null,Qo=null,wr=0,cp=0,hp=null,P0=null,Ou=0,fp=null;function Un(){return($e&2)!==0&&Pe!==0?Pe&-Pe:q.T!==null?_p():$c()}function L0(){if(Vn===0)if((Pe&536870912)===0||ze){var n=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),Vn=n}else Vn=536870912;return n=kn.current,n!==null&&(n.flags|=32),Vn}function wn(n,r,a){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Ko(n,0),ds(n,Pe,Vn,!1)),oa(n,a),(($e&2)===0||n!==at)&&(n===at&&(($e&2)===0&&(Ma|=a),vt===4&&ds(n,Pe,Vn,!1)),Ki(n))}function V0(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||si(n,r),f=l?fR(n,r):mp(n,r,!0),d=l;do{if(f===0){Ho&&!l&&ds(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!cR(a)){f=mp(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;f=Du;var M=T.current.memoizedState.isDehydrated;if(M&&(Ko(T,v).flags|=256),v=mp(T,v,!1),v!==2){if(op&&!M){T.errorRecoveryDisabledLanes|=d,Ma|=d,f=4;break e}d=An,An=f,d!==null&&(An===null?An=d:An.push.apply(An,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Ko(n,0),ds(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ds(l,r,Vn,!us);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Qh+300-fn(),10<f)){if(ds(l,r,Vn,!us),xi(l,0,!0)!==0)break e;wr=r,l.timeoutHandle=mE(U0.bind(null,l,a,An,Yh,up,r,Vn,Ma,Go,us,d,"Throttled",-0,0),f);break e}U0(l,a,An,Yh,up,r,Vn,Ma,Go,us,d,null,-0,0)}}break}while(!0);Ki(n)}function U0(n,r,a,l,f,d,v,T,M,G,J,ee,K,$){if(n.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},N0(r,d,ee);var pe=(d&62914560)===d?Qh-fn():(d&4194048)===d?k0-fn():0;if(pe=YR(ee,pe),pe!==null){wr=d,n.cancelPendingCommit=pe(Q0.bind(null,n,r,d,a,l,f,v,T,M,J,ee,null,K,$)),ds(n,d,v,!G);return}}Q0(n,r,d,a,l,f,v,T,M)}function cR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!On(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ds(n,r,a,l){r&=~lp,r&=~Ma,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-St(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&la(n,a,r)}function $h(){return($e&6)===0?(Mu(0),!1):!0}function dp(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,mr=Aa=null,xm(n),Vo=null,pu=0,n=Me;for(;n!==null;)p0(n.alternate,n),n=n.return;Me=null}}function Ko(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,NR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),wr=0,dp(),at=n,Me=a=fr(n.current,null),Pe=r,et=0,Ln=null,us=!1,Ho=si(n,r),op=!1,Go=Vn=lp=Ma=cs=vt=0,An=Du=null,up=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-St(l),d=1<<f;r|=n[f],l&=~d}return Ar=r,gh(),a}function j0(n,r){xe=null,q.H=Su,r===Lo||r===Ah?(r=tv(),et=3):r===ym?(r=tv(),et=4):et=r===Gm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Me===null&&(vt=1,Uh(n,Yn(r,n.current)))}function z0(){var n=kn.current;return n===null?!0:(Pe&4194048)===Pe?Jn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?n===Jn:!1}function B0(){var n=q.H;return q.H=Su,n===null?Su:n}function F0(){var n=q.A;return q.A=lR,n}function Xh(){vt=4,us||(Pe&4194048)!==Pe&&kn.current!==null||(Ho=!0),(cs&134217727)===0&&(Ma&134217727)===0||at===null||ds(at,Pe,Vn,!1)}function mp(n,r,a){var l=$e;$e|=2;var f=B0(),d=F0();(at!==n||Pe!==r)&&(Yh=null,Ko(n,r)),r=!1;var v=vt;e:do try{if(et!==0&&Me!==null){var T=Me,M=Ln;switch(et){case 8:dp(),v=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var G=et;if(et=0,Ln=null,Yo(n,T,M,G),a&&Ho){v=0;break e}break;default:G=et,et=0,Ln=null,Yo(n,T,M,G)}}hR(),v=vt;break}catch(J){j0(n,J)}while(!0);return r&&n.shellSuspendCounter++,mr=Aa=null,$e=l,q.H=f,q.A=d,Me===null&&(at=null,Pe=0,gh()),v}function hR(){for(;Me!==null;)q0(Me)}function fR(n,r){var a=$e;$e|=2;var l=B0(),f=F0();at!==n||Pe!==r?(Yh=null,Kh=fn()+500,Ko(n,r)):Ho=si(n,r);e:do try{if(et!==0&&Me!==null){r=Me;var d=Ln;t:switch(et){case 1:et=0,Ln=null,Yo(n,r,d,1);break;case 2:case 9:if(Z_(d)){et=0,Ln=null,H0(r);break}r=function(){et!==2&&et!==9||at!==n||(et=7),Ki(n)},d.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Z_(d)?(et=0,Ln=null,H0(r)):(et=0,Ln=null,Yo(n,r,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(v?xE(v):T.stateNode.complete){et=0,Ln=null;var M=T.sibling;if(M!==null)Me=M;else{var G=T.return;G!==null?(Me=G,Wh(G)):Me=null}break t}}et=0,Ln=null,Yo(n,r,d,5);break;case 6:et=0,Ln=null,Yo(n,r,d,6);break;case 8:dp(),vt=6;break e;default:throw Error(s(462))}}dR();break}catch(J){j0(n,J)}while(!0);return mr=Aa=null,q.H=l,q.A=f,$e=a,Me!==null?0:(at=null,Pe=0,gh(),vt)}function dR(){for(;Me!==null&&!Hd();)q0(Me)}function q0(n){var r=d0(n.alternate,n,Ar);n.memoizedProps=n.pendingProps,r===null?Wh(n):Me=r}function H0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=o0(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=o0(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:xm(r);default:p0(a,r),r=Me=F_(r,Ar),r=d0(a,r,Ar)}n.memoizedProps=n.pendingProps,r===null?Wh(n):Me=r}function Yo(n,r,a,l){mr=Aa=null,xm(r),Vo=null,pu=0;var f=r.return;try{if(tR(n,f,r,a,Pe)){vt=1,Uh(n,Yn(a,n.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;vt=1,Uh(n,Yn(a,n.current)),Me=null;return}r.flags&32768?(ze||l===1?n=!0:Ho||(Pe&536870912)!==0?n=!1:(us=n=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),G0(r,n)):Wh(r)}function Wh(n){var r=n;do{if((r.flags&32768)!==0){G0(r,us);return}n=r.return;var a=rR(r.alternate,r,Ar);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);vt===0&&(vt=5)}function G0(n,r){do{var a=sR(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);vt=6,Me=null}function Q0(n,r,a,l,f,d,v,T,M){n.cancelPendingCommit=null;do Jh();while(Ft!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=nm,Kd(n,a,d,v,T,M),n===at&&(Me=at=null,Pe=0),Qo=r,fs=n,wr=a,cp=d,hp=f,P0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yR(qr,function(){return W0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,f=ae.p,ae.p=2,v=$e,$e|=4;try{aR(n,r,a)}finally{$e=v,ae.p=f,q.T=l}}Ft=1,K0(),Y0(),$0()}}function K0(){if(Ft===1){Ft=0;var n=fs,r=Qo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{C0(r,n);var d=Rp,v=M_(n.containerInfo),T=d.focusedElem,M=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&O_(T.ownerDocument.documentElement,T)){if(M!==null&&Wd(T)){var G=M.start,J=M.end;if(J===void 0&&(J=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(J,T.value.length);else{var ee=T.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var $=K.getSelection(),pe=T.textContent.length,be=Math.min(M.start,pe),st=M.end===void 0?be:Math.min(M.end,pe);!$.extend&&be>st&&(v=st,st=be,be=v);var B=D_(T,be),L=D_(T,st);if(B&&L&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var H=ee.createRange();H.setStart(B.node,B.offset),$.removeAllRanges(),be>st?($.addRange(H),$.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),$.addRange(H))}}}}for(ee=[],$=T;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}hf=!!wp,Rp=wp=null}finally{$e=f,ae.p=l,q.T=a}}n.current=r,Ft=2}}function Y0(){if(Ft===2){Ft=0;var n=fs,r=Qo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{T0(n,r.alternate,r)}finally{$e=f,ae.p=l,q.T=a}}Ft=3}}function $0(){if(Ft===4||Ft===3){Ft=0,Fc();var n=fs,r=Qo,a=wr,l=P0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,Qo=fs=null,X0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(hs=null),lr(a),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=q.T,f=ae.p,ae.p=2,q.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{q.T=r,ae.p=f}}(wr&3)!==0&&Jh(),Ki(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===fp?Ou++:(Ou=0,fp=n):Ou=0,Mu(0)}}function X0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,du(r)))}function Jh(){return K0(),Y0(),$0(),W0()}function W0(){if(Ft!==5)return!1;var n=fs,r=cp;cp=0;var a=lr(wr),l=q.T,f=ae.p;try{ae.p=32>a?32:a,q.T=null,a=hp,hp=null;var d=fs,v=wr;if(Ft=0,Qo=fs=null,wr=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,O0(d.current),x0(d,d.current,v,a),$e=T,Mu(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ri,d)}catch{}return!0}finally{ae.p=f,q.T=l,X0(n,r)}}function J0(n,r,a){r=Yn(a,r),r=Hm(n.stateNode,r,2),n=ss(n,r,2),n!==null&&(oa(n,2),Ki(n))}function tt(n,r,a){if(n.tag===3)J0(n,n,a);else for(;r!==null;){if(r.tag===3){J0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){n=Yn(a,n),a=Zv(2),l=ss(r,a,2),l!==null&&(e0(a,l,r,n),oa(l,2),Ki(l));break}}r=r.return}}function pp(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new uR;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(op=!0,f.add(a),n=mR.bind(null,n,r,a),r.then(n,n))}function mR(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(Pe&a)===a&&(vt===4||vt===3&&(Pe&62914560)===Pe&&300>fn()-Qh?($e&2)===0&&Ko(n,0):lp|=a,Go===Pe&&(Go=0)),Ki(n)}function Z0(n,r){r===0&&(r=Yc()),n=ba(n,r),n!==null&&(oa(n,r),Ki(n))}function pR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Z0(n,a)}function gR(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Z0(n,a)}function yR(n,r){return Bt(n,r)}var Zh=null,$o=null,gp=!1,ef=!1,yp=!1,ms=0;function Ki(n){n!==$o&&n.next===null&&($o===null?Zh=$o=n:$o=$o.next=n),ef=!0,gp||(gp=!0,vR())}function Mu(n,r){if(!yp&&ef){yp=!0;do for(var a=!1,l=Zh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-St(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iE(l,d))}else d=Pe,d=xi(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||si(l,d)||(a=!0,iE(l,d));l=l.next}while(a);yp=!1}}function _R(){eE()}function eE(){ef=gp=!1;var n=0;ms!==0&&xR()&&(n=ms);for(var r=fn(),a=null,l=Zh;l!==null;){var f=l.next,d=tE(l,r);d===0?(l.next=null,a===null?Zh=f:a.next=f,f===null&&($o=a)):(a=l,(n!==0||(d&3)!==0)&&(ef=!0)),l=f}Ft!==0&&Ft!==5||Mu(n),ms!==0&&(ms=0)}function tE(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-St(d),T=1<<v,M=f[v];M===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Qd(T,r)):M<=r&&(n.expiredLanes|=T),d&=~T}if(r=at,a=Pe,a=xi(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Fr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||si(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Fr(l),lr(a)){case 2:case 8:a=ql;break;case 32:a=qr;break;case 268435456:a=qc;break;default:a=qr}return l=nE.bind(null,n),a=Bt(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Fr(l),n.callbackPriority=2,n.callbackNode=null,2}function nE(n,r){if(Ft!==0&&Ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Jh()&&n.callbackNode!==a)return null;var l=Pe;return l=xi(n,n===at?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(V0(n,l,r),tE(n,fn()),n.callbackNode!=null&&n.callbackNode===a?nE.bind(null,n):null)}function iE(n,r){if(Jh())return null;V0(n,r,!0)}function vR(){DR(function(){($e&6)!==0?Bt(Fl,_R):eE()})}function _p(){if(ms===0){var n=ko;n===0&&(n=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),ms=n}return ms}function rE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vo(""+n)}function sE(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function ER(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=rE((f[Qt]||null).action),v=l.submitter;v&&(r=(r=v[Qt]||null)?rE(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new zi("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ms!==0){var M=v?sE(f,v):new FormData(f);Um(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(T.preventDefault(),M=v?sE(f,v):new FormData(f),Um(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var vp=0;vp<tm.length;vp++){var Ep=tm[vp],bR=Ep.toLowerCase(),TR=Ep[0].toUpperCase()+Ep.slice(1);di(bR,"on"+TR)}di(L_,"onAnimationEnd"),di(V_,"onAnimationIteration"),di(U_,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(U1,"onTransitionRun"),di(j1,"onTransitionStart"),di(z1,"onTransitionCancel"),di(j_,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function aE(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],M=T.instance,G=T.currentTarget;if(T=T.listener,M!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(J){ph(J)}f.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(T=l[v],M=T.instance,G=T.currentTarget,T=T.listener,M!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(J){ph(J)}f.currentTarget=null,d=M}}}}function ke(n,r){var a=r[mo];a===void 0&&(a=r[mo]=new Set);var l=n+"__bubble";a.has(l)||(oE(r,n,2,!1),a.add(l))}function bp(n,r,a){var l=0;r&&(l|=4),oE(a,n,l,r)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Tp(n){if(!n[tf]){n[tf]=!0,Ql.forEach(function(a){a!=="selectionchange"&&(SR.has(a)||bp(a,!1,n),bp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[tf]||(r[tf]=!0,bp("selectionchange",!1,r))}}function oE(n,r,a,l){switch(LE(r)){case 2:var f=WR;break;case 8:f=JR;break;default:f=Vp}a=f.bind(null,r,a,n),f=void 0,!da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Sp(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Mi(T),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}T=T.parentNode}}l=l.return}$r(function(){var G=d,J=Hn(a),ee=[];e:{var K=z_.get(n);if(K!==void 0){var $=zi,pe=n;switch(n){case"keypress":if(pa(a)===0)break e;case"keydown":case"keyup":$=fh;break;case"focusin":pe="focus",$=ya;break;case"focusout":pe="blur",$=ya;break;case"beforeblur":case"afterblur":$=ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case L_:case V_:case U_:$=sh;break;case j_:$=A;break;case"scroll":case"scrollend":$=ru;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=hr;break;case"toggle":case"beforetoggle":$=Ie}var be=(r&4)!==0,st=!be&&(n==="scroll"||n==="scrollend"),B=be?K!==null?K+"Capture":null:K;be=[];for(var L=G,H;L!==null;){var Z=L;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||B===null||(Z=ui(L,B),Z!=null&&be.push(Pu(L,Z,H))),st)break;L=L.return}0<be.length&&(K=new $(K,pe,null,a,J),ee.push({event:K,listeners:be}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&a!==tu&&(pe=a.relatedTarget||a.fromElement)&&(Mi(pe)||pe[Di]))break e;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(pe=a.relatedTarget||a.toElement,$=G,pe=pe?Mi(pe):null,pe!==null&&(st=u(pe),be=pe.tag,pe!==st||be!==5&&be!==27&&be!==6)&&(pe=null)):($=null,pe=G),$!==pe)){if(be=su,Z="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(be=hr,Z="onPointerLeave",B="onPointerEnter",L="pointer"),st=$==null?K:Nn($),H=pe==null?K:Nn(pe),K=new be(Z,L+"leave",$,a,J),K.target=st,K.relatedTarget=H,Z=null,Mi(J)===G&&(be=new be(B,L+"enter",pe,a,J),be.target=H,be.relatedTarget=st,Z=be),st=Z,$&&pe)t:{for(be=AR,B=$,L=pe,H=0,Z=B;Z;Z=be(Z))H++;Z=0;for(var ve=L;ve;ve=be(ve))Z++;for(;0<H-Z;)B=be(B),H--;for(;0<Z-H;)L=be(L),Z--;for(;H--;){if(B===L||L!==null&&B===L.alternate){be=B;break t}B=be(B),L=be(L)}be=null}else be=null;$!==null&&lE(ee,K,$,be,!1),pe!==null&&st!==null&&lE(ee,st,pe,be,!0)}}e:{if(K=G?Nn(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Ge=w_;else if(S_(K))if(R_)Ge=P1;else{Ge=M1;var ge=O1}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&_o(G.elementType)&&(Ge=w_):Ge=k1;if(Ge&&(Ge=Ge(n,G))){A_(ee,Ge,a,J);break e}ge&&ge(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Jl(K,"number",K.value)}switch(ge=G?Nn(G):window,n){case"focusin":(S_(ge)||ge.contentEditable==="true")&&(Ro=ge,Jd=G,cu=null);break;case"focusout":cu=Jd=Ro=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,k_(ee,a,J);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":k_(ee,a,J)}var De;if(Ye)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else wo?_a(n,a)&&(Le="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(qi&&a.locale!=="ko"&&(wo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&wo&&(De=iu()):(ji=J,nu="value"in ji?ji.value:ji.textContent,wo=!0)),ge=nf(G,Le),0<ge.length&&(Le=new Fi(Le,n,null,a,J),ee.push({event:Le,listeners:ge}),De?Le.data=De:(De=Ao(a),De!==null&&(Le.data=De)))),(De=Qn?I1(n,a):x1(n,a))&&(Le=nf(G,"onBeforeInput"),0<Le.length&&(ge=new Fi("onBeforeInput","beforeinput",null,a,J),ee.push({event:ge,listeners:Le}),ge.data=De)),ER(ee,n,G,a,J)}aE(ee,r)})}function Pu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function nf(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ui(n,a),f!=null&&l.unshift(Pu(n,f,d)),f=ui(n,r),f!=null&&l.push(Pu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function AR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function lE(n,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,M=T.alternate,G=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||G===null||(M=G,f?(G=ui(a,d),G!=null&&v.unshift(Pu(a,G,M))):f||(G=ui(a,d),G!=null&&v.push(Pu(a,G,M)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var wR=/\r\n?/g,RR=/\u0000|\uFFFD/g;function uE(n){return(typeof n=="string"?n:""+n).replace(wR,`
`).replace(RR,"")}function cE(n,r){return r=uE(r),uE(n)===r}function rt(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||En(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&En(n,""+l);break;case"className":Dn(n,"class",l);break;case"tabIndex":Dn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(n,a,l);break;case"style":eu(n,l,d);break;case"data":if(r!=="object"){Dn(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=vo(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&rt(n,r,"name",f.name,f,null),rt(n,r,"formEncType",f.formEncType,f,null),rt(n,r,"formMethod",f.formMethod,f,null),rt(n,r,"formTarget",f.formTarget,f,null)):(rt(n,r,"encType",f.encType,f,null),rt(n,r,"method",f.method,f,null),rt(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=vo(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=li);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=vo(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),go(n,"popover",l);break;case"xlinkActuate":Ot(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":go(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nh.get(a)||a,go(n,a,l))}}function Ap(n,r,a,l,f,d){switch(a){case"style":eu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?En(n,l):(typeof l=="number"||typeof l=="bigint")&&En(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):go(n,a,l)}}}function nn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(n,r,d,v,a,null)}}f&&rt(n,r,"srcSet",a.srcSet,a,null),l&&rt(n,r,"src",a.src,a,null);return;case"input":ke("invalid",n);var T=d=v=f=null,M=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":v=J;break;case"checked":M=J;break;case"defaultChecked":G=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:rt(n,r,l,J,a,null)}}Zc(n,d,T,M,G,v,f,!1);return;case"select":ke("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:rt(n,r,f,T,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Gr(n,!!l,r,!1):a!=null&&Gr(n,!!l,a,!0);return;case"textarea":ke("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:rt(n,r,v,T,a,null)}Qr(n,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(n,r,M,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<ku.length;l++)ke(ku[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(n,r,G,l,a,null)}return;default:if(_o(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Ap(n,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(n,r,T,l,a,null))}function CR(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,M=null,G=null,J=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=ee;default:l.hasOwnProperty($)||rt(n,r,$,null,l,ee)}}for(var K in l){var $=l[K];if(ee=a[K],l.hasOwnProperty(K)&&($!=null||ee!=null))switch(K){case"type":d=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":J=$;break;case"value":v=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ee&&rt(n,r,K,$,l,ee)}}yo(n,v,T,M,G,J,d,f);return;case"select":$=v=T=K=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(d)||rt(n,r,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==M&&rt(n,r,f,d,l,M)}r=T,a=v,l=$,K!=null?Gr(n,!!a,K,!1):!!l!=!!a&&(r!=null?Gr(n,!!a,r,!0):Gr(n,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(n,r,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&rt(n,r,v,f,l,d)}eh(n,K,$);return;case"option":for(var pe in a)if(K=a[pe],a.hasOwnProperty(pe)&&K!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:rt(n,r,pe,null,l,K)}for(M in l)if(K=l[M],$=a[M],l.hasOwnProperty(M)&&K!==$&&(K!=null||$!=null))switch(M){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:rt(n,r,M,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)K=a[be],a.hasOwnProperty(be)&&K!=null&&!l.hasOwnProperty(be)&&rt(n,r,be,null,l,K);for(G in l)if(K=l[G],$=a[G],l.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:rt(n,r,G,K,l,$)}return;default:if(_o(r)){for(var st in a)K=a[st],a.hasOwnProperty(st)&&K!==void 0&&!l.hasOwnProperty(st)&&Ap(n,r,st,void 0,l,K);for(J in l)K=l[J],$=a[J],!l.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||Ap(n,r,J,K,l,$);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&rt(n,r,B,null,l,K);for(ee in l)K=l[ee],$=a[ee],!l.hasOwnProperty(ee)||K===$||K==null&&$==null||rt(n,r,ee,K,l,$)}function hE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,T=f.duration;if(d&&T&&hE(v)){for(v=0,T=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],G=M.startTime;if(G>T)break;var J=M.transferSize,ee=M.initiatorType;J&&hE(ee)&&(M=M.responseEnd,v+=J*(M<T?1:(T-G)/(M-G)))}if(--l,r+=8*(d+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var wp=null,Rp=null;function rf(n){return n.nodeType===9?n:n.ownerDocument}function fE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Cp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ip=null;function xR(){var n=window.event;return n&&n.type==="popstate"?n===Ip?!1:(Ip=n,!0):(Ip=null,!1)}var mE=typeof setTimeout=="function"?setTimeout:void 0,NR=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(n){return pE.resolve(null).then(n).catch(OR)}:mE;function OR(n){setTimeout(function(){throw n})}function ps(n){return n==="head"}function gE(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Zo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Lu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Lu(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[Oi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Lu(n.ownerDocument.body);a=f}while(a);Zo(r)}function yE(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function xp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xp(a),po(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function MR(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Oi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function kR(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function _E(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Zn(n.nextSibling),n===null))return null;return n}function Np(n){return n.data==="$?"||n.data==="$~"}function Dp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function PR(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Zn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Op=null;function vE(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return Zn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function EE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function bE(n,r,a){switch(r=rf(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Lu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);po(n)}var ei=new Map,TE=new Set;function sf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Rr=ae.d;ae.d={f:LR,r:VR,D:UR,C:jR,L:zR,m:BR,X:qR,S:FR,M:HR};function LR(){var n=Rr.f(),r=$h();return n||r}function VR(n){var r=qn(n);r!==null&&r.tag===5&&r.type==="form"?jv(r):Rr.r(n)}var Xo=typeof document>"u"?null:document;function SE(n,r,a){var l=Xo;if(l&&typeof r=="string"&&r){var f=vn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),TE.has(f)||(TE.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),nn(r,"link",n),Dt(r),l.head.appendChild(r)))}}function UR(n){Rr.D(n),SE("dns-prefetch",n,null)}function jR(n,r){Rr.C(n,r),SE("preconnect",n,r)}function zR(n,r,a){Rr.L(n,r,a);var l=Xo;if(l&&n&&r){var f='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+vn(a.imageSizes)+'"]')):f+='[href="'+vn(n)+'"]';var d=f;switch(r){case"style":d=Wo(n);break;case"script":d=Jo(n)}ei.has(d)||(n=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),ei.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Vu(d))||r==="script"&&l.querySelector(Uu(d))||(r=l.createElement("link"),nn(r,"link",n),Dt(r),l.head.appendChild(r)))}}function BR(n,r){Rr.m(n,r);var a=Xo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Jo(n)}if(!ei.has(d)&&(n=b({rel:"modulepreload",href:n},r),ei.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uu(d)))return}l=a.createElement("link"),nn(l,"link",n),Dt(l),a.head.appendChild(l)}}}function FR(n,r,a){Rr.S(n,r,a);var l=Xo;if(l&&n){var f=ki(l).hoistableStyles,d=Wo(n);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Vu(d)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},a),(a=ei.get(d))&&Mp(n,a);var M=v=l.createElement("link");Dt(M),nn(M,"link",n),M._p=new Promise(function(G,J){M.onload=G,M.onerror=J}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,af(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function qR(n,r){Rr.X(n,r);var a=Xo;if(a&&n){var l=ki(a).hoistableScripts,f=Jo(n),d=l.get(f);d||(d=a.querySelector(Uu(f)),d||(n=b({src:n,async:!0},r),(r=ei.get(f))&&kp(n,r),d=a.createElement("script"),Dt(d),nn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function HR(n,r){Rr.M(n,r);var a=Xo;if(a&&n){var l=ki(a).hoistableScripts,f=Jo(n),d=l.get(f);d||(d=a.querySelector(Uu(f)),d||(n=b({src:n,async:!0,type:"module"},r),(r=ei.get(f))&&kp(n,r),d=a.createElement("script"),Dt(d),nn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function AE(n,r,a,l){var f=(f=Ne.current)?sf(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Wo(a.href),a=ki(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Wo(a.href);var d=ki(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Vu(n)))&&!d._p&&(v.instance=d,v.state.loading=5),ei.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(n,a),d||GR(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Jo(a),a=ki(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Wo(n){return'href="'+vn(n)+'"'}function Vu(n){return'link[rel="stylesheet"]['+n+"]"}function wE(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function GR(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),nn(r,"link",a),Dt(r),n.head.appendChild(r))}function Jo(n){return'[src="'+vn(n)+'"]'}function Uu(n){return"script[async]"+n}function RE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return r.instance=l,Dt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Dt(l),nn(l,"style",f),af(l,a.precedence,n),r.instance=l;case"stylesheet":f=Wo(a.href);var d=n.querySelector(Vu(f));if(d)return r.state.loading|=4,r.instance=d,Dt(d),d;l=wE(a),(f=ei.get(f))&&Mp(l,f),d=(n.ownerDocument||n).createElement("link"),Dt(d);var v=d;return v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),nn(d,"link",l),r.state.loading|=4,af(d,a.precedence,n),r.instance=d;case"script":return d=Jo(a.src),(f=n.querySelector(Uu(d)))?(r.instance=f,Dt(f),f):(l=a,(f=ei.get(d))&&(l=b({},a),kp(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Dt(f),nn(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,af(l,a.precedence,n));return r.instance}function af(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Mp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function kp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var of=null;function CE(n,r,a){if(of===null){var l=new Map,f=of=new Map;f.set(a,l)}else f=of,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Oi]||d[Nt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function IE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function QR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function KR(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Wo(l.href),d=r.querySelector(Vu(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=lf.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,Dt(d);return}d=r.ownerDocument||r,l=wE(l),(f=ei.get(f))&&Mp(l,f),d=d.createElement("link"),Dt(d);var v=d;v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),nn(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=lf.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var Pp=0;function YR(n,r){return n.stylesheets&&n.count===0&&cf(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&cf(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&Pp===0&&(Pp=62500*IR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&cf(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Pp?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uf=null;function cf(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uf=new Map,r.forEach($R,n),uf=null,lf.call(n))}function $R(n,r){if(!(r.state.loading&4)){var a=uf.get(n);if(a)var l=a.get(null);else{a=new Map,uf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=lf.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var ju={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function XR(n,r,a,l,f,d,v,T,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function NE(n,r,a,l,f,d,v,T,M,G,J,ee){return n=new XR(n,r,a,v,M,G,J,ee,T),r=1,d===!0&&(r|=24),d=Mn(3,null,null,r),n.current=d,d.stateNode=n,r=mm(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},_m(d),n}function DE(n){return n?(n=xo,n):xo}function OE(n,r,a,l,f,d){f=DE(f),l.context===null?l.context=f:l.pendingContext=f,l=rs(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ss(n,l,r),a!==null&&(wn(a,n,r),yu(a,n,r))}function ME(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Lp(n,r){ME(n,r),(n=n.alternate)&&ME(n,r)}function kE(n){if(n.tag===13||n.tag===31){var r=ba(n,67108864);r!==null&&wn(r,n,67108864),Lp(n,67108864)}}function PE(n){if(n.tag===13||n.tag===31){var r=Un();r=ua(r);var a=ba(n,r);a!==null&&wn(a,n,r),Lp(n,r)}}var hf=!0;function WR(n,r,a,l){var f=q.T;q.T=null;var d=ae.p;try{ae.p=2,Vp(n,r,a,l)}finally{ae.p=d,q.T=f}}function JR(n,r,a,l){var f=q.T;q.T=null;var d=ae.p;try{ae.p=8,Vp(n,r,a,l)}finally{ae.p=d,q.T=f}}function Vp(n,r,a,l){if(hf){var f=Up(l);if(f===null)Sp(n,r,l,ff,a),VE(n,l);else if(eC(f,n,r,a,l))l.stopPropagation();else if(VE(n,l),r&4&&-1<ZR.indexOf(n)){for(;f!==null;){var d=qn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ii(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var M=1<<31-St(v);T.entanglements[1]|=M,v&=~M}Ki(d),($e&6)===0&&(Kh=fn()+500,Mu(0))}}break;case 31:case 13:T=ba(d,2),T!==null&&wn(T,d,2),$h(),Lp(d,2)}if(d=Up(l),d===null&&Sp(n,r,l,ff,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Sp(n,r,l,null,a)}}function Up(n){return n=Hn(n),jp(n)}var ff=null;function jp(n){if(ff=null,n=Mi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return ff=n,null}function LE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case Fl:return 2;case ql:return 8;case qr:case Gd:return 32;case qc:return 268435456;default:return 32}default:return 32}}var zp=!1,gs=null,ys=null,_s=null,zu=new Map,Bu=new Map,vs=[],ZR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VE(n,r){switch(n){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":zu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(r.pointerId)}}function Fu(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=qn(r),r!==null&&kE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function eC(n,r,a,l,f){switch(r){case"focusin":return gs=Fu(gs,n,r,a,l,f),!0;case"dragenter":return ys=Fu(ys,n,r,a,l,f),!0;case"mouseover":return _s=Fu(_s,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return zu.set(d,Fu(zu.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bu.set(d,Fu(Bu.get(d)||null,n,r,a,l,f)),!0}return!1}function UE(n){var r=Mi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,ai(n.priority,function(){PE(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,ai(n.priority,function(){PE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function df(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Up(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);tu=l,a.target.dispatchEvent(l),tu=null}else return r=qn(a),r!==null&&kE(r),n.blockedOn=a,!1;r.shift()}return!0}function jE(n,r,a){df(n)&&a.delete(r)}function tC(){zp=!1,gs!==null&&df(gs)&&(gs=null),ys!==null&&df(ys)&&(ys=null),_s!==null&&df(_s)&&(_s=null),zu.forEach(jE),Bu.forEach(jE)}function mf(n,r){n.blockedOn===r&&(n.blockedOn=null,zp||(zp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tC)))}var pf=null;function zE(n){pf!==n&&(pf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pf===n&&(pf=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(jp(l||a)===null)continue;break}var d=qn(a);d!==null&&(n.splice(r,3),r-=3,Um(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Zo(n){function r(M){return mf(M,n)}gs!==null&&mf(gs,n),ys!==null&&mf(ys,n),_s!==null&&mf(_s,n),zu.forEach(r),Bu.forEach(r);for(var a=0;a<vs.length;a++){var l=vs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<vs.length&&(a=vs[0],a.blockedOn===null);)UE(a),a.blockedOn===null&&vs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Qt]||null;if(typeof d=="function")v||zE(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Qt]||null)T=v.formAction;else if(jp(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),zE(a)}}}function BE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bp(n){this._internalRoot=n}gf.prototype.render=Bp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Un();OE(a,l,n,r,null,null)},gf.prototype.unmount=Bp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;OE(n.current,2,null,n,null,null),$h(),r[Di]=null}};function gf(n){this._internalRoot=n}gf.prototype.unstable_scheduleHydration=function(n){if(n){var r=$c();n={blockedOn:null,target:n,priority:r};for(var a=0;a<vs.length&&r!==0&&r<vs[a].priority;a++);vs.splice(a,0,n),a===0&&UE(n)}};var FE=e.version;if(FE!=="19.2.0")throw Error(s(527,FE,"19.2.0"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var nC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{ri=yf.inject(nC),Wt=yf}catch{}}return Hu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=$v,d=Xv,v=Wv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=NE(n,1,!1,null,null,a,l,null,f,d,v,BE),n[Di]=r.current,Tp(n),new Bp(r)},Hu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=$v,v=Xv,T=Wv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=NE(n,1,!0,r,a??null,l,f,M,d,v,T,BE),r.context=DE(null),a=r.current,l=Un(),l=ua(l),f=rs(l),f.callback=null,ss(a,f,l),a=l,r.current.lanes=a,oa(r,a),Ki(r),n[Di]=r.current,Tp(n),new gf(r)},Hu.version="19.2.0",Hu}var ZE;function fC(){if(ZE)return Gp.exports;ZE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gp.exports=hC(),Gp.exports}var dC=fC();const mC=fS(dC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eb="popstate";function pC(i={}){function e(s,o){let{pathname:u,search:c,hash:m}=s.location;return dg("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:uc(o)}return yC(e,t,null,i)}function mt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gC(){return Math.random().toString(36).substring(2,10)}function tb(i,e){return{usr:i.state,key:i.key,idx:e}}function dg(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:t,key:e&&e.key||s||gC()}}function uc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function xl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function yC(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){m="POP";let P=_(),W=P==null?null:P-g;g=P,p&&p({action:m,location:V.location,delta:W})}function w(P,W){m="PUSH";let re=dg(V.location,P,W);g=_()+1;let X=tb(re,g),oe=V.createHref(re);try{c.pushState(X,"",oe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(oe)}u&&p&&p({action:m,location:V.location,delta:1})}function O(P,W){m="REPLACE";let re=dg(V.location,P,W);g=_();let X=tb(re,g),oe=V.createHref(re);c.replaceState(X,"",oe),u&&p&&p({action:m,location:V.location,delta:0})}function z(P){return _C(P)}let V={get action(){return m},get location(){return i(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(eb,b),p=P,()=>{o.removeEventListener(eb,b),p=null}},createHref(P){return e(o,P)},createURL:z,encodeLocation(P){let W=z(P);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:O,go(P){return c.go(P)}};return V}function _C(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:uc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function dS(i,e,t="/"){return vC(i,e,t,!1)}function vC(i,e,t,s){let o=typeof e=="string"?xl(e):e,u=Vr(o.pathname||"/",t);if(u==null)return null;let c=mS(i);EC(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=DC(u);m=xC(c[p],g,s)}return m}function mS(i,e=[],t=[],s="",o=!1){let u=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;mt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let b=kr([s,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),mS(c.children,e,w,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:CC(b,c.index),routesMeta:w})};return i.forEach((c,m)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,m);else for(let g of pS(c.path))u(c,m,!0,g)}),e}function pS(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=pS(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function EC(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:IC(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var bC=/^:[\w-]+$/,TC=3,SC=2,AC=1,wC=10,RC=-2,nb=i=>i==="*";function CC(i,e){let t=i.split("/"),s=t.length;return t.some(nb)&&(s+=RC),e&&(s+=SC),t.filter(o=>!nb(o)).reduce((o,u)=>o+(bC.test(u)?TC:u===""?AC:wC),s)}function IC(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function xC(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:kr([u,b.pathname]),pathnameBase:PC(kr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=kr([u,b.pathnameBase]))}return c}function Yf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=NC(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:b},w)=>{if(_==="*"){let z=m[w]||"";c=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const O=m[w];return b&&!O?g[_]=void 0:g[_]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function NC(i,e=!1,t=!0){bi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Vr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function OC(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?xl(i):i;return{pathname:t?t.startsWith("/")?t:MC(t,e):e,search:LC(s),hash:VC(o)}}function MC(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $p(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ay(i){let e=kC(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function oy(i,e,t,s=!1){let o;typeof i=="string"?o=xl(i):(o={...i},mt(!o.pathname||!o.pathname.includes("?"),$p("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),$p("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),$p("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=OC(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var kr=i=>i.join("/").replace(/\/\/+/g,"/"),PC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),LC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,VC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function UC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var gS=["POST","PUT","PATCH","DELETE"];new Set(gS);var jC=["GET",...gS];new Set(jC);var Nl=Q.createContext(null);Nl.displayName="DataRouter";var gd=Q.createContext(null);gd.displayName="DataRouterState";Q.createContext(!1);var yS=Q.createContext({isTransitioning:!1});yS.displayName="ViewTransition";var zC=Q.createContext(new Map);zC.displayName="Fetchers";var BC=Q.createContext(null);BC.displayName="Await";var Ai=Q.createContext(null);Ai.displayName="Navigation";var Cc=Q.createContext(null);Cc.displayName="Location";var wi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var ly=Q.createContext(null);ly.displayName="RouteError";function FC(i,{relative:e}={}){mt(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Q.useContext(Ai),{hash:o,pathname:u,search:c}=Ic(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:kr([t,u])),s.createHref({pathname:m,search:c,hash:o})}function Dl(){return Q.useContext(Cc)!=null}function Ws(){return mt(Dl(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Cc).location}var _S="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vS(i){Q.useContext(Ai).static||Q.useLayoutEffect(i)}function yd(){let{isDataRoute:i}=Q.useContext(wi);return i?tI():qC()}function qC(){mt(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(Nl),{basename:e,navigator:t}=Q.useContext(Ai),{matches:s}=Q.useContext(wi),{pathname:o}=Ws(),u=JSON.stringify(ay(s)),c=Q.useRef(!1);return vS(()=>{c.current=!0}),Q.useCallback((p,g={})=>{if(bi(c.current,_S),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=oy(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:kr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}Q.createContext(null);function _d(){let{matches:i}=Q.useContext(wi),e=i[i.length-1];return e?e.params:{}}function Ic(i,{relative:e}={}){let{matches:t}=Q.useContext(wi),{pathname:s}=Ws(),o=JSON.stringify(ay(t));return Q.useMemo(()=>oy(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function HC(i,e){return ES(i,e)}function ES(i,e,t,s,o){var re;mt(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Q.useContext(Ai),{matches:c}=Q.useContext(wi),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";bS(g,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=Ws(),O;if(e){let X=typeof e=="string"?xl(e):e;mt(_==="/"||((re=X.pathname)==null?void 0:re.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),O=X}else O=w;let z=O.pathname||"/",V=z;if(_!=="/"){let X=_.replace(/^\//,"").split("/");V="/"+z.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=dS(i,{pathname:V});bi(b||P!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),bi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=$C(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:kr([_,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:kr([_,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,t,s,o);return e&&W?Q.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},W):W}function GC(){let i=eI(),e=UC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,c)}var QC=Q.createElement(GC,null),KC=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?Q.createElement(wi.Provider,{value:this.props.routeContext},Q.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YC({routeContext:i,match:e,children:t}){let s=Q.useContext(Nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(wi.Provider,{value:i},t)}function $C(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,c=t==null?void 0:t.errors;if(c!=null){let g=u.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);mt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:b,errors:w}=t,O=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,b)=>{let w,O=!1,z=null,V=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,z=_.route.errorElement||QC,m&&(p<0&&b===0?(bS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,V=null):p===b&&(O=!0,V=_.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,b+1)),W=()=>{let re;return w?re=z:O?re=V:_.route.Component?re=Q.createElement(_.route.Component,null):_.route.element?re=_.route.element:re=g,Q.createElement(YC,{match:_,routeContext:{outlet:g,matches:P,isDataRoute:t!=null},children:re})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?Q.createElement(KC,{location:t.location,revalidation:t.revalidation,component:z,error:w,children:W(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):W()},null)}function uy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XC(i){let e=Q.useContext(Nl);return mt(e,uy(i)),e}function WC(i){let e=Q.useContext(gd);return mt(e,uy(i)),e}function JC(i){let e=Q.useContext(wi);return mt(e,uy(i)),e}function cy(i){let e=JC(i),t=e.matches[e.matches.length-1];return mt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function ZC(){return cy("useRouteId")}function eI(){var s;let i=Q.useContext(ly),e=WC("useRouteError"),t=cy("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function tI(){let{router:i}=XC("useNavigate"),e=cy("useNavigate"),t=Q.useRef(!1);return vS(()=>{t.current=!0}),Q.useCallback(async(o,u={})=>{bi(t.current,_S),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var ib={};function bS(i,e,t){!e&&!ib[i]&&(ib[i]=!0,bi(!1,t))}Q.memo(nI);function nI({routes:i,future:e,state:t,unstable_onError:s}){return ES(i,void 0,t,s,e)}function iI({to:i,replace:e,state:t,relative:s}){mt(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Ai);bi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(wi),{pathname:c}=Ws(),m=yd(),p=oy(i,ay(u),c,s==="path"),g=JSON.stringify(p);return Q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function ka(i){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rI({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){mt(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=xl(t));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:w="default"}=t,O=Q.useMemo(()=>{let z=Vr(p,c);return z==null?null:{location:{pathname:z,search:g,hash:_,state:b,key:w},navigationType:s}},[c,p,g,_,b,w,s]);return bi(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:Q.createElement(Ai.Provider,{value:m},Q.createElement(Cc.Provider,{children:e,value:O}))}function sI({children:i,location:e}){return HC(mg(i),e)}function mg(i,e=[]){let t=[];return Q.Children.forEach(i,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){t.push.apply(t,mg(s.props.children,u));return}mt(s.type===ka,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=mg(s.props.children,u)),t.push(c)}),t}var Pf="get",Lf="application/x-www-form-urlencoded";function vd(i){return i!=null&&typeof i.tagName=="string"}function aI(i){return vd(i)&&i.tagName.toLowerCase()==="button"}function oI(i){return vd(i)&&i.tagName.toLowerCase()==="form"}function lI(i){return vd(i)&&i.tagName.toLowerCase()==="input"}function uI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function cI(i,e){return i.button===0&&(!e||e==="_self")&&!uI(i)}var vf=null;function hI(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch{vf=!0}return vf}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(i){return i!=null&&!fI.has(i)?(bi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lf}"`),null):i}function dI(i,e){let t,s,o,u,c;if(oI(i)){let m=i.getAttribute("action");s=m?Vr(m,e):null,t=i.getAttribute("method")||Pf,o=Xp(i.getAttribute("enctype"))||Lf,u=new FormData(i)}else if(aI(i)||lI(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Vr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Pf,o=Xp(i.getAttribute("formenctype"))||Xp(m.getAttribute("enctype"))||Lf,u=new FormData(m,i),!hI()){let{name:g,type:_,value:b}=i;if(_==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(vd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pf,s=null,o=Lf,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hy(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mI(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function pI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function yI(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await pI(u,t);return c.links?c.links():[]}return[]}));return bI(s.flat(1).filter(gI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rb(i,e,t,s,o,u){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function _I(i,e,{includeHydrateFallback:t}={}){return vI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function vI(i){return[...new Set(i)]}function EI(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function bI(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(EI(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function TS(){let i=Q.useContext(Nl);return hy(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TI(){let i=Q.useContext(gd);return hy(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var fy=Q.createContext(void 0);fy.displayName="FrameworkContext";function SS(){let i=Q.useContext(fy);return hy(i,"You must render this element inside a <HydratedRouter> element"),i}function SI(i,e){let t=Q.useContext(fy),[s,o]=Q.useState(!1),[u,c]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,w=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let V=W=>{W.forEach(re=>{c(re.isIntersecting)})},P=new IntersectionObserver(V,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[i]),Q.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let O=()=>{o(!0)},z=()=>{o(!1),c(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Gu(m,O),onBlur:Gu(p,z),onMouseEnter:Gu(g,O),onMouseLeave:Gu(_,z),onTouchStart:Gu(b,O)}]:[!1,w,{}]}function Gu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function AI({page:i,...e}){let{router:t}=TS(),s=Q.useMemo(()=>dS(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?Q.createElement(RI,{page:i,matches:s,...e}):null}function wI(i){let{manifest:e,routeModules:t}=SS(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return yI(i,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,t]),s}function RI({page:i,matches:e,...t}){let s=Ws(),{manifest:o,routeModules:u}=SS(),{basename:c}=TS(),{loaderData:m,matches:p}=TI(),g=Q.useMemo(()=>rb(i,e,p,o,s,"data"),[i,e,p,o,s]),_=Q.useMemo(()=>rb(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=Q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,V=!1;if(e.forEach(W=>{var X;let re=o.routes[W.route.id];!re||!re.hasLoader||(!g.some(oe=>oe.route.id===W.route.id)&&W.route.id in m&&((X=u[W.route.id])!=null&&X.shouldRevalidate)||re.hasClientLoader?V=!0:z.add(W.route.id))}),z.size===0)return[];let P=mI(i,c,"data");return V&&z.size>0&&P.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[P.pathname+P.search]},[c,m,s,o,g,e,i,u]),w=Q.useMemo(()=>_I(_,o),[_,o]),O=wI(_);return Q.createElement(Q.Fragment,null,b.map(z=>Q.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),w.map(z=>Q.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),O.map(({key:z,link:V})=>Q.createElement("link",{key:z,nonce:t.nonce,...V})))}function CI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AS&&(window.__reactRouterVersion="7.9.4")}catch{}function II({basename:i,children:e,window:t}){let s=Q.useRef();s.current==null&&(s.current=pC({window:t,v5Compat:!0}));let o=s.current,[u,c]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>c(p))},[c]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(rI,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vi=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:b,...w},O){let{basename:z}=Q.useContext(Ai),V=typeof g=="string"&&wS.test(g),P,W=!1;if(typeof g=="string"&&V&&(P=g,AS))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),I=Vr(D.pathname,z);D.origin===R.origin&&I!=null?g=I+D.search+D.hash:W=!0}catch{bi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=FC(g,{relative:o}),[X,oe,se]=SI(s,w),me=OI(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function N(R){e&&e(R),R.defaultPrevented||me(R)}let S=Q.createElement("a",{...w,...se,href:P||re,onClick:W||u?e:N,ref:CI(O,oe),target:p,"data-discover":!V&&t==="render"?"true":void 0});return X&&!V?Q.createElement(Q.Fragment,null,S,Q.createElement(AI,{page:re})):S});vi.displayName="Link";var xI=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},_){let b=Ic(c,{relative:g.relative}),w=Ws(),O=Q.useContext(gd),{navigator:z,basename:V}=Q.useContext(Ai),P=O!=null&&VI(b)&&m===!0,W=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,re=w.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(re=re.toLowerCase(),X=X?X.toLowerCase():null,W=W.toLowerCase()),X&&V&&(X=Vr(X,V)||X);const oe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let se=re===W||!o&&re.startsWith(W)&&re.charAt(oe)==="/",me=X!=null&&(X===W||!o&&X.startsWith(W)&&X.charAt(W.length)==="/"),N={isActive:se,isPending:me,isTransitioning:P},S=se?e:void 0,R;typeof s=="function"?R=s(N):R=[s,se?"active":null,me?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(N):u;return Q.createElement(vi,{...g,"aria-current":S,className:R,ref:_,style:D,to:c,viewTransition:m},typeof p=="function"?p(N):p)});xI.displayName="NavLink";var NI=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:c=Pf,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...w},O)=>{let z=PI(),V=LI(m,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&wS.test(m),re=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,se=(oe==null?void 0:oe.getAttribute("formmethod"))||c;z(oe||X.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return Q.createElement("form",{ref:O,method:P,action:V,onSubmit:s?p:re,...w,"data-discover":!W&&i==="render"?"true":void 0})});NI.displayName="Form";function DI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RS(i){let e=Q.useContext(Nl);return mt(e,DI(i)),e}function OI(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=yd(),p=Ws(),g=Ic(i,{relative:u});return Q.useCallback(_=>{if(cI(_,e)){_.preventDefault();let b=t!==void 0?t:uc(p)===uc(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,g,t,s,e,i,o,u,c])}var MI=0,kI=()=>`__${String(++MI)}__`;function PI(){let{router:i}=RS("useSubmit"),{basename:e}=Q.useContext(Ai),t=ZC();return Q.useCallback(async(s,o={})=>{let{action:u,method:c,encType:m,formData:p,body:g}=dI(s,e);if(o.navigate===!1){let _=o.fetcherKey||kI();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function LI(i,{relative:e}={}){let{basename:t}=Q.useContext(Ai),s=Q.useContext(wi);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ic(i||".",{relative:e})},c=Ws();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:kr([t,u.pathname])),uc(u)}function VI(i,{relative:e}={}){let t=Q.useContext(yS);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=RS("useViewTransitionState"),o=Ic(i,{relative:e});if(!t.isTransitioning)return!1;let u=Vr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Vr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Yf(o.pathname,c)!=null||Yf(o.pathname,u)!=null}var Ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},UI={setTimeout:(i,e)=>setTimeout(i,e),clearTimeout:i=>clearTimeout(i),setInterval:(i,e)=>setInterval(i,e),clearInterval:i=>clearInterval(i)},Is,ry,tS,jI=(tS=class{constructor(){_e(this,Is,UI);_e(this,ry,!1)}setTimeoutProvider(i){ce(this,Is,i)}setTimeout(i,e){return k(this,Is).setTimeout(i,e)}clearTimeout(i){k(this,Is).clearTimeout(i)}setInterval(i,e){return k(this,Is).setInterval(i,e)}clearInterval(i){k(this,Is).clearInterval(i)}},Is=new WeakMap,ry=new WeakMap,tS),La=new jI;function zI(i){setTimeout(i,0)}var Ya=typeof window>"u"||"Deno"in globalThis;function _n(){}function BI(i,e){return typeof i=="function"?i(e):i}function pg(i){return typeof i=="number"&&i>=0&&i!==1/0}function CS(i,e){return Math.max(i+(e||0)-Date.now(),0)}function Us(i,e){return typeof i=="function"?i(e):i}function ni(i,e){return typeof i=="function"?i(e):i}function sb(i,e){const{type:t="all",exact:s,fetchStatus:o,predicate:u,queryKey:c,stale:m}=i;if(c){if(s){if(e.queryHash!==dy(c,e.options))return!1}else if(!cc(e.queryKey,c))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof m=="boolean"&&e.isStale()!==m||o&&o!==e.state.fetchStatus||u&&!u(e))}function ab(i,e){const{exact:t,status:s,predicate:o,mutationKey:u}=i;if(u){if(!e.options.mutationKey)return!1;if(t){if($a(e.options.mutationKey)!==$a(u))return!1}else if(!cc(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function dy(i,e){return((e==null?void 0:e.queryKeyHashFn)||$a)(i)}function $a(i){return JSON.stringify(i,(e,t)=>gg(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function cc(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?Object.keys(e).every(t=>cc(i[t],e[t])):!1}var FI=Object.prototype.hasOwnProperty;function IS(i,e){if(i===e)return i;const t=ob(i)&&ob(e);if(!t&&!(gg(i)&&gg(e)))return e;const o=(t?i:Object.keys(i)).length,u=t?e:Object.keys(e),c=u.length,m=t?new Array(c):{};let p=0;for(let g=0;g<c;g++){const _=t?g:u[g],b=i[_],w=e[_];if(b===w){m[_]=b,(t?g<o:FI.call(i,_))&&p++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){m[_]=w;continue}const O=IS(b,w);m[_]=O,O===b&&p++}return o===c&&p===o?i:m}function $f(i,e){if(!e||Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(i[t]!==e[t])return!1;return!0}function ob(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function gg(i){if(!lb(i))return!1;const e=i.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!lb(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function lb(i){return Object.prototype.toString.call(i)==="[object Object]"}function qI(i){return new Promise(e=>{La.setTimeout(e,i)})}function yg(i,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(i,e):t.structuralSharing!==!1?IS(i,e):e}function HI(i,e,t=0){const s=[...i,e];return t&&s.length>t?s.slice(1):s}function GI(i,e,t=0){const s=[e,...i];return t&&s.length>t?s.slice(0,-1):s}var my=Symbol();function xS(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===my?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function NS(i,e){return typeof i=="function"?i(...e):!!i}var Ua,xs,hl,nS,QI=(nS=class extends Ol{constructor(){super();_e(this,Ua);_e(this,xs);_e(this,hl);ce(this,hl,e=>{if(!Ya&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){k(this,xs)||this.setEventListener(k(this,hl))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,xs))==null||e.call(this),ce(this,xs,void 0))}setEventListener(e){var t;ce(this,hl,e),(t=k(this,xs))==null||t.call(this),ce(this,xs,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){k(this,Ua)!==e&&(ce(this,Ua,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof k(this,Ua)=="boolean"?k(this,Ua):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ua=new WeakMap,xs=new WeakMap,hl=new WeakMap,nS),py=new QI;function _g(){let i,e;const t=new Promise((o,u)=>{i=o,e=u});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),i(o)},t.reject=o=>{s({status:"rejected",reason:o}),e(o)},t}var KI=zI;function YI(){let i=[],e=0,t=m=>{m()},s=m=>{m()},o=KI;const u=m=>{e?i.push(m):o(()=>{t(m)})},c=()=>{const m=i;i=[],m.length&&o(()=>{s(()=>{m.forEach(p=>{t(p)})})})};return{batch:m=>{let p;e++;try{p=m()}finally{e--,e||c()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{t=m},setBatchNotifyFunction:m=>{s=m},setScheduler:m=>{o=m}}}var qt=YI(),fl,Ns,dl,iS,$I=(iS=class extends Ol{constructor(){super();_e(this,fl,!0);_e(this,Ns);_e(this,dl);ce(this,dl,e=>{if(!Ya&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){k(this,Ns)||this.setEventListener(k(this,dl))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Ns))==null||e.call(this),ce(this,Ns,void 0))}setEventListener(e){var t;ce(this,dl,e),(t=k(this,Ns))==null||t.call(this),ce(this,Ns,e(this.setOnline.bind(this)))}setOnline(e){k(this,fl)!==e&&(ce(this,fl,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return k(this,fl)}},fl=new WeakMap,Ns=new WeakMap,dl=new WeakMap,iS),Xf=new $I;function XI(i){return Math.min(1e3*2**i,3e4)}function DS(i){return(i??"online")==="online"?Xf.isOnline():!0}var vg=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function OS(i){let e=!1,t=0,s;const o=_g(),u=()=>o.status!=="pending",c=V=>{var P;if(!u()){const W=new vg(V);w(W),(P=i.onCancel)==null||P.call(i,W)}},m=()=>{e=!0},p=()=>{e=!1},g=()=>py.isFocused()&&(i.networkMode==="always"||Xf.isOnline())&&i.canRun(),_=()=>DS(i.networkMode)&&i.canRun(),b=V=>{u()||(s==null||s(),o.resolve(V))},w=V=>{u()||(s==null||s(),o.reject(V))},O=()=>new Promise(V=>{var P;s=W=>{(u()||g())&&V(W)},(P=i.onPause)==null||P.call(i)}).then(()=>{var V;s=void 0,u()||(V=i.onContinue)==null||V.call(i)}),z=()=>{if(u())return;let V;const P=t===0?i.initialPromise:void 0;try{V=P??i.fn()}catch(W){V=Promise.reject(W)}Promise.resolve(V).then(b).catch(W=>{var me;if(u())return;const re=i.retry??(Ya?0:3),X=i.retryDelay??XI,oe=typeof X=="function"?X(t,W):X,se=re===!0||typeof re=="number"&&t<re||typeof re=="function"&&re(t,W);if(e||!se){w(W);return}t++,(me=i.onFail)==null||me.call(i,t,W),qI(oe).then(()=>g()?void 0:O()).then(()=>{e?w(W):z()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(s==null||s(),o),cancelRetry:m,continueRetry:p,canStart:_,start:()=>(_()?z():O().then(z),o)}}var ja,rS,MS=(rS=class{constructor(){_e(this,ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pg(this.gcTime)&&ce(this,ja,La.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Ya?1/0:300*1e3))}clearGcTimeout(){k(this,ja)&&(La.clearTimeout(k(this,ja)),ce(this,ja,void 0))}},ja=new WeakMap,rS),za,ml,ti,Ba,$t,Tc,Fa,gi,Cr,sS,WI=(sS=class extends MS{constructor(t){super();_e(this,gi);_e(this,za);_e(this,ml);_e(this,ti);_e(this,Ba);_e(this,$t);_e(this,Tc);_e(this,Fa);ce(this,Fa,!1),ce(this,Tc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,Ba,t.client),ce(this,ti,k(this,Ba).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,za,ub(this.options)),this.state=t.state??k(this,za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,$t))==null?void 0:t.promise}setOptions(t){if(this.options={...k(this,Tc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=ub(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),ce(this,za,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,ti).remove(this)}setData(t,s){const o=yg(this.state.data,t,this.options);return Oe(this,gi,Cr).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(t,s){Oe(this,gi,Cr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var o,u;const s=(o=k(this,$t))==null?void 0:o.promise;return(u=k(this,$t))==null||u.cancel(t),s?s.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,za))}isActive(){return this.observers.some(t=>ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===my||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Us(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!CS(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=k(this,$t))==null||s.continue()}onOnline(){var s;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=k(this,$t))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,ti).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(k(this,$t)&&(k(this,Fa)?k(this,$t).cancel({revert:!0}):k(this,$t).cancelRetry()),this.scheduleGc()),k(this,ti).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,gi,Cr).call(this,{type:"invalidate"})}async fetch(t,s){var g,_,b,w,O,z,V,P,W,re,X,oe;if(this.state.fetchStatus!=="idle"&&((g=k(this,$t))==null?void 0:g.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(k(this,$t))return k(this,$t).continueRetry(),k(this,$t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const se=this.observers.find(me=>me.options.queryFn);se&&this.setOptions(se.options)}const o=new AbortController,u=se=>{Object.defineProperty(se,"signal",{enumerable:!0,get:()=>(ce(this,Fa,!0),o.signal)})},c=()=>{const se=xS(this.options,s),N=(()=>{const S={client:k(this,Ba),queryKey:this.queryKey,meta:this.meta};return u(S),S})();return ce(this,Fa,!1),this.options.persister?this.options.persister(se,N,this):se(N)},p=(()=>{const se={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:k(this,Ba),state:this.state,fetchFn:c};return u(se),se})();(_=this.options.behavior)==null||_.onFetch(p,this),ce(this,ml,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=p.fetchOptions)==null?void 0:b.meta))&&Oe(this,gi,Cr).call(this,{type:"fetch",meta:(w=p.fetchOptions)==null?void 0:w.meta}),ce(this,$t,OS({initialPromise:s==null?void 0:s.initialPromise,fn:p.fetchFn,onCancel:se=>{se instanceof vg&&se.revert&&this.setState({...k(this,ml),fetchStatus:"idle"}),o.abort()},onFail:(se,me)=>{Oe(this,gi,Cr).call(this,{type:"failed",failureCount:se,error:me})},onPause:()=>{Oe(this,gi,Cr).call(this,{type:"pause"})},onContinue:()=>{Oe(this,gi,Cr).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const se=await k(this,$t).start();if(se===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(se),(z=(O=k(this,ti).config).onSuccess)==null||z.call(O,se,this),(P=(V=k(this,ti).config).onSettled)==null||P.call(V,se,this.state.error,this),se}catch(se){if(se instanceof vg){if(se.silent)return k(this,$t).promise;if(se.revert){if(this.state.data===void 0)throw se;return this.state.data}}throw Oe(this,gi,Cr).call(this,{type:"error",error:se}),(re=(W=k(this,ti).config).onError)==null||re.call(W,se,this),(oe=(X=k(this,ti).config).onSettled)==null||oe.call(X,this.state.data,se,this),se}finally{this.scheduleGc()}}},za=new WeakMap,ml=new WeakMap,ti=new WeakMap,Ba=new WeakMap,$t=new WeakMap,Tc=new WeakMap,Fa=new WeakMap,gi=new WeakSet,Cr=function(t){const s=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...kS(o.data,this.options),fetchMeta:t.meta??null};case"success":const u={...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,ml,t.manual?u:void 0),u;case"error":const c=t.error;return{...o,error:c,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=s(this.state),qt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),k(this,ti).notify({query:this,type:"updated",action:t})})},sS);function kS(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DS(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function ub(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,t=e!==void 0,s=t?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Rn,Be,Sc,gn,qa,pl,Ir,Ds,Ac,gl,yl,Ha,Ga,Os,_l,Xe,Xu,Eg,bg,Tg,Sg,Ag,wg,Rg,PS,aS,JI=(aS=class extends Ol{constructor(e,t){super();_e(this,Xe);_e(this,Rn);_e(this,Be);_e(this,Sc);_e(this,gn);_e(this,qa);_e(this,pl);_e(this,Ir);_e(this,Ds);_e(this,Ac);_e(this,gl);_e(this,yl);_e(this,Ha);_e(this,Ga);_e(this,Os);_e(this,_l,new Set);this.options=t,ce(this,Rn,e),ce(this,Ds,null),ce(this,Ir,_g()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Be).addObserver(this),cb(k(this,Be),this.options)?Oe(this,Xe,Xu).call(this):this.updateResult(),Oe(this,Xe,Sg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cg(k(this,Be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cg(k(this,Be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Xe,Ag).call(this),Oe(this,Xe,wg).call(this),k(this,Be).removeObserver(this)}setOptions(e){const t=this.options,s=k(this,Be);if(this.options=k(this,Rn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ni(this.options.enabled,k(this,Be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,Xe,Rg).call(this),k(this,Be).setOptions(this.options),t._defaulted&&!$f(this.options,t)&&k(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Be),observer:this});const o=this.hasListeners();o&&hb(k(this,Be),s,this.options,t)&&Oe(this,Xe,Xu).call(this),this.updateResult(),o&&(k(this,Be)!==s||ni(this.options.enabled,k(this,Be))!==ni(t.enabled,k(this,Be))||Us(this.options.staleTime,k(this,Be))!==Us(t.staleTime,k(this,Be)))&&Oe(this,Xe,Eg).call(this);const u=Oe(this,Xe,bg).call(this);o&&(k(this,Be)!==s||ni(this.options.enabled,k(this,Be))!==ni(t.enabled,k(this,Be))||u!==k(this,Os))&&Oe(this,Xe,Tg).call(this,u)}getOptimisticResult(e){const t=k(this,Rn).getQueryCache().build(k(this,Rn),e),s=this.createResult(t,e);return e2(this,s)&&(ce(this,gn,s),ce(this,pl,this.options),ce(this,qa,k(this,Be).state)),s}getCurrentResult(){return k(this,gn)}trackResult(e,t){return new Proxy(e,{get:(s,o)=>(this.trackProp(o),t==null||t(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&k(this,Ir).status==="pending"&&k(this,Ir).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,o))})}trackProp(e){k(this,_l).add(e)}getCurrentQuery(){return k(this,Be)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=k(this,Rn).defaultQueryOptions(e),s=k(this,Rn).getQueryCache().build(k(this,Rn),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return Oe(this,Xe,Xu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,gn)))}createResult(e,t){var R;const s=k(this,Be),o=this.options,u=k(this,gn),c=k(this,qa),m=k(this,pl),g=e!==s?e.state:k(this,Sc),{state:_}=e;let b={..._},w=!1,O;if(t._optimisticResults){const D=this.hasListeners(),I=!D&&cb(e,t),j=D&&hb(e,s,t,o);(I||j)&&(b={...b,...kS(_.data,e.options)}),t._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:z,errorUpdatedAt:V,status:P}=b;O=b.data;let W=!1;if(t.placeholderData!==void 0&&O===void 0&&P==="pending"){let D;u!=null&&u.isPlaceholderData&&t.placeholderData===(m==null?void 0:m.placeholderData)?(D=u.data,W=!0):D=typeof t.placeholderData=="function"?t.placeholderData((R=k(this,yl))==null?void 0:R.state.data,k(this,yl)):t.placeholderData,D!==void 0&&(P="success",O=yg(u==null?void 0:u.data,D,t),w=!0)}if(t.select&&O!==void 0&&!W)if(u&&O===(c==null?void 0:c.data)&&t.select===k(this,Ac))O=k(this,gl);else try{ce(this,Ac,t.select),O=t.select(O),O=yg(u==null?void 0:u.data,O,t),ce(this,gl,O),ce(this,Ds,null)}catch(D){ce(this,Ds,D)}k(this,Ds)&&(z=k(this,Ds),O=k(this,gl),V=Date.now(),P="error");const re=b.fetchStatus==="fetching",X=P==="pending",oe=P==="error",se=X&&re,me=O!==void 0,S={status:P,fetchStatus:b.fetchStatus,isPending:X,isSuccess:P==="success",isError:oe,isInitialLoading:se,isLoading:se,data:O,dataUpdatedAt:b.dataUpdatedAt,error:z,errorUpdatedAt:V,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:re,isRefetching:re&&!X,isLoadingError:oe&&!me,isPaused:b.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:oe&&me,isStale:gy(e,t),refetch:this.refetch,promise:k(this,Ir),isEnabled:ni(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=x=>{S.status==="error"?x.reject(S.error):S.data!==void 0&&x.resolve(S.data)},I=()=>{const x=ce(this,Ir,S.promise=_g());D(x)},j=k(this,Ir);switch(j.status){case"pending":e.queryHash===s.queryHash&&D(j);break;case"fulfilled":(S.status==="error"||S.data!==j.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==j.reason)&&I();break}}return S}updateResult(){const e=k(this,gn),t=this.createResult(k(this,Be),this.options);if(ce(this,qa,k(this,Be).state),ce(this,pl,this.options),k(this,qa).data!==void 0&&ce(this,yl,k(this,Be)),$f(t,e))return;ce(this,gn,t);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!k(this,_l).size)return!0;const c=new Set(u??k(this,_l));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,gn)).some(m=>{const p=m;return k(this,gn)[p]!==e[p]&&c.has(p)})};Oe(this,Xe,PS).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Xe,Sg).call(this)}},Rn=new WeakMap,Be=new WeakMap,Sc=new WeakMap,gn=new WeakMap,qa=new WeakMap,pl=new WeakMap,Ir=new WeakMap,Ds=new WeakMap,Ac=new WeakMap,gl=new WeakMap,yl=new WeakMap,Ha=new WeakMap,Ga=new WeakMap,Os=new WeakMap,_l=new WeakMap,Xe=new WeakSet,Xu=function(e){Oe(this,Xe,Rg).call(this);let t=k(this,Be).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(_n)),t},Eg=function(){Oe(this,Xe,Ag).call(this);const e=Us(this.options.staleTime,k(this,Be));if(Ya||k(this,gn).isStale||!pg(e))return;const s=CS(k(this,gn).dataUpdatedAt,e)+1;ce(this,Ha,La.setTimeout(()=>{k(this,gn).isStale||this.updateResult()},s))},bg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Be)):this.options.refetchInterval)??!1},Tg=function(e){Oe(this,Xe,wg).call(this),ce(this,Os,e),!(Ya||ni(this.options.enabled,k(this,Be))===!1||!pg(k(this,Os))||k(this,Os)===0)&&ce(this,Ga,La.setInterval(()=>{(this.options.refetchIntervalInBackground||py.isFocused())&&Oe(this,Xe,Xu).call(this)},k(this,Os)))},Sg=function(){Oe(this,Xe,Eg).call(this),Oe(this,Xe,Tg).call(this,Oe(this,Xe,bg).call(this))},Ag=function(){k(this,Ha)&&(La.clearTimeout(k(this,Ha)),ce(this,Ha,void 0))},wg=function(){k(this,Ga)&&(La.clearInterval(k(this,Ga)),ce(this,Ga,void 0))},Rg=function(){const e=k(this,Rn).getQueryCache().build(k(this,Rn),this.options);if(e===k(this,Be))return;const t=k(this,Be);ce(this,Be,e),ce(this,Sc,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},PS=function(e){qt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(k(this,gn))}),k(this,Rn).getQueryCache().notify({query:k(this,Be),type:"observerResultsUpdated"})})},aS);function ZI(i,e){return ni(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function cb(i,e){return ZI(i,e)||i.state.data!==void 0&&Cg(i,e,e.refetchOnMount)}function Cg(i,e,t){if(ni(e.enabled,i)!==!1&&Us(e.staleTime,i)!=="static"){const s=typeof t=="function"?t(i):t;return s==="always"||s!==!1&&gy(i,e)}return!1}function hb(i,e,t,s){return(i!==e||ni(s.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&gy(i,t)}function gy(i,e){return ni(e.enabled,i)!==!1&&i.isStaleByTime(Us(e.staleTime,i))}function e2(i,e){return!$f(i.getCurrentResult(),e)}function fb(i){return{onFetch:(e,t)=>{var _,b,w,O,z;const s=e.options,o=(w=(b=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,u=((O=e.state.data)==null?void 0:O.pages)||[],c=((z=e.state.data)==null?void 0:z.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const g=async()=>{let V=!1;const P=X=>{Object.defineProperty(X,"signal",{enumerable:!0,get:()=>(e.signal.aborted?V=!0:e.signal.addEventListener("abort",()=>{V=!0}),e.signal)})},W=xS(e.options,e.fetchOptions),re=async(X,oe,se)=>{if(V)return Promise.reject();if(oe==null&&X.pages.length)return Promise.resolve(X);const N=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:oe,direction:se?"backward":"forward",meta:e.options.meta};return P(I),I})(),S=await W(N),{maxPages:R}=e.options,D=se?GI:HI;return{pages:D(X.pages,S,R),pageParams:D(X.pageParams,oe,R)}};if(o&&u.length){const X=o==="backward",oe=X?t2:db,se={pages:u,pageParams:c},me=oe(s,se);m=await re(se,me,X)}else{const X=i??u.length;do{const oe=p===0?c[0]??s.initialPageParam:db(s,m);if(p>0&&oe==null)break;m=await re(m,oe),p++}while(p<X)}return m};e.options.persister?e.fetchFn=()=>{var V,P;return(P=(V=e.options).persister)==null?void 0:P.call(V,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=g}}}function db(i,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?i.getNextPageParam(e[s],e,t[s],t):void 0}function t2(i,{pages:e,pageParams:t}){var s;return e.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,e[0],e,t[0],t):void 0}var wc,$i,yn,Qa,Xi,Ts,oS,n2=(oS=class extends MS{constructor(t){super();_e(this,Xi);_e(this,wc);_e(this,$i);_e(this,yn);_e(this,Qa);ce(this,wc,t.client),this.mutationId=t.mutationId,ce(this,yn,t.mutationCache),ce(this,$i,[]),this.state=t.state||LS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,$i).includes(t)||(k(this,$i).push(t),this.clearGcTimeout(),k(this,yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,$i,k(this,$i).filter(s=>s!==t)),this.scheduleGc(),k(this,yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,$i).length||(this.state.status==="pending"?this.scheduleGc():k(this,yn).remove(this))}continue(){var t;return((t=k(this,Qa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var m,p,g,_,b,w,O,z,V,P,W,re,X,oe,se,me,N,S,R,D;const s=()=>{Oe(this,Xi,Ts).call(this,{type:"continue"})},o={client:k(this,wc),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Qa,OS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,o):Promise.reject(new Error("No mutationFn found")),onFail:(I,j)=>{Oe(this,Xi,Ts).call(this,{type:"failed",failureCount:I,error:j})},onPause:()=>{Oe(this,Xi,Ts).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,yn).canRun(this)}));const u=this.state.status==="pending",c=!k(this,Qa).canStart();try{if(u)s();else{Oe(this,Xi,Ts).call(this,{type:"pending",variables:t,isPaused:c}),await((p=(m=k(this,yn).config).onMutate)==null?void 0:p.call(m,t,this,o));const j=await((_=(g=this.options).onMutate)==null?void 0:_.call(g,t,o));j!==this.state.context&&Oe(this,Xi,Ts).call(this,{type:"pending",context:j,variables:t,isPaused:c})}const I=await k(this,Qa).start();return await((w=(b=k(this,yn).config).onSuccess)==null?void 0:w.call(b,I,t,this.state.context,this,o)),await((z=(O=this.options).onSuccess)==null?void 0:z.call(O,I,t,this.state.context,o)),await((P=(V=k(this,yn).config).onSettled)==null?void 0:P.call(V,I,null,this.state.variables,this.state.context,this,o)),await((re=(W=this.options).onSettled)==null?void 0:re.call(W,I,null,t,this.state.context,o)),Oe(this,Xi,Ts).call(this,{type:"success",data:I}),I}catch(I){try{throw await((oe=(X=k(this,yn).config).onError)==null?void 0:oe.call(X,I,t,this.state.context,this,o)),await((me=(se=this.options).onError)==null?void 0:me.call(se,I,t,this.state.context,o)),await((S=(N=k(this,yn).config).onSettled)==null?void 0:S.call(N,void 0,I,this.state.variables,this.state.context,this,o)),await((D=(R=this.options).onSettled)==null?void 0:D.call(R,void 0,I,t,this.state.context,o)),I}finally{Oe(this,Xi,Ts).call(this,{type:"error",error:I})}}finally{k(this,yn).runNext(this)}}},wc=new WeakMap,$i=new WeakMap,yn=new WeakMap,Qa=new WeakMap,Xi=new WeakSet,Ts=function(t){const s=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),qt.batch(()=>{k(this,$i).forEach(o=>{o.onMutationUpdate(t)}),k(this,yn).notify({mutation:this,type:"updated",action:t})})},oS);function LS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xr,yi,Rc,lS,i2=(lS=class extends Ol{constructor(e={}){super();_e(this,xr);_e(this,yi);_e(this,Rc);this.config=e,ce(this,xr,new Set),ce(this,yi,new Map),ce(this,Rc,0)}build(e,t,s){const o=new n2({client:e,mutationCache:this,mutationId:++_f(this,Rc)._,options:e.defaultMutationOptions(t),state:s});return this.add(o),o}add(e){k(this,xr).add(e);const t=Ef(e);if(typeof t=="string"){const s=k(this,yi).get(t);s?s.push(e):k(this,yi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,xr).delete(e)){const t=Ef(e);if(typeof t=="string"){const s=k(this,yi).get(t);if(s)if(s.length>1){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}else s[0]===e&&k(this,yi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ef(e);if(typeof t=="string"){const s=k(this,yi).get(t),o=s==null?void 0:s.find(u=>u.state.status==="pending");return!o||o===e}else return!0}runNext(e){var s;const t=Ef(e);if(typeof t=="string"){const o=(s=k(this,yi).get(t))==null?void 0:s.find(u=>u!==e&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qt.batch(()=>{k(this,xr).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,xr).clear(),k(this,yi).clear()})}getAll(){return Array.from(k(this,xr))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ab(t,s))}findAll(e={}){return this.getAll().filter(t=>ab(e,t))}notify(e){qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return qt.batch(()=>Promise.all(e.map(t=>t.continue().catch(_n))))}},xr=new WeakMap,yi=new WeakMap,Rc=new WeakMap,lS);function Ef(i){var e;return(e=i.options.scope)==null?void 0:e.id}var Nr,Ms,Cn,Dr,Lr,Vf,Ig,uS,r2=(uS=class extends Ol{constructor(t,s){super();_e(this,Lr);_e(this,Nr);_e(this,Ms);_e(this,Cn);_e(this,Dr);ce(this,Nr,t),this.setOptions(s),this.bindMethods(),Oe(this,Lr,Vf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const s=this.options;this.options=k(this,Nr).defaultMutationOptions(t),$f(this.options,s)||k(this,Nr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Cn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&$a(s.mutationKey)!==$a(this.options.mutationKey)?this.reset():((o=k(this,Cn))==null?void 0:o.state.status)==="pending"&&k(this,Cn).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=k(this,Cn))==null||t.removeObserver(this)}onMutationUpdate(t){Oe(this,Lr,Vf).call(this),Oe(this,Lr,Ig).call(this,t)}getCurrentResult(){return k(this,Ms)}reset(){var t;(t=k(this,Cn))==null||t.removeObserver(this),ce(this,Cn,void 0),Oe(this,Lr,Vf).call(this),Oe(this,Lr,Ig).call(this)}mutate(t,s){var o;return ce(this,Dr,s),(o=k(this,Cn))==null||o.removeObserver(this),ce(this,Cn,k(this,Nr).getMutationCache().build(k(this,Nr),this.options)),k(this,Cn).addObserver(this),k(this,Cn).execute(t)}},Nr=new WeakMap,Ms=new WeakMap,Cn=new WeakMap,Dr=new WeakMap,Lr=new WeakSet,Vf=function(){var s;const t=((s=k(this,Cn))==null?void 0:s.state)??LS();ce(this,Ms,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Ig=function(t){qt.batch(()=>{var s,o,u,c,m,p,g,_;if(k(this,Dr)&&this.hasListeners()){const b=k(this,Ms).variables,w=k(this,Ms).context,O={client:k(this,Nr),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((o=(s=k(this,Dr)).onSuccess)==null||o.call(s,t.data,b,w,O),(c=(u=k(this,Dr)).onSettled)==null||c.call(u,t.data,null,b,w,O)):(t==null?void 0:t.type)==="error"&&((p=(m=k(this,Dr)).onError)==null||p.call(m,t.error,b,w,O),(_=(g=k(this,Dr)).onSettled)==null||_.call(g,void 0,t.error,b,w,O))}this.listeners.forEach(b=>{b(k(this,Ms))})})},uS),Wi,cS,s2=(cS=class extends Ol{constructor(e={}){super();_e(this,Wi);this.config=e,ce(this,Wi,new Map)}build(e,t,s){const o=t.queryKey,u=t.queryHash??dy(o,t);let c=this.get(u);return c||(c=new WI({client:e,queryKey:o,queryHash:u,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(c)),c}add(e){k(this,Wi).has(e.queryHash)||(k(this,Wi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=k(this,Wi).get(e.queryHash);t&&(e.destroy(),t===e&&k(this,Wi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Wi).get(e)}getAll(){return[...k(this,Wi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>sb(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>sb(e,s)):t}notify(e){qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wi=new WeakMap,cS),Et,ks,Ps,vl,El,Ls,bl,Tl,hS,a2=(hS=class{constructor(i={}){_e(this,Et);_e(this,ks);_e(this,Ps);_e(this,vl);_e(this,El);_e(this,Ls);_e(this,bl);_e(this,Tl);ce(this,Et,i.queryCache||new s2),ce(this,ks,i.mutationCache||new i2),ce(this,Ps,i.defaultOptions||{}),ce(this,vl,new Map),ce(this,El,new Map),ce(this,Ls,0)}mount(){_f(this,Ls)._++,k(this,Ls)===1&&(ce(this,bl,py.subscribe(async i=>{i&&(await this.resumePausedMutations(),k(this,Et).onFocus())})),ce(this,Tl,Xf.subscribe(async i=>{i&&(await this.resumePausedMutations(),k(this,Et).onOnline())})))}unmount(){var i,e;_f(this,Ls)._--,k(this,Ls)===0&&((i=k(this,bl))==null||i.call(this),ce(this,bl,void 0),(e=k(this,Tl))==null||e.call(this),ce(this,Tl,void 0))}isFetching(i){return k(this,Et).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return k(this,ks).findAll({...i,status:"pending"}).length}getQueryData(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=k(this,Et).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),t=k(this,Et).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&t.isStaleByTime(Us(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(i){return k(this,Et).findAll(i).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(i,e,t){const s=this.defaultQueryOptions({queryKey:i}),o=k(this,Et).get(s.queryHash),u=o==null?void 0:o.state.data,c=BI(e,u);if(c!==void 0)return k(this,Et).build(this,s).setData(c,{...t,manual:!0})}setQueriesData(i,e,t){return qt.batch(()=>k(this,Et).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=k(this,Et).get(e.queryHash))==null?void 0:t.state}removeQueries(i){const e=k(this,Et);qt.batch(()=>{e.findAll(i).forEach(t=>{e.remove(t)})})}resetQueries(i,e){const t=k(this,Et);return qt.batch(()=>(t.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const t={revert:!0,...e},s=qt.batch(()=>k(this,Et).findAll(i).map(o=>o.cancel(t)));return Promise.all(s).then(_n).catch(_n)}invalidateQueries(i,e={}){return qt.batch(()=>(k(this,Et).findAll(i).forEach(t=>{t.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=qt.batch(()=>k(this,Et).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,t);return t.throwOnError||(u=u.catch(_n)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(_n)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const t=k(this,Et).build(this,e);return t.isStaleByTime(Us(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(_n).catch(_n)}fetchInfiniteQuery(i){return i.behavior=fb(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(_n).catch(_n)}ensureInfiniteQueryData(i){return i.behavior=fb(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Xf.isOnline()?k(this,ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Et)}getMutationCache(){return k(this,ks)}getDefaultOptions(){return k(this,Ps)}setDefaultOptions(i){ce(this,Ps,i)}setQueryDefaults(i,e){k(this,vl).set($a(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...k(this,vl).values()],t={};return e.forEach(s=>{cc(i,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(i,e){k(this,El).set($a(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...k(this,El).values()],t={};return e.forEach(s=>{cc(i,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(i){if(i._defaulted)return i;const e={...k(this,Ps).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=dy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===my&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...k(this,Ps).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){k(this,Et).clear(),k(this,ks).clear()}},Et=new WeakMap,ks=new WeakMap,Ps=new WeakMap,vl=new WeakMap,El=new WeakMap,Ls=new WeakMap,bl=new WeakMap,Tl=new WeakMap,hS),VS=Q.createContext(void 0),yy=i=>{const e=Q.useContext(VS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},o2=({client:i,children:e})=>(Q.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),C.jsx(VS.Provider,{value:i,children:e})),US=Q.createContext(!1),l2=()=>Q.useContext(US);US.Provider;function u2(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var c2=Q.createContext(u2()),h2=()=>Q.useContext(c2),f2=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},d2=i=>{Q.useEffect(()=>{i.clearReset()},[i])},m2=({result:i,errorResetBoundary:e,throwOnError:t,query:s,suspense:o})=>i.isError&&!e.isReset()&&!i.isFetching&&s&&(o&&i.data===void 0||NS(t,[i.error,s])),p2=i=>{if(i.suspense){const t=o=>o==="static"?o:Math.max(o??1e3,1e3),s=i.staleTime;i.staleTime=typeof s=="function"?(...o)=>t(s(...o)):t(s),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},g2=(i,e)=>i.isLoading&&i.isFetching&&!e,y2=(i,e)=>(i==null?void 0:i.suspense)&&e.isPending,mb=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function _2(i,e,t){var b,w,O,z,V;const s=l2(),o=h2(),u=yy(),c=u.defaultQueryOptions(i);(w=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||w.call(b,c),c._optimisticResults=s?"isRestoring":"optimistic",p2(c),f2(c,o),d2(o);const m=!u.getQueryCache().get(c.queryHash),[p]=Q.useState(()=>new e(u,c)),g=p.getOptimisticResult(c),_=!s&&i.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(P=>{const W=_?p.subscribe(qt.batchCalls(P)):_n;return p.updateResult(),W},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Q.useEffect(()=>{p.setOptions(c)},[c,p]),y2(c,g))throw mb(c,p,o);if(m2({result:g,errorResetBoundary:o,throwOnError:c.throwOnError,query:u.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((z=(O=u.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||z.call(O,c,g),c.experimental_prefetchInRender&&!Ya&&g2(g,s)){const P=m?mb(c,p,o):(V=u.getQueryCache().get(c.queryHash))==null?void 0:V.promise;P==null||P.catch(_n).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?g:p.trackResult(g)}function _y(i,e){return _2(i,JI)}function Wp(i,e){const t=yy(),[s]=Q.useState(()=>new r2(t,i));Q.useEffect(()=>{s.setOptions(i)},[s,i]);const o=Q.useSyncExternalStore(Q.useCallback(c=>s.subscribe(qt.batchCalls(c)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=Q.useCallback((c,m)=>{s.mutate(c,m).catch(_n)},[s]);if(o.error&&NS(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const v2=()=>{};var pb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},E2=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,c||(w=64)),s.push(t[_],t[b],t[w],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):E2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new b2;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),b!==64){const z=g<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class b2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T2=function(i){const e=jS(i);return zS.encodeByteArray(e,!0)},Wf=function(i){return T2(i).replace(/\./g,"")},BS=function(i){try{return zS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=()=>S2().__FIREBASE_DEFAULTS__,w2=()=>{if(typeof process>"u"||typeof pb>"u")return;const i=pb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},R2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&BS(i[1]);return e&&JSON.parse(e)},Ed=()=>{try{return v2()||A2()||w2()||R2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},FS=i=>{var e,t;return(t=(e=Ed())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},qS=i=>{const e=FS(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},HS=()=>{var i;return(i=Ed())==null?void 0:i.config},GS=i=>{var e;return(e=Ed())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vy(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Wf(JSON.stringify(t)),Wf(JSON.stringify(c)),""].join(".")}const nc={};function I2(){const i={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?i.emulator.push(e):i.prod.push(e);return i}function x2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let gb=!1;function Ey(i,e){if(typeof window>"u"||typeof document>"u"||!Js(window.location.host)||nc[i]===e||nc[i]||gb)return;nc[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=I2().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{gb=!0,c()},w}function _(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=x2(s),O=t("text"),z=document.getElementById(O)||document.createElement("span"),V=t("learnmore"),P=document.getElementById(V)||document.createElement("a"),W=t("preprendIcon"),re=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;m(X),_(P,V);const oe=g();p(re,W),X.append(re,z,P,oe),document.body.appendChild(X)}u?(z.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function D2(){var e;const i=(e=Ed())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function k2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P2(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function L2(){return!D2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V2(){try{return typeof indexedDB=="object"}catch{return!1}}function U2(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="FirebaseError";class or extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=j2,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?z2(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new or(o,m,s)}}function z2(i,e){return i.replace(B2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const B2=/\{\$([^}]+)}/g;function F2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(yb(u)&&yb(c)){if(!Xa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function yb(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ju(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function q2(i,e){const t=new H2(i,e);return t.subscribe.bind(t)}class H2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");G2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Jp),o.error===void 0&&(o.error=Jp),o.complete===void 0&&(o.complete=Jp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(i){return i&&i._delegate?i._delegate:i}class Hs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new C2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y2(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:K2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K2(i){return i===Pa?void 0:i}function Y2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Q2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const X2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},W2=Ve.INFO,J2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Z2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=J2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=W2,this._logHandler=Z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const ex=(i,e)=>e.some(t=>i instanceof t);let _b,vb;function tx(){return _b||(_b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return vb||(vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KS=new WeakMap,xg=new WeakMap,YS=new WeakMap,Zp=new WeakMap,Ty=new WeakMap;function ix(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{t(js(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&KS.set(t,i)}).catch(()=>{}),Ty.set(e,i),e}function rx(i){if(xg.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});xg.set(i,e)}let Ng={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return xg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||YS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return js(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function sx(i){Ng=i(Ng)}function ax(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(eg(this),e,...t);return YS.set(s,e.sort?e.sort():[e]),js(s)}:nx().includes(i)?function(...e){return i.apply(eg(this),e),js(KS.get(this))}:function(...e){return js(i.apply(eg(this),e))}}function ox(i){return typeof i=="function"?ax(i):(i instanceof IDBTransaction&&rx(i),ex(i,tx())?new Proxy(i,Ng):i)}function js(i){if(i instanceof IDBRequest)return ix(i);if(Zp.has(i))return Zp.get(i);const e=ox(i);return e!==i&&(Zp.set(i,e),Ty.set(e,i)),e}const eg=i=>Ty.get(i);function lx(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=js(c);return s&&c.addEventListener("upgradeneeded",p=>{s(js(c.result),p.oldVersion,p.newVersion,js(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],tg=new Map;function Eb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=cx.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ux.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return tg.set(e,u),u}sx(i=>({...i,get:(e,t,s)=>Eb(e,t)||i.get(e,t,s),has:(e,t)=>!!Eb(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function fx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",bb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new by("@firebase/app"),dx="@firebase/app-compat",mx="@firebase/analytics-compat",px="@firebase/analytics",gx="@firebase/app-check-compat",yx="@firebase/app-check",_x="@firebase/auth",vx="@firebase/auth-compat",Ex="@firebase/database",bx="@firebase/data-connect",Tx="@firebase/database-compat",Sx="@firebase/functions",Ax="@firebase/functions-compat",wx="@firebase/installations",Rx="@firebase/installations-compat",Cx="@firebase/messaging",Ix="@firebase/messaging-compat",xx="@firebase/performance",Nx="@firebase/performance-compat",Dx="@firebase/remote-config",Ox="@firebase/remote-config-compat",Mx="@firebase/storage",kx="@firebase/storage-compat",Px="@firebase/firestore",Lx="@firebase/ai",Vx="@firebase/firestore-compat",Ux="firebase",jx="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",zx={[Dg]:"fire-core",[dx]:"fire-core-compat",[px]:"fire-analytics",[mx]:"fire-analytics-compat",[yx]:"fire-app-check",[gx]:"fire-app-check-compat",[_x]:"fire-auth",[vx]:"fire-auth-compat",[Ex]:"fire-rtdb",[bx]:"fire-data-connect",[Tx]:"fire-rtdb-compat",[Sx]:"fire-fn",[Ax]:"fire-fn-compat",[wx]:"fire-iid",[Rx]:"fire-iid-compat",[Cx]:"fire-fcm",[Ix]:"fire-fcm-compat",[xx]:"fire-perf",[Nx]:"fire-perf-compat",[Dx]:"fire-rc",[Ox]:"fire-rc-compat",[Mx]:"fire-gcs",[kx]:"fire-gcs-compat",[Px]:"fire-fst",[Vx]:"fire-fst-compat",[Lx]:"fire-vertex","fire-js":"fire-js",[Ux]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,Bx=new Map,Mg=new Map;function Tb(i,e){try{i.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Wa(i){const e=i.name;if(Mg.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,i);for(const t of Jf.values())Tb(t,i);for(const t of Bx.values())Tb(t,i);return!0}function bd(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new xc("app","Firebase",Fx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=jx;function $S(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Og,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(t||(t=HS()),!t)throw zs.create("no-options");const u=Jf.get(o);if(u){if(Xa(t,u.options)&&Xa(s,u.config))return u;throw zs.create("duplicate-app",{appName:o})}const c=new $2(o);for(const p of Mg.values())c.addComponent(p);const m=new qx(t,s,c);return Jf.set(o,m),m}function Sy(i=Og){const e=Jf.get(i);if(!e&&i===Og&&HS())return $S();if(!e)throw zs.create("no-app",{appName:i});return e}function Zi(i,e,t){let s=zx[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(c.join(" "));return}Wa(new Hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firebase-heartbeat-database",Gx=1,hc="firebase-heartbeat-store";let ng=null;function XS(){return ng||(ng=lx(Hx,Gx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(i=>{throw zs.create("idb-open",{originalErrorMessage:i.message})})),ng}async function Qx(i){try{const t=(await XS()).transaction(hc),s=await t.objectStore(hc).get(WS(i));return await t.done,s}catch(e){if(e instanceof or)Ur.warn(e.message);else{const t=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(t.message)}}}async function Sb(i,e){try{const s=(await XS()).transaction(hc,"readwrite");await s.objectStore(hc).put(e,WS(i)),await s.done}catch(t){if(t instanceof or)Ur.warn(t.message);else{const s=zs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ur.warn(s.message)}}}function WS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=1024,Yx=30;class $x{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Wx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ab();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Yx){const c=Jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ur.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ab(),{heartbeatsToSend:s,unsentEntries:o}=Xx(this._heartbeatsCache.heartbeats),u=Wf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Ur.warn(t),""}}}function Ab(){return new Date().toISOString().substring(0,10)}function Xx(i,e=Kx){const t=[];let s=i.slice();for(const o of i){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),wb(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Wx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V2()?U2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Qx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wb(i){return Wf(JSON.stringify({version:2,heartbeats:i})).length}function Jx(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i){Wa(new Hs("platform-logger",e=>new hx(e),"PRIVATE")),Wa(new Hs("heartbeat",e=>new $x(e),"PRIVATE")),Zi(Dg,bb,i),Zi(Dg,bb,"esm2020"),Zi("fire-js","")}Zx("");function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=JS,ZS=new xc("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new by("@firebase/auth");function tN(i,...e){Zf.logLevel<=Ve.WARN&&Zf.warn(`Auth (${ro}): ${i}`,...e)}function Uf(i,...e){Zf.logLevel<=Ve.ERROR&&Zf.error(`Auth (${ro}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(i,...e){throw Ay(i,...e)}function er(i,...e){return Ay(i,...e)}function eA(i,e,t){const s={...eN(),[e]:t};return new xc("auth","Firebase",s).create(e,{appName:i.name})}function Pr(i){return eA(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ZS.create(i,...e)}function Te(i,e,...t){if(!i)throw Ay(e,...t)}function Or(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Uf(e),new Error(e)}function jr(i,e){i||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function nN(){return Rb()==="http:"||Rb()==="https:"}function Rb(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||M2()||"connection"in navigator)?navigator.onLine:!0}function rN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=N2()||k2()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(i,e){jr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oN=new Dc(3e4,6e4);function Zs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ea(i,e,t,s,o={}){return nA(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Nc({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return O2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Js(i.emulatorConfig.host)&&(g.credentials="include"),tA.fetch()(await iA(i,i.config.apiHost,t,m),g)})}async function nA(i,e,t){i._canInitEmulator=!1;const s={...sN,...e};try{const o=new uN(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw bf(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw bf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw bf(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eA(i,_,g);Ti(i,_)}}catch(o){if(o instanceof or)throw o;Ti(i,"network-request-failed",{message:String(o)})}}async function Oc(i,e,t,s,o={}){const u=await ea(i,e,t,s,o);return"mfaPendingCredential"in u&&Ti(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function iA(i,e,t,s){const o=`${e}${t}?${s}`,u=i,c=u.config.emulator?wy(i.config,o):`${i.config.apiScheme}://${o}`;return aN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function lN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(er(this.auth,"network-request-failed")),oN.get())})}}function bf(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=er(i,e,s);return o.customData._tokenResponse=t,o}function Cb(i){return i!==void 0&&i.enterprise!==void 0}class cN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hN(i,e){return ea(i,"GET","/v2/recaptchaConfig",Zs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(i,e){return ea(i,"POST","/v1/accounts:delete",e)}async function ed(i,e){return ea(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dN(i,e=!1){const t=pt(i),s=await t.getIdToken(e),o=Ry(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ic(ig(o.auth_time)),issuedAtTime:ic(ig(o.iat)),expirationTime:ic(ig(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ig(i){return Number(i)*1e3}function Ry(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const o=BS(t);return o?JSON.parse(o):(Uf("Failed to decode base64 JWT payload"),null)}catch(o){return Uf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ib(i){const e=Ry(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof or&&mN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function mN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(i){var b;const e=i.auth,t=await i.getIdToken(),s=await fc(i,ed(e,{idToken:t}));Te(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(b=o.providerUserInfo)!=null&&b.length?rA(o.providerUserInfo):[],c=yN(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(c!=null&&c.length),g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function gN(i){const e=pt(i);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rA(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(i,e){const t=await nA(i,{},async()=>{const s=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await iA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Js(i.emulatorConfig.host)&&(p.credentials="include"),tA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vN(i,e){return ea(i,"POST","/v2/accounts:revokeToken",Zs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Ib(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await _N(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new sl;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await fc(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dN(this,e)}reload(){return gN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await fc(this,fN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:O,providerData:z,stsTokenManager:V}=t;Te(b&&V,e,"internal-error");const P=sl.fromJSON(this.name,V);Te(typeof b=="string",e,"internal-error"),bs(s,e.name),bs(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof O=="boolean",e,"internal-error"),bs(u,e.name),bs(c,e.name),bs(m,e.name),bs(p,e.name),bs(g,e.name),bs(_,e.name);const W=new _i({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:_});return z&&Array.isArray(z)&&(W.providerData=z.map(re=>({...re}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,t,s=!1){const o=new sl;o.updateFromServerResponse(t);const u=new _i({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await td(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new sl;m.updateFromIdToken(s);const p=new _i({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;function Mr(i){jr(i instanceof Function,"Expected a class definition");let e=xb.get(i);return e?(jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,xb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sA.type="NONE";const Nb=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(i,e,t){return`firebase:${i}:${e}:${t}`}class al{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=jf(this.userKey,o.apiKey,u),this.fullPersistenceKey=jf("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ed(this.auth,{idToken:e}).catch(()=>{});return t?_i._fromGetAccountInfoResponse(this.auth,t,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new al(Mr(Nb),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Mr(Nb);const c=jf(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const w=await ed(e,{idToken:_}).catch(()=>{});if(!w)break;b=await _i._fromGetAccountInfoResponse(e,w,_)}else b=_i._fromJSON(e,_);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new al(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new al(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hA(e))return"Blackberry";if(fA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||lA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function aA(i=hn()){return/firefox\//i.test(i)}function oA(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lA(i=hn()){return/crios\//i.test(i)}function uA(i=hn()){return/iemobile/i.test(i)}function cA(i=hn()){return/android/i.test(i)}function hA(i=hn()){return/blackberry/i.test(i)}function fA(i=hn()){return/webos/i.test(i)}function Cy(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function EN(i=hn()){var e;return Cy(i)&&!!((e=window.navigator)!=null&&e.standalone)}function bN(){return P2()&&document.documentMode===10}function dA(i=hn()){return Cy(i)||cA(i)||fA(i)||hA(i)||/windows phone/i.test(i)||uA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(i,e=[]){let t;switch(i){case"Browser":t=Db(hn());break;case"Worker":t=`${Db(hn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(i,e={}){return ea(i,"GET","/v2/passwordPolicy",Zs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=6;class wN{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??AN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ob(this),this.idTokenSubscription=new Ob(this),this.beforeStateQueue=new TN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ed(this,{idToken:e}),s=await _i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Pr(this));const t=e?pt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SN(this),t=new wN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await vN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&tN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function so(i){return pt(i)}class Ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=q2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CN(i){Td=i}function pA(i){return Td.loadJS(i)}function IN(){return Td.recaptchaEnterpriseScript}function xN(){return Td.gapiScript}function NN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class DN{constructor(){this.enterprise=new ON}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ON{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MN="recaptcha-enterprise",gA="NO_RECAPTCHA";class kN{constructor(e){this.type=MN,this.auth=so(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{hN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new cN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;Cb(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(gA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DN().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!t&&Cb(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=IN();p.length!==0&&(p+=m),pA(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function Mb(i,e,t,s=!1,o=!1){const u=new kN(i);let c;if(o)c=gA;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lg(i,e,t,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Mb(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Mb(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(i,e){const t=bd(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Xa(u,e??{}))return o;Ti(o,"already-initialized")}return t.initialize({options:e})}function LN(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Mr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function VN(i,e,t){const s=so(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=yA(e),{host:c,port:m}=UN(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Xa(g,s.config.emulator)&&Xa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Js(c)?(vy(`${u}//${c}${p}`),Ey("Auth",!0)):jN()}function yA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function UN(i){const e=yA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:kb(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:kb(c)}}}function kb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function jN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,t){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function zN(i,e){return ea(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(i,e){return Oc(i,"POST","/v1/accounts:signInWithPassword",Zs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Zs(i,e))}async function qN(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Zs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Iy{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new dc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new dc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,t,"signInWithPassword",BN);case"emailLink":return FN(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,s,"signUpPassword",zN);case"emailLink":return qN(e,{idToken:t,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(i,e){return Oc(i,"POST","/v1/accounts:signInWithIdp",Zs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="http://localhost";class Ja extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const c=new Ja(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ol(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ol(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ol(e,t)}buildRequest(){const e={requestUri:HN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QN(i){const e=Wu(Ju(i)).link,t=e?Wu(Ju(e)).deep_link_id:null,s=Wu(Ju(i)).deep_link_id;return(s?Wu(Ju(s)).link:null)||s||t||e||i}class xy{constructor(e){const t=Wu(Ju(e)),s=t.apiKey??null,o=t.oobCode??null,u=GN(t.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=QN(e);try{return new xy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.providerId=Ml.PROVIDER_ID}static credential(e,t){return dc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=xy.parseLink(t);return Te(s,"argument-error"),dc._fromEmailAndCode(e,s.code,s.tenantId)}}Ml.PROVIDER_ID="password";Ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends _A{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Mc{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ja._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return As.credential(t,s)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Mc{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Mc{constructor(){super("twitter.com")}static credential(e,t){return Ja._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(i,e){return Oc(i,"POST","/v1/accounts:signUp",Zs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await _i._fromIdTokenResponse(e,s,o),c=Pb(s);return new Za({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Pb(s);return new Za({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Pb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends or{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new nd(e,t,s,o)}}function vA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(i,u,e,s):u})}async function YN(i,e,t=!1){const s=await fc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Za._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(i,e,t=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(Pr(s));const o="reauthenticate";try{const u=await fc(i,vA(s,o,e,i),t);Te(u.idToken,s,"internal-error");const c=Ry(u.idToken);Te(c,s,"internal-error");const{sub:m}=c;return Te(i.uid===m,s,"user-mismatch"),Za._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(i,e,t=!1){if(jn(i.app))return Promise.reject(Pr(i));const s="signIn",o=await vA(i,s,e),u=await Za._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function XN(i,e){return EA(so(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(i){const e=so(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WN(i,e,t){if(jn(i.app))return Promise.reject(Pr(i));const s=so(i),c=await Lg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bA(i),p}),m=await Za._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function JN(i,e,t){return jn(i.app)?Promise.reject(Pr(i)):XN(pt(i),Ml.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bA(i),s})}function ZN(i,e,t,s){return pt(i).onIdTokenChanged(e,t,s)}function eD(i,e,t){return pt(i).beforeAuthStateChanged(e,t)}function tD(i,e,t,s){return pt(i).onAuthStateChanged(e,t,s)}function nD(i){return pt(i).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1e3,rD=10;class SA extends TA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);bN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SA.type="LOCAL";const sD=SA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends TA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AA.type="SESSION";const wA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Sd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await aD(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Ny("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function lD(i){tr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function uD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function hD(){return RA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebaseLocalStorageDb",fD=1,rd="firebaseLocalStorage",IA="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ad(i,e){return i.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function dD(){const i=indexedDB.deleteDatabase(CA);return new kc(i).toPromise()}function Vg(){const i=indexedDB.open(CA,fD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(rd,{keyPath:IA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(rd)?e(s):(s.close(),await dD(),e(await Vg()))})})}async function Lb(i,e,t){const s=Ad(i,!0).put({[IA]:e,value:t});return new kc(s).toPromise()}async function mD(i,e){const t=Ad(i,!1).get(e),s=await new kc(t).toPromise();return s===void 0?null:s.value}function Vb(i,e){const t=Ad(i,!0).delete(e);return new kc(t).toPromise()}const pD=800,gD=3;class xA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>gD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sd._getInstance(hD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await uD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await Lb(e,id,"1"),await Vb(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Lb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>mD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ad(o,!1).getAll();return new kc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xA.type="LOCAL";const yD=xA;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(i,e){return e?Mr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ol(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vD(i){return EA(i.auth,new Dy(i),i.bypassAuthState)}function ED(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),$N(t,new Dy(i),i.bypassAuthState)}async function bD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),YN(t,new Dy(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vD;case"linkViaPopup":case"linkViaRedirect":return bD;case"reauthViaPopup":case"reauthViaRedirect":return ED;default:Ti(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Dc(2e3,1e4);class rl extends NA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TD.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",zf=new Map;class AD extends NA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const s=await wD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wD(i,e){const t=ID(e),s=CD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function RD(i,e){zf.set(i._key(),e)}function CD(i){return Mr(i._redirectPersistence)}function ID(i){return jf(SD,i.config.apiKey,i.name)}async function xD(i,e,t=!1){if(jn(i.app))return Promise.reject(Pr(i));const s=so(i),o=_D(s,e),c=await new AD(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=600*1e3;class DD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!DA(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(er(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ND&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(e))}saveEventToCache(e){this.cachedEventUids.add(Ub(e)),this.lastProcessedEventTime=Date.now()}}function Ub(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function DA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(i,e={}){return ea(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PD=/^https?/;async function LD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await MD(i);for(const t of e)try{if(VD(t))return}catch{}Ti(i,"unauthorized-domain")}function VD(i){const e=kg(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!PD.test(t))return!1;if(kD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new Dc(3e4,6e4);function jb(){const i=tr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function jD(i){return new Promise((e,t)=>{var o,u,c;function s(){jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jb(),t(er(i,"network-request-failed"))},timeout:UD.get()})}if((u=(o=tr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((c=tr().gapi)!=null&&c.load)s();else{const m=NN("iframefcb");return tr()[m]=()=>{gapi.load?s():t(er(i,"network-request-failed"))},pA(`${xN()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function zD(i){return Bf=Bf||jD(i),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Dc(5e3,15e3),FD="__/auth/iframe",qD="emulator/auth/iframe",HD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QD(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?wy(e,qD):`https://${i.config.authDomain}/${FD}`,s={apiKey:e.apiKey,appName:i.name,v:ro},o=GD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nc(s).slice(1)}`}async function KD(i){const e=await zD(i),t=tr().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:QD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=er(i,"network-request-failed"),m=tr().setTimeout(()=>{u(c)},BD.get());function p(){tr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$D=500,XD=600,WD="_blank",JD="http://localhost";class zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZD(i,e,t,s=$D,o=XD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...YD,width:s.toString(),height:o.toString(),top:u,left:c},g=hn().toLowerCase();t&&(m=lA(g)?WD:t),aA(g)&&(e=e||JD,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[O,z])=>`${w}${O}=${z},`,"");if(EN(g)&&m!=="_self")return eO(e||"",m),new zb(null);const b=window.open(e||"",m,_);Te(b,i,"popup-blocked");try{b.focus()}catch{}return new zb(b)}function eO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="__/auth/handler",nO="emulator/auth/handler",iO=encodeURIComponent("fac");async function Bb(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ro,eventId:o};if(e instanceof _A){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",F2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof Mc){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${iO}=${encodeURIComponent(p)}`:"";return`${rO(i)}?${Nc(m).slice(1)}${g}`}function rO({config:i}){return i.emulator?wy(i,nO):`https://${i.authDomain}/${tO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="webStorageSupport";class sO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wA,this._completeRedirectFn=xD,this._overrideRedirectResult=RD}async _openPopup(e,t,s,o){var c;jr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await Bb(e,t,s,kg(),o);return ZD(e,u,Ny())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Bb(e,t,s,kg(),o);return lD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(jr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await KD(e),s=new DD(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rg,{type:rg},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[rg];u!==void 0&&t(!!u),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dA()||oA()||Cy()}}const aO=sO;var Fb="@firebase/auth",qb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uO(i){Wa(new Hs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mA(i)},g=new RN(s,o,u,p);return LN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Wa(new Hs("auth-internal",e=>{const t=so(e.getProvider("auth").getImmediate());return(s=>new oO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(Fb,qb,lO(i)),Zi(Fb,qb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=300,hO=GS("authIdTokenMaxAge")||cO;let Hb=null;const fO=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>hO)return;const o=t==null?void 0:t.token;Hb!==o&&(Hb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dO(i=Sy()){const e=bd(i,"auth");if(e.isInitialized())return e.getImmediate();const t=PN(i,{popupRedirectResolver:aO,persistence:[yD,sD,wA]}),s=GS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=fO(u.toString());eD(t,c,()=>c(t.currentUser)),ZN(t,m=>c(m))}}const o=FS("auth");return o&&VN(t,`http://${o}`),t}function mO(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}CN({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=er("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",mO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uO("Browser");var pO="firebase",gO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(pO,gO,"app");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,OA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(D,I,j){for(var x=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)x[Ke-2]=arguments[Ke];return S.prototype[I].apply(D,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);const D=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)D[I]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(I=0;I<16;++I)D[I]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],I=N.g[2];let j=N.g[3],x;x=S+(j^R&(I^j))+D[0]+3614090360&4294967295,S=R+(x<<7&4294967295|x>>>25),x=j+(I^S&(R^I))+D[1]+3905402710&4294967295,j=S+(x<<12&4294967295|x>>>20),x=I+(R^j&(S^R))+D[2]+606105819&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(S^I&(j^S))+D[3]+3250441966&4294967295,R=I+(x<<22&4294967295|x>>>10),x=S+(j^R&(I^j))+D[4]+4118548399&4294967295,S=R+(x<<7&4294967295|x>>>25),x=j+(I^S&(R^I))+D[5]+1200080426&4294967295,j=S+(x<<12&4294967295|x>>>20),x=I+(R^j&(S^R))+D[6]+2821735955&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(S^I&(j^S))+D[7]+4249261313&4294967295,R=I+(x<<22&4294967295|x>>>10),x=S+(j^R&(I^j))+D[8]+1770035416&4294967295,S=R+(x<<7&4294967295|x>>>25),x=j+(I^S&(R^I))+D[9]+2336552879&4294967295,j=S+(x<<12&4294967295|x>>>20),x=I+(R^j&(S^R))+D[10]+4294925233&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(S^I&(j^S))+D[11]+2304563134&4294967295,R=I+(x<<22&4294967295|x>>>10),x=S+(j^R&(I^j))+D[12]+1804603682&4294967295,S=R+(x<<7&4294967295|x>>>25),x=j+(I^S&(R^I))+D[13]+4254626195&4294967295,j=S+(x<<12&4294967295|x>>>20),x=I+(R^j&(S^R))+D[14]+2792965006&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(S^I&(j^S))+D[15]+1236535329&4294967295,R=I+(x<<22&4294967295|x>>>10),x=S+(I^j&(R^I))+D[1]+4129170786&4294967295,S=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(S^R))+D[6]+3225465664&4294967295,j=S+(x<<9&4294967295|x>>>23),x=I+(S^R&(j^S))+D[11]+643717713&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^S&(I^j))+D[0]+3921069994&4294967295,R=I+(x<<20&4294967295|x>>>12),x=S+(I^j&(R^I))+D[5]+3593408605&4294967295,S=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(S^R))+D[10]+38016083&4294967295,j=S+(x<<9&4294967295|x>>>23),x=I+(S^R&(j^S))+D[15]+3634488961&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^S&(I^j))+D[4]+3889429448&4294967295,R=I+(x<<20&4294967295|x>>>12),x=S+(I^j&(R^I))+D[9]+568446438&4294967295,S=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(S^R))+D[14]+3275163606&4294967295,j=S+(x<<9&4294967295|x>>>23),x=I+(S^R&(j^S))+D[3]+4107603335&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^S&(I^j))+D[8]+1163531501&4294967295,R=I+(x<<20&4294967295|x>>>12),x=S+(I^j&(R^I))+D[13]+2850285829&4294967295,S=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(S^R))+D[2]+4243563512&4294967295,j=S+(x<<9&4294967295|x>>>23),x=I+(S^R&(j^S))+D[7]+1735328473&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^S&(I^j))+D[12]+2368359562&4294967295,R=I+(x<<20&4294967295|x>>>12),x=S+(R^I^j)+D[5]+4294588738&4294967295,S=R+(x<<4&4294967295|x>>>28),x=j+(S^R^I)+D[8]+2272392833&4294967295,j=S+(x<<11&4294967295|x>>>21),x=I+(j^S^R)+D[11]+1839030562&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^S)+D[14]+4259657740&4294967295,R=I+(x<<23&4294967295|x>>>9),x=S+(R^I^j)+D[1]+2763975236&4294967295,S=R+(x<<4&4294967295|x>>>28),x=j+(S^R^I)+D[4]+1272893353&4294967295,j=S+(x<<11&4294967295|x>>>21),x=I+(j^S^R)+D[7]+4139469664&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^S)+D[10]+3200236656&4294967295,R=I+(x<<23&4294967295|x>>>9),x=S+(R^I^j)+D[13]+681279174&4294967295,S=R+(x<<4&4294967295|x>>>28),x=j+(S^R^I)+D[0]+3936430074&4294967295,j=S+(x<<11&4294967295|x>>>21),x=I+(j^S^R)+D[3]+3572445317&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^S)+D[6]+76029189&4294967295,R=I+(x<<23&4294967295|x>>>9),x=S+(R^I^j)+D[9]+3654602809&4294967295,S=R+(x<<4&4294967295|x>>>28),x=j+(S^R^I)+D[12]+3873151461&4294967295,j=S+(x<<11&4294967295|x>>>21),x=I+(j^S^R)+D[15]+530742520&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^S)+D[2]+3299628645&4294967295,R=I+(x<<23&4294967295|x>>>9),x=S+(I^(R|~j))+D[0]+4096336452&4294967295,S=R+(x<<6&4294967295|x>>>26),x=j+(R^(S|~I))+D[7]+1126891415&4294967295,j=S+(x<<10&4294967295|x>>>22),x=I+(S^(j|~R))+D[14]+2878612391&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~S))+D[5]+4237533241&4294967295,R=I+(x<<21&4294967295|x>>>11),x=S+(I^(R|~j))+D[12]+1700485571&4294967295,S=R+(x<<6&4294967295|x>>>26),x=j+(R^(S|~I))+D[3]+2399980690&4294967295,j=S+(x<<10&4294967295|x>>>22),x=I+(S^(j|~R))+D[10]+4293915773&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~S))+D[1]+2240044497&4294967295,R=I+(x<<21&4294967295|x>>>11),x=S+(I^(R|~j))+D[8]+1873313359&4294967295,S=R+(x<<6&4294967295|x>>>26),x=j+(R^(S|~I))+D[15]+4264355552&4294967295,j=S+(x<<10&4294967295|x>>>22),x=I+(S^(j|~R))+D[6]+2734768916&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~S))+D[13]+1309151649&4294967295,R=I+(x<<21&4294967295|x>>>11),x=S+(I^(R|~j))+D[4]+4149444226&4294967295,S=R+(x<<6&4294967295|x>>>26),x=j+(R^(S|~I))+D[11]+3174756917&4294967295,j=S+(x<<10&4294967295|x>>>22),x=I+(S^(j|~R))+D[2]+718787259&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~S))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,D=this.C;let I=this.h,j=0;for(;j<S;){if(I==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<S;)if(D[I++]=N.charCodeAt(j++),I==this.blockSize){o(this,D),I=0;break}}else for(;j<S;)if(D[I++]=N[j++],I==this.blockSize){o(this,D),I=0;break}}this.h=I,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)N[S++]=this.g[R]>>>D&255;return N};function u(N,S){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function c(N,S){this.h=S;const R=[];let D=!0;for(let I=N.length-1;I>=0;I--){const j=N[I]|0;D&&j==S||(R[I]=j,D=!1)}this.g=R}var m={};function p(N){return-128<=N&&N<128?u(N,function(S){return new c([S|0],S<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return P(g(-N));const S=[];let R=1;for(let D=0;N>=R;D++)S[D]=N/R|0,R*=4294967296;return new c(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return P(_(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(S,8));let D=b;for(let j=0;j<N.length;j+=8){var I=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+I),S);I<8?(I=g(Math.pow(S,I)),D=D.j(I).add(g(x))):(D=D.j(R),D=D.add(g(x)))}return D}var b=p(0),w=p(1),O=p(16777216);i=c.prototype,i.m=function(){if(V(this))return-P(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);N+=(D>=0?D:4294967296+D)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(z(this))return"0";if(V(this))return"-"+P(this).toString(N);const S=g(Math.pow(N,6));var R=this;let D="";for(;;){const I=oe(R,S).g;R=W(R,I.j(S));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=I,z(R))return j+D;for(;j.length<6;)j="0"+j;D=j+D}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function z(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function V(N){return N.h==-1}i.l=function(N){return N=W(this,N),V(N)?-1:z(N)?0:1};function P(N){const S=N.g.length,R=[];for(let D=0;D<S;D++)R[D]=~N.g[D];return new c(R,~N.h).add(w)}i.abs=function(){return V(this)?P(this):this},i.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let D=0;for(let I=0;I<=S;I++){let j=D+(this.i(I)&65535)+(N.i(I)&65535),x=(j>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);D=x>>>16,j&=65535,x&=65535,R[I]=x<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function W(N,S){return N.add(P(S))}i.j=function(N){if(z(this)||z(N))return b;if(V(this))return V(N)?P(this).j(P(N)):P(P(this).j(N));if(V(N))return P(this.j(P(N)));if(this.l(O)<0&&N.l(O)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<N.g.length;I++){const j=this.i(D)>>>16,x=this.i(D)&65535,Ke=N.i(I)>>>16,yt=N.i(I)&65535;R[2*D+2*I]+=x*yt,re(R,2*D+2*I),R[2*D+2*I+1]+=j*yt,re(R,2*D+2*I+1),R[2*D+2*I+1]+=x*Ke,re(R,2*D+2*I+1),R[2*D+2*I+2]+=j*Ke,re(R,2*D+2*I+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new c(R,0)};function re(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function X(N,S){this.g=N,this.h=S}function oe(N,S){if(z(S))throw Error("division by zero");if(z(N))return new X(b,b);if(V(N))return S=oe(P(N),S),new X(P(S.g),P(S.h));if(V(S))return S=oe(N,P(S)),new X(P(S.g),S.h);if(N.g.length>30){if(V(N)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,D=S;D.l(N)<=0;)R=se(R),D=se(D);var I=me(R,1),j=me(D,1);for(D=me(D,2),R=me(R,2);!z(D);){var x=j.add(D);x.l(N)<=0&&(I=I.add(R),j=x),D=me(D,1),R=me(R,1)}return S=W(N,I.j(S)),new X(I,S)}for(I=b;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),j=g(R),x=j.j(S);V(x)||x.l(N)>0;)R-=D,j=g(R),x=j.j(S);z(j)&&(j=w),I=I.add(j),N=W(N,x)}return new X(I,N)}i.B=function(N){return oe(this,N).h},i.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)&N.i(D);return new c(R,this.h&N.h)},i.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)|N.i(D);return new c(R,this.h|N.h)},i.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)^N.i(D);return new c(R,this.h^N.h)};function se(N){const S=N.g.length+1,R=[];for(let D=0;D<S;D++)R[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(R,N.h)}function me(N,S){const R=S>>5;S%=32;const D=N.g.length-R,I=[];for(let j=0;j<D;j++)I[j]=S>0?N.i(j+R)>>>S|N.i(j+R+1)<<32-S:N.i(j+R);return new c(I,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,OA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Bs=c}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MA,Zu,kA,Ff,Ug,PA,LA,VA;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in E))break e;E=E[F]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,F,Y){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return y.prototype[F].apply(A,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function z(h,y){for(let A=1;A<arguments.length;A++){const F=arguments[A];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const Y=F.length||0;h.length=E+Y;for(let le=0;le<Y;le++)h[E+le]=F[le]}else h.push(F)}}class V{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(h){c.setTimeout(()=>{throw h},0)}function W(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,E){const A=X.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new V(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,me=!1,N=new re,S=()=>{const h=Promise.resolve(void 0);se=()=>{h.then(R)}};function R(){for(var h;h=W();){try{h.h.call(h.g)}catch(E){P(E)}var y=X;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}me=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function Ke(h,y){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(Ke,I),Ke.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),q=0;function ae(h,y,E,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=F,this.key=++q,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function He(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function Je(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function U(h){const y={};for(const E in h)y[E]=h[E];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)h[E]=A[E];for(let Y=0;Y<ne.length;Y++)E=ne[Y],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,y,E,A,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const le=Ne(h,y,A,F);return le>-1?(y=h[le],E||(y.fa=!1)):(y=new ae(y,this.src,Y,!!A,F),y.fa=E,h.push(y)),y};function Ae(h,y){const E=y.type;if(E in h.g){var A=h.g[E],F=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(A,F,1),Y&&(ye(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ne(h,y,E,A){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return F}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),zt={};function ht(h,y,E,A,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ht(h,y[Y],E,A,F);return null}return E=Bl(E),h&&h[yt]?h.J(y,E,m(A)?!!A.capture:!1,F):ia(h,y,E,!1,A,F)}function ia(h,y,E,A,F,Y){if(!y)throw Error("Invalid event type");const le=m(F)?!!F.capture:!!F;let Ie=ra(h);if(Ie||(h[Fe]=Ie=new de(h)),E=Ie.add(y,E,A,le,Y),E.proxy)return E;if(A=uo(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)j||(F=le),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(Ri(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function uo(){function h(E){return y.call(h.src,h.listener,E)}const y=jl;return h}function co(h,y,E,A,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)co(h,y[Y],E,A,F);else A=m(A)?!!A.capture:!!A,E=Bl(E),h&&h[yt]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],E=Ne(y,E,A,F),E>-1&&(ye(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ra(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ne(y,E,A,F)),(E=h>-1?y[h]:null)&&ho(E))}function ho(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[yt])Ae(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(Ri(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=ra(y))?(Ae(E,h),E.h==0&&(E.src=null,y[Fe]=null)):ye(h)}}}function Ri(h){return h in zt?zt[h]:zt[h]="on"+h}function jl(h,y){if(h.da)h=!0;else{y=new Ke(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&ho(h),h=E.call(A,y)}return h}function ra(h){return h=h[Fe],h instanceof de?h:null}var zl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bl(h){return typeof h=="function"?h:(h[zl]||(h[zl]=function(y){return h.handleEvent(y)}),h[zl])}function It(){D.call(this),this.i=new de(this),this.M=this,this.G=null}b(It,D),It.prototype[yt]=!0,It.prototype.removeEventListener=function(h,y,E,A){co(this,h,y,E,A)};function Bt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new I(y,h);else if(y instanceof I)y.target=y.target||h;else{var F=y;y=new I(A,h),ue(y,F)}F=!0;let Y,le;if(E)for(le=E.length-1;le>=0;le--)Y=y.g=E[le],F=Fr(Y,A,!0,y)&&F;if(Y=y.g=h,F=Fr(Y,A,!0,y)&&F,F=Fr(Y,A,!1,y)&&F,E)for(le=0;le<E.length;le++)Y=y.g=E[le],F=Fr(Y,A,!1,y)&&F}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)ye(E[A]);delete h.g[y],h.h--}}this.G=null},It.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},It.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Fr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const le=y[Y];if(le&&!le.da&&le.capture==E){const Ie=le.listener,At=le.ha||le.src;le.fa&&Ae(h.i,le),F=Ie.call(At,A)!==!1&&F}}return F&&!A.defaultPrevented}function Hd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Fc(h){h.g=Hd(()=>{h.g=null,h.i&&(h.i=!1,Fc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class fn extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(h){D.call(this),this.h=h,this.g={}}b(sa,D);var Fl=[];function ql(h){He(h.g,function(y,E){this.g.hasOwnProperty(E)&&ho(y)},h),h.g={}}sa.prototype.N=function(){sa.Z.N.call(this),ql(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=c.JSON.stringify,Gd=c.JSON.parse,qc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Hc(){}function Gc(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){I.call(this,"d")}b(Wt,I);function Fn(){I.call(this,"c")}b(Fn,I);var St={},Qc=null;function fo(){return Qc=Qc||new It}St.Ia="serverreachability";function Kc(h){I.call(this,St.Ia,h)}b(Kc,I);function Ci(h){const y=fo();Bt(y,new Kc(y))}St.STAT_EVENT="statevent";function aa(h,y){I.call(this,St.STAT_EVENT,h),this.stat=y}b(aa,I);function xt(h){const y=fo();Bt(y,new aa(y,h))}St.Ja="timingevent";function Ii(h,y){I.call(this,St.Ja,h),this.size=y}b(Ii,I);function xi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Qd(h,y,E,A,F,Y){h.info(function(){if(h.g)if(Y){var le="",Ie=Y.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var At=Ie[Ye].split("=");if(At.length>1){const ft=At[0];At=At[1];const Qn=ft.split("_");le=Qn.length>=2&&Qn[1]=="type"?le+(ft+"="+At+"&"):le+(ft+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+E+`
`+le})}function Yc(h,y,E,A,F,Y,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+E+`
`+Y+" "+le})}function Ni(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kd(h,E)+(A?" "+A:"")})}function oa(h,y){h.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function Kd(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return qr(Y)}catch{return y}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gl;function ua(){}b(ua,Hc),ua.prototype.g=function(){return new XMLHttpRequest},Gl=new ua;function lr(h){return encodeURIComponent(String(h))}function $c(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function ai(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Nt={},Qt={};function Di(h,y,E){h.M=1,h.A=ca(Ot(y)),h.u=E,h.R=!0,mo(h,null)}function mo(h,y){h.F=Date.now(),Oi(h),h.B=Ot(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),_o(E.i,"t",A),h.C=0,E=h.j.L,h.h=new oi,h.g=ch(h.j,E?y:null,!h.u),h.P>0&&(h.O=new fn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Fl[0]=F.toString()),F=Fl);for(let Y=0;Y<F.length;Y++){const le=ht(E,F[Y],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ci(),Qd(h.i,h.v,h.B,h.l,h.S,h.u)}ai.prototype.ba=function(h){h=h.target;const y=this.O;y&&ci(h)==3?y.j():this.Y(h)},ai.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=ci(this.g),At=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ie!=4||At==7||(At==8||Ye<=0?Ci(3):Ci(2)),Mi(this);var y=this.g.ca();this.X=y;var E=Yd(this);if(this.o=y==200,Yc(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var Y=A;break t}}Y=null}if(h=Y)Ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,h);else{this.o=!1,this.m=3,xt(12),Nn(this),qn(this);break e}}if(this.R){h=!0;let ft;for(;!this.K&&this.C<E.length;)if(ft=Wc(this,E),ft==Qt){Ie==4&&(this.m=4,xt(14),h=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Nt){this.m=4,xt(15),Ni(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ni(this.i,this.l,ft,null),ki(this,ft);if(Xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)Ni(this.i,this.l,E,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),au(le),le.P=!0,xt(11))}}else Ni(this.i,this.l,E,null),ki(this,E);Ie==4&&Nn(this),this.o&&!this.K&&(Ie==4?ah(this.j,this):(this.o=!1,Oi(this)))}else cr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Nn(this),qn(this)}}}catch{}finally{}};function Yd(h){if(!Xc(h))return h.g.la();const y=Jt(h.g);if(y==="")return"";let E="";const A=y.length,F=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Nn(h),qn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,E+=h.h.i.decode(y[Y],{stream:!(F&&Y==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Xc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Wc(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Qt:(E=Number(y.substring(E,A)),isNaN(E)?Nt:(A+=1,A+E>y.length?Qt:(y=y.slice(A,A+E),h.C=A+E,y)))}ai.prototype.cancel=function(){this.K=!0,Nn(this)};function Oi(h){h.T=Date.now()+h.H,po(h,h.H)}function po(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=xi(g(h.aa,h),y)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(oa(this.i,this.B),this.M!=2&&(Ci(),xt(17)),Nn(this),this.m=2,qn(this)):po(this,this.T-h)};function qn(h){h.j.I==0||h.K||ah(h.j,h)}function Nn(h){Mi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,ql(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function ki(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Li(E.h,h))){if(!h.L&&Li(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)So(E),Wr(E);else break e;ya(E),xt(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=xi(g(E.Va,E),6e3));Pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((h.L||E.g==h)&&So(E),!x(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let Ye=F[y];const ft=Ye[0];if(!(ft<=E.K))if(E.K=ft,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Qn=Ye[3];Qn!=null&&(E.ka=Qn,E.j.info("VER="+E.ka));const qi=Ye[4];qi!=null&&(E.za=qi,E.j.info("SVER="+E.za));const hi=Ye[5];hi!=null&&typeof hi=="number"&&hi>0&&(A=1.5*hi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const fi=h.g;if(fi){const _a=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var Y=A.h;Y.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yl(Y,Y.h),Y.h=null))}if(A.G){const Ao=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(A.wa=Ao,Ze(A.J,A.G,Ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var le=h;if(A.na=uh(A,A.L?A.ba:null,A.W),le.L){$l(A.h,le);var Ie=le,At=A.O;At&&(Ie.H=At),Ie.D&&(Mi(Ie),Oi(Ie)),A.g=le}else rh(A);E.i.length>0&&Bi(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Fi(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Fi(E,7):ru(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}Ci(4)}catch{}}var Dt=class{constructor(h,y){this.g=h,this.map=y}};function Ql(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pi(h){return h.h?1:h.g?h.g.size:0}function Li(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Yl(h,y){h.g?h.g.add(y):h.h=y}function $l(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ql.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return O(h.i)}var Jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let F,Y=null;A>=0?(F=h[E].substring(0,A),Y=h[E].substring(A+1)):F=h[E],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Dn?(this.l=h.l,Kt(this,h.j),this.o=h.o,this.g=h.g,Hr(this,h.u),this.h=h.h,Wl(this,nh(h.i)),this.m=h.m):h&&(y=String(h).match(Jc))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),Hr(this,y[4]),this.h=Vi(y[5]||"",!0),Wl(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.l=!1,this.i=new Qr(null,this.l))}Dn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ha(y,yo,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ha(y,yo,!0),"@"),h.push(lr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ha(E,E.charAt(0)=="/"?Jl:Zc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ha(E,eh)),h.join("")},Dn.prototype.resolve=function(h){const y=Ot(this);let E=!!h.j;E?Kt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Hr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=y.h.lastIndexOf("/");F!=-1&&(A=y.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let le=0;le<F.length;){const Ie=F[le++];Ie=="."?A&&le==F.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&le==F.length&&Y.push("")):(Y.push(Ie),A=!0)}A=Y.join("/")}else A=F}return E?y.h=A:E=h.i.toString()!=="",E?Wl(y,nh(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ot(h){return new Dn(h)}function Kt(h,y,E){h.j=E?Vi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Hr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Wl(h,y,E){y instanceof Qr?(h.i=y,vo(h.i,h.l)):(E||(y=ha(y,Gr)),h.i=new Qr(y,h.l))}function Ze(h,y,E){h.i.set(y,E)}function ca(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Vi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ha(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,vn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yo=/[#\/\?@]/g,Zc=/[#\?:]/g,Jl=/[#\?]/g,Gr=/[#\?@]/g,eh=/#/g;function Qr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function En(h){h.g||(h.g=new Map,h.h=0,h.i&&go(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Qr.prototype,i.add=function(h,y){En(this),this.i=null,h=Kr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function th(h,y){En(h),y=Kr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Zl(h,y){return En(h),y=Kr(h,y),h.g.has(y)}i.forEach=function(h,y){En(this),this.g.forEach(function(E,A){E.forEach(function(F){h.call(y,F,A,this)},this)},this)};function eu(h,y){En(h);let E=[];if(typeof y=="string")Zl(h,y)&&(E=E.concat(h.g.get(Kr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return En(this),this.i=null,h=Kr(this,h),Zl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=eu(this,h),h.length>0?String(h[0]):y):y};function _o(h,y,E){th(h,y),E.length>0&&(h.i=null,h.g.set(Kr(h,y),O(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const F=lr(E);E=eu(this,E);for(let Y=0;Y<E.length;Y++){let le=F;E[Y]!==""&&(le+="="+lr(E[Y])),h.push(le)}}return this.i=h.join("&")};function nh(h){const y=new Qr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Kr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function vo(h,y){y&&!h.j&&(En(h),h.i=null,h.g.forEach(function(E,A){const F=A.toLowerCase();A!=F&&(th(this,A),_o(this,F,E))},h)),h.j=y}function li(h,y){const E=new si;if(c.Image){const A=new Image;A.onload=_(Hn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Hn,E,"TestLoadImage: error",!1,y,A),A.onabort=_(Hn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Hn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function tu(h,y){const E=new si,A=new AbortController,F=setTimeout(()=>{A.abort(),Hn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?Hn(E,"TestPingServer: ok",!0,y):Hn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Hn(E,"TestPingServer: error",!1,y)})}function Hn(h,y,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Yr(){this.g=new qc}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ui,Hc),Ui.prototype.g=function(){return new fa(this.i,this.h)};function fa(h,y){It.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(fa,It),i=fa.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ui(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?$r(this):ui(this),this.readyState==3&&Eo(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,$r(this))},i.Na=function(h){this.g&&(this.response=h,$r(this))},i.ga=function(){this.g&&$r(this)};function $r(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ui(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let y="";return He(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function da(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Gn(E),typeof h=="string"?E!=null&&lr(E):Ze(h,y,E))}function nt(h){It.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,It);var ji=/^https?$/i,nu=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){ma(this,Y);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(nu,y,void 0)>=0)||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){ma(this,Y)}};function ma(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,iu(h),ur(h)}function iu(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Bt(this,"complete"),Bt(this,"abort"),ur(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},i.Xa=function(){pa(this)};function pa(h){if(h.h&&typeof u<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(Bt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Y===0){let le=String(h.D).match(Jc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!ji.test(le?le.toLowerCase():"")}E=A}if(E)Bt(h,"complete"),Bt(h,"success");else{h.o=6;try{var F=ci(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",iu(h)}}finally{ur(h)}}}}function ur(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Bt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Gd(y)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cr(h){const y={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(x(h[A]))continue;var E=$c(h[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[F]||[];y[F]=Y,Y.push(E)}Je(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Xr(h){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,h),this.Za=zi("retryDelaySeedMs",1e4,h),this.Ta=zi("forwardChannelMaxRetries",2,h),this.va=zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ql(h&&h.concurrentRequestLimit),this.Ba=new Yr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Xr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){xt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=uh(this,null,this.W),Bi(this)};function ru(h){if(bo(h),h.I==3){var y=h.V++,E=Ot(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",y),Ze(E,"TYPE","terminate"),ga(h,E),y=new ai(h,h.j,y),y.M=2,y.A=ca(Ot(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=ch(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Oi(y)}lh(h)}function Wr(h){h.g&&(au(h),h.g.cancel(),h.g=null)}function bo(h){Wr(h),h.v&&(c.clearTimeout(h.v),h.v=null),So(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Bi(h){if(!Kl(h.h)&&!h.m){h.m=!0;var y=h.Ea;se||S(),me||(se(),me=!0),N.add(y,h),h.D=0}}function To(h,y){return Pi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=xi(g(h.Ea,h,y),oh(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ai(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=U(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ih(this,F,y),E=Ot(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),ga(this,E),Y&&(this.R?y="headers="+lr(Gn(Y))+"&"+y:this.u&&da(E,this.u,Y)),Yl(this.h,F),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",y),Ze(E,"SID","null"),F.U=!0,Di(F,E,null)):Di(F,E,y),this.I=2}}else this.I==3&&(h?su(this,h):this.i.length==0||Kl(this.h)||su(this))};function su(h,y){var E;y?E=y.l:E=h.V++;const A=Ot(h.J);Ze(A,"SID",h.M),Ze(A,"RID",E),Ze(A,"AID",h.K),ga(h,A),h.u&&h.o&&da(A,h.u,h.o),E=new ai(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ih(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yl(h.h,E),Di(E,A,y)}function ga(h,y){h.H&&He(h.H,function(E,A){Ze(y,A,E)}),h.l&&He({},function(E,A){Ze(y,A,E)})}function ih(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ie=-1;for(;;){const At=["count="+E];Ie==-1?E>0?(Ie=F[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Ye=!0;for(let ft=0;ft<E;ft++){var Y=F[ft].g;const Qn=F[ft].map;if(Y-=Ie,Y<0)Ie=Math.max(0,F[ft].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var le=Qn instanceof Map?Qn:Object.entries(Qn);for(const[qi,hi]of le){let fi=hi;m(hi)&&(fi=qr(hi)),At.push(Y+qi+"="+encodeURIComponent(fi))}}catch(qi){throw At.push(Y+"type="+encodeURIComponent("_badmap")),qi}}catch{A&&A(Qn)}}if(Ye){le=At.join("&");break e}}le=void 0}return h=h.i.splice(0,E),y.G=h,le}function rh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;se||S(),me||(se(),me=!0),N.add(y,h),h.A=0}}function ya(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=xi(g(h.Da,h),oh(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=xi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Wr(this),sh(this))};function au(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function sh(h){h.g=new ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ot(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),ga(h,y),h.u&&h.o&&da(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ca(Ot(y)),E.u=null,E.R=!0,mo(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Wr(this),ya(this),xt(19))};function So(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ah(h,y){var E=null;if(h.g==y){So(h),au(h),h.g=null;var A=2}else if(Li(h.h,y))E=y.G,$l(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;A=fo(),Bt(A,new Ii(A,E)),Bi(h)}else rh(h);else if(F=y.m,F==3||F==0&&y.X>0||!(A==1&&To(h,y)||A==2&&ya(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),F){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function oh(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Fi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const F=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Kt(A,"https"),ca(A),F?li(A.toString(),E):tu(A.toString(),E)}else xt(2);h.I=0,h.l&&h.l.pa(y),lh(h),bo(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function lh(h){if(h.I=0,h.ja=[],h.l){const y=Xl(h.h);(y.length!=0||h.i.length!=0)&&(z(h.ja,y),z(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function uh(h,y,E){var A=E instanceof Dn?Ot(E):new Dn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Hr(A,A.u);else{var F=c.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new Dn(null);A&&Kt(Y,A),y&&(Y.g=y),F&&Hr(Y,F),E&&(Y.h=E),A=Y}return E=h.G,y=h.wa,E&&y&&Ze(A,E,y),Ze(A,"VER",h.ka),ga(h,A),A}function ch(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new nt(new Ui({ab:E})):new nt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}i=hh.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Jr(){}Jr.prototype.g=function(h,y){return new dn(h,y)};function dn(h,y){It.call(this),this.g=new Xr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!x(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new hr(this)}b(dn,It),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){ru(this.g)},dn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=qr(h),h=E);y.i.push(new Dt(y.Ya++,h)),y.I==3&&Bi(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,dn.Z.N.call(this)};function fh(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(fh,Wt);function dh(){Fn.call(this),this.status=1}b(dh,Fn);function hr(h){this.g=h}b(hr,hh),hr.prototype.ra=function(){Bt(this.g,"a")},hr.prototype.qa=function(h){Bt(this.g,new fh(h))},hr.prototype.pa=function(h){Bt(this.g,new dh)},hr.prototype.oa=function(){Bt(this.g,"b")},Jr.prototype.createWebChannel=Jr.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,VA=function(){return new Jr},LA=function(){return fo()},PA=St,Ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Ff=la,Hl.COMPLETE="complete",kA=Hl,Gc.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",It.prototype.listen=It.prototype.J,Zu=Gc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,MA=nt}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const Qb="@firebase/firestore",Kb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new by("@firebase/firestore");function el(){return eo.logLevel}function fe(i,...e){if(eo.logLevel<=Ve.DEBUG){const t=e.map(Oy);eo.debug(`Firestore (${kl}): ${i}`,...t)}}function zr(i,...e){if(eo.logLevel<=Ve.ERROR){const t=e.map(Oy);eo.error(`Firestore (${kl}): ${i}`,...t)}}function Sl(i,...e){if(eo.logLevel<=Ve.WARN){const t=e.map(Oy);eo.warn(`Firestore (${kl}): ${i}`,...t)}}function Oy(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,UA(i,s,t)}function UA(i,e,t){let s=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw zr(s),new Error(s)}function We(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||UA(e,o,s)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(un.UNAUTHENTICATED)))}shutdown(){}}class _O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class vO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new jA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class EO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new EO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function jg(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return sg(o)===sg(u)?Ue(o,u):sg(o)?1:-1}return Ue(i.length,e.length)}const AO=55296,wO=57343;function sg(i){const e=i.charCodeAt(0);return e>=AO&&e<=wO}function Al(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__name__";class Yi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Yi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ue(e.length,t.length)}static compareSegments(e,t){const s=Yi.isNumericId(e),o=Yi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Yi.extractNumericId(e).compare(Yi.extractNumericId(t)):jg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class ot extends Yi{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Yi{construct(e,t,s){return new sn(e,t,s)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$b}static keyField(){return new sn([$b])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(i,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function CO(i,e,t,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Xb(i){if(!Ee.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wb(i){if(Ee.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function BA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function to(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wd(i);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pc(i,e){if(!BA(i))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=-62135596800,Zb=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Zb);return new ct(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jb)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zb}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:jt("string",ct._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ct(0,0))}static max(){return new we(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function IO(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ct(t+1,0):new ct(t,s));return new Gs(o,Ee.empty(),e)}function xO(i){return new Gs(i.readTime,i.key,mc)}class Gs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Gs(we.min(),Ee.empty(),mc)}static max(){return new Gs(we.max(),Ee.empty(),mc)}}function NO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==DO)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,s)=>{t(e)}))}static reject(e){return new ie(((t,s)=>{s(e)}))}static waitFor(e){return new ie(((t,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>s(p)))})),c=!0,u===o&&t()}))}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next((o=>o?ie.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new ie(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++m,m===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ie(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function MO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ll(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-1;function Cd(i){return i==null}function sd(i){return i===0&&1/i==-1/0}function kO(i){return typeof i=="number"&&Number.isInteger(i)&&!sd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="";function PO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=eT(e)),e=LO(i.get(t),e);return eT(e)}function LO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case FA:t+="";break;default:t+=u}}return t}function eT(i){return i+FA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ta(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function qA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new rn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Gt(sn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HA("Invalid base64 string: "+u):u}})(e);return new an(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const VO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(i){if(We(!!i,39018),typeof i=="string"){let e=0;const t=VO.exec(i);if(We(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ks(i){return typeof i=="string"?an.fromBase64String(i):an.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",QA="__type__",KA="__previous_value__",YA="__local_write_time__";function Py(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[QA])==null?void 0:s.stringValue)===GA}function Id(i){const e=i.mapValue.fields[KA];return Py(e)?Id(e):e}function pc(i){const e=Qs(i.mapValue.fields[YA].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,s,o,u,c,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const ad="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||ad}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===ad}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="__type__",jO="__max__",Af={mapValue:{}},XA="__vector__",od="value";function Ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Py(i)?4:BO(i)?9007199254740991:zO(i)?10:11:Se(28295,{value:i})}function ar(i,e){if(i===e)return!0;const t=Ys(i);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pc(i).isEqual(pc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Qs(o.timestampValue),m=Qs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ks(o.bytesValue).isEqual(Ks(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ct(o.doubleValue),m=Ct(u.doubleValue);return c===m?sd(c)===sd(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return Al(i.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tT(c)!==tT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!ar(c[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function yc(i,e){return(i.values||[]).find((t=>ar(t,e)))!==void 0}function wl(i,e){if(i===e)return 0;const t=Ys(i),s=Ys(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Ct(u.integerValue||u.doubleValue),p=Ct(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return iT(i.timestampValue,e.timestampValue);case 4:return iT(pc(i),pc(e));case 5:return jg(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Ks(u),p=Ks(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ue(m[g],p[g]);if(_!==0)return _}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ue(Ct(u.latitude),Ct(c.latitude));return m!==0?m:Ue(Ct(u.longitude),Ct(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return rT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){var w,O,z,V;const m=u.fields||{},p=c.fields||{},g=(w=m[od])==null?void 0:w.arrayValue,_=(O=p[od])==null?void 0:O.arrayValue,b=Ue(((z=g==null?void 0:g.values)==null?void 0:z.length)||0,((V=_==null?void 0:_.values)==null?void 0:V.length)||0);return b!==0?b:rT(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Af.mapValue&&c===Af.mapValue)return 0;if(u===Af.mapValue)return 1;if(c===Af.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const w=jg(p[b],_[b]);if(w!==0)return w;const O=wl(m[p[b]],g[_[b]]);if(O!==0)return O}return Ue(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function iT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=Qs(i),s=Qs(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function rT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=wl(t[o],s[o]);if(u)return u}return Ue(t.length,s.length)}function Rl(i){return zg(i)}function zg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Qs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Ks(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Ee.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=zg(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${zg(t.fields[c])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function qf(i){switch(Ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(i);return e?16+qf(e):16;case 5:return 2*i.stringValue.length;case 6:return Ks(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+qf(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ta(s.fields,((u,c)=>{o+=u.length+qf(c)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function sT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Bg(i){return!!i&&"integerValue"in i}function Ly(i){return!!i&&"arrayValue"in i}function aT(i){return!!i&&"nullValue"in i}function oT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Hf(i){return!!i&&"mapValue"in i}function zO(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[$A])==null?void 0:s.stringValue)===XA}function rc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=rc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rc(i.arrayValue.values[t]);return e}return{...i}}function BO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Hf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(t)}setAll(e){let t=sn.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=rc(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Hf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ta(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new xn(rc(this.value))}}function WA(i){const e=[];return ta(i.fields,((t,s)=>{const o=new sn([t]);if(Hf(s)){const u=WA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,s,o,u,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,we.min(),we.min(),we.min(),xn.empty(),0)}static newFoundDocument(e,t,s,o){return new cn(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new cn(e,2,t,we.min(),we.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,we.min(),we.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.position=e,this.inclusive=t}}function lT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(c.referenceValue),t.key):s=wl(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ar(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t="asc"){this.field=e,this.dir=t}}function FO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class Ut extends JA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new HO(e,t,s):t==="array-contains"?new KO(e,s):t==="in"?new YO(e,s):t==="not-in"?new $O(e,s):t==="array-contains-any"?new XO(e,s):new Ut(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new GO(e,s):new QO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wl(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends JA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Si(e,t)}matches(e){return ZA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZA(i){return i.op==="and"}function ew(i){return qO(i)&&ZA(i)}function qO(i){for(const e of i.filters)if(e instanceof Si)return!1;return!0}function Fg(i){if(i instanceof Ut)return i.field.canonicalString()+i.op.toString()+Rl(i.value);if(ew(i))return i.filters.map((e=>Fg(e))).join(",");{const e=i.filters.map((t=>Fg(t))).join(",");return`${i.op}(${e})`}}function tw(i,e){return i instanceof Ut?(function(s,o){return o instanceof Ut&&s.op===o.op&&s.field.isEqual(o.field)&&ar(s.value,o.value)})(i,e):i instanceof Si?(function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&tw(c,o.filters[m])),!0):!1})(i,e):void Se(19439)}function nw(i){return i instanceof Ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${Rl(t.value)}`})(i):i instanceof Si?(function(t){return t.op.toString()+" {"+t.getFilters().map(nw).join(" ,")+"}"})(i):"Filter"}class HO extends Ut{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class GO extends Ut{constructor(e,t){super(e,"in",t),this.keys=iw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QO extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=iw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function iw(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>Ee.fromName(s.referenceValue)))}class KO extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ly(t)&&yc(t.arrayValue,this.value)}}class YO extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}}class $O extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yc(this.value.arrayValue,t)}}class XO extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>yc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function cT(i,e=null,t=[],s=[],o=null,u=null,c=null){return new WO(i,e,t,s,o,u,c)}function Vy(i){const e=Ce(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Fg(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Rl(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Rl(s))).join(",")),e.Te=t}return e.Te}function Uy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!FO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!tw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!uT(i.startAt,e.startAt)&&uT(i.endAt,e.endAt)}function qg(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JO(i,e,t,s,o,u,c,m){return new Vl(i,e,t,s,o,u,c,m)}function rw(i){return new Vl(i)}function hT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function sw(i){return i.collectionGroup!==null}function sc(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Gt(sn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _c(u,s))})),t.has(sn.keyField().canonicalString())||e.Ie.push(new _c(sn.keyField(),s))}return e.Ie}function nr(i){const e=Ce(i);return e.Ee||(e.Ee=ZO(e,sc(i))),e.Ee}function ZO(i,e){if(i.limitType==="F")return cT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _c(o.field,u)}));const t=i.endAt?new ld(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ld(i.startAt.position,i.startAt.inclusive):null;return cT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Hg(i,e){const t=i.filters.concat([e]);return new Vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Gg(i,e,t){return new Vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function xd(i,e){return Uy(nr(i),nr(e))&&i.limitType===e.limitType}function aw(i){return`${Vy(nr(i))}|lt:${i.limitType}`}function tl(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>nw(o))).join(", ")}]`),Cd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Rl(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Rl(o))).join(",")),`Target(${s})`})(nr(i))}; limitType=${i.limitType})`}function Nd(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of sc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=lT(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,sc(s),o)||s.endAt&&!(function(c,m,p){const g=lT(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,sc(s),o))})(i,e)}function eM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ow(i){return(e,t)=>{let s=!1;for(const o of sc(i)){const u=tM(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tM(i,e,t){const s=i.field.isKeyField()?Ee.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?wl(p,g):Se(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return qA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new gt(Ee.comparator);function Br(){return nM}const lw=new gt(Ee.comparator);function ec(...i){let e=lw;for(const t of i)e=e.insert(t.key,t);return e}function uw(i){let e=lw;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Va(){return ac()}function cw(){return ac()}function ac(){return new ao((i=>i.toString()),((i,e)=>i.isEqual(e)))}const iM=new gt(Ee.comparator),rM=new Gt(Ee.comparator);function je(...i){let e=rM;for(const t of i)e=e.add(t);return e}const sM=new Gt(Ue);function aM(){return sM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function hw(i){return{integerValue:""+i}}function oM(i,e){return kO(e)?hw(e):jy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function lM(i,e,t){return i instanceof vc?(function(o,u){const c={fields:{[QA]:{stringValue:GA},[YA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Py(u)&&(u=Id(u)),u&&(c.fields[KA]=u),{mapValue:c}})(t,e):i instanceof Ec?dw(i,e):i instanceof bc?mw(i,e):(function(o,u){const c=fw(o,u),m=fT(c)+fT(o.Ae);return Bg(c)&&Bg(o.Ae)?hw(m):jy(o.serializer,m)})(i,e)}function uM(i,e,t){return i instanceof Ec?dw(i,e):i instanceof bc?mw(i,e):t}function fw(i,e){return i instanceof ud?(function(s){return Bg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vc extends Dd{}class Ec extends Dd{constructor(e){super(),this.elements=e}}function dw(i,e){const t=pw(e);for(const s of i.elements)t.some((o=>ar(o,s)))||t.push(s);return{arrayValue:{values:t}}}class bc extends Dd{constructor(e){super(),this.elements=e}}function mw(i,e){let t=pw(e);for(const s of i.elements)t=t.filter((o=>!ar(o,s)));return{arrayValue:{values:t}}}class ud extends Dd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fT(i){return Ct(i.integerValue||i.doubleValue)}function pw(i){return Ly(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,t){this.field=e,this.transform=t}}function hM(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Ec&&o instanceof Ec||s instanceof bc&&o instanceof bc?Al(s.elements,o.elements,ar):s instanceof ud&&o instanceof ud?ar(s.Ae,o.Ae):s instanceof vc&&o instanceof vc})(i.transform,e.transform)}class fM{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Od{}function gw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new zy(i.key,Ei.none()):new Lc(i.key,i.data,Ei.none());{const t=i.data,s=xn.empty();let o=new Gt(sn.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new na(i.key,s,new zn(o.toArray()),Ei.none())}}function dM(i,e,t){i instanceof Lc?(function(o,u,c){const m=o.value.clone(),p=mT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof na?(function(o,u,c){if(!Gf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=mT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(yw(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function oc(i,e,t,s){return i instanceof Lc?(function(u,c,m,p){if(!Gf(u.precondition,c))return m;const g=u.value.clone(),_=pT(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof na?(function(u,c,m,p){if(!Gf(u.precondition,c))return m;const g=pT(u.fieldTransforms,p,c),_=c.data;return _.setAll(yw(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,t,s):(function(u,c,m){return Gf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function mM(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=fw(s.transform,o||null);u!=null&&(t===null&&(t=xn.empty()),t.set(s.field,u))}return t||null}function dT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Al(s,o,((u,c)=>hM(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lc extends Od{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends Od{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yw(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function mT(i,e,t){const s=new Map;We(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,uM(c,m,t[o]))}return s}function pT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,c=t.data.field(o.field);s.set(o.field,lM(u,c,e))}return s}class zy extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pM extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dM(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=oc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=oc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=cw();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=gw(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((t,s)=>dT(t,s)))&&Al(this.baseMutations,e.baseMutations,((t,s)=>dT(t,s)))}}class By{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return iM})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new By(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,qe;function vM(i){switch(i){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function _w(i){if(i===void 0)return zr("GRPC error has no .code"),te.UNKNOWN;switch(i){case Vt.OK:return te.OK;case Vt.CANCELLED:return te.CANCELLED;case Vt.UNKNOWN:return te.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return te.INTERNAL;case Vt.UNAVAILABLE:return te.UNAVAILABLE;case Vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Vt.NOT_FOUND:return te.NOT_FOUND;case Vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Vt.ABORTED:return te.ABORTED;case Vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Vt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:i})}}(qe=Vt||(Vt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Bs([4294967295,4294967295],0);function gT(i){const e=EM().encode(i),t=new OA;return t.update(e),new Uint8Array(t.digest())}function yT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Bs([t,s],0),new Bs([o,u],0)]}class Fy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new tc(`Invalid padding: ${t}`);if(s<0)throw new tc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new tc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Bs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Bs.fromNumber(s)));return o.compare(bM)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gT(e),[s,o]=yT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Fy(u,o,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=gT(e),[s,o]=yT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Md(we.min(),o,new gt(Ue),Br(),je())}}class Vc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Vc(s,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class vw{constructor(e,t){this.targetId=e,this.Ce=t}}class Ew{constructor(e,t,s=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class _T{constructor(){this.ve=0,this.Fe=vT(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new Vc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=vT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Br(),this.Je=wf(),this.He=wf(),this.Ye=new gt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(qg(u))if(s===0){const c=new Ee(u.path);this.et(t,c,cn.newNoDocument(c,we.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=Ks(s).toUint8Array()}catch(p){if(p instanceof HA)return Sl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fy(c,o,u)}catch(p){return Sl(p instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&qg(m.target)){const p=new Ee(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,cn.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let s=je();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Md(e,t,this.Ye,this.je,s);return this.je=Br(),this.Je=wf(),this.He=wf(),this.Ye=new gt(Ue),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _T,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wf(){return new gt(Ee.comparator)}function vT(){return new gt(Ee.comparator)}const SM={asc:"ASCENDING",desc:"DESCENDING"},AM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wM={and:"AND",or:"OR"};class RM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qg(i,e){return i.useProto3Json||Cd(e)?e:{value:e}}function cd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function CM(i,e){return cd(i,e.toTimestamp())}function ir(i){return We(!!i,49232),we.fromTimestamp((function(t){const s=Qs(t);return new ct(s.seconds,s.nanos)})(i))}function qy(i,e){return Kg(i,e).canonicalString()}function Kg(i,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Tw(i){const e=ot.fromString(i);return We(Cw(e),10190,{key:e.toString()}),e}function Yg(i,e){return qy(i.databaseId,e.path)}function ag(i,e){const t=Tw(e);if(t.get(1)!==i.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ee(Aw(t))}function Sw(i,e){return qy(i.databaseId,e)}function IM(i){const e=Tw(i);return e.length===4?ot.emptyPath():Aw(e)}function $g(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Aw(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ET(i,e,t){return{name:Yg(i,e),fields:t.value.mapValue.fields}}function xM(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(We(_===void 0||typeof _=="string",58123),an.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),an.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?te.UNKNOWN:_w(g.code);return new he(_,g.message||"")})(c);t=new Ew(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ag(i,s.document.name),u=ir(s.document.updateTime),c=s.document.createTime?ir(s.document.createTime):we.min(),m=new xn({mapValue:{fields:s.document.fields}}),p=cn.newFoundDocument(o,u,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Qf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ag(i,s.document),u=s.readTime?ir(s.readTime):we.min(),c=cn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Qf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ag(i,s.document),u=s.removedTargetIds||[];t=new Qf([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new _M(o,u),m=s.targetId;t=new vw(m,c)}}return t}function NM(i,e){let t;if(e instanceof Lc)t={update:ET(i,e.key,e.value)};else if(e instanceof zy)t={delete:Yg(i,e.key)};else if(e instanceof na)t={update:ET(i,e.key,e.data),updateMask:jM(e.fieldMask)};else{if(!(e instanceof pM))return Se(16599,{Vt:e.type});t={verify:Yg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof vc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ec)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ud)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:CM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),t}function DM(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((t=>(function(o,u){let c=o.updateTime?ir(o.updateTime):ir(u);return c.isEqual(we.min())&&(c=ir(u)),new fM(c,o.transformResults||[])})(t,e)))):[]}function OM(i,e){return{documents:[Sw(i,e.path)]}}function MM(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Sw(i,o);const u=(function(g){if(g.length!==0)return Rw(Si.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:nl(w.field),direction:LM(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Qg(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function kM(i){let e=IM(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(b){const w=ww(b);return w instanceof Si&&ew(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((w=>(function(z){return new _c(il(z.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Cd(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(b){const w=!!b.before,O=b.values||[];return new ld(O,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const w=!b.before,O=b.values||[];return new ld(O,w)})(t.endAt)),JO(e,o,c,u,m,"F",p,g)}function PM(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ww(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=il(t.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=il(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=il(t.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=il(t.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ut.create(il(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Si.create(t.compositeFilter.filters.map((s=>ww(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(i):Se(30097,{filter:i})}function LM(i){return SM[i]}function VM(i){return AM[i]}function UM(i){return wM[i]}function nl(i){return{fieldPath:i.canonicalString()}}function il(i){return sn.fromServerFormat(i.fieldPath)}function Rw(i){return i instanceof Ut?(function(t){if(t.op==="=="){if(oT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(aT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(aT(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:VM(t.op),value:t.value}}})(i):i instanceof Si?(function(t){const s=t.getFilters().map((o=>Rw(o)));return s.length===1?s[0]:{compositeFilter:{op:UM(t.op),filters:s}}})(i):Se(54877,{filter:i})}function jM(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Cw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s,o,u=we.min(),c=we.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.yt=e}}function BM(i){const e=kM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.Cn=new qM}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Gs.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class qM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Gt(ot.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Iw=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Iw,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",HM=1048576;function ST([i,e],[t,s]){const o=Ue(i,t);return o===0?Ue(e,s):o}class GM{constructor(e){this.Ir=e,this.buffer=new Gt(ST),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ST(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(TT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ll(t)?fe(TT,"Ignoring IndexedDB error during garbage collection: ",t):await Pl(t)}await this.Vr(3e5)}))}}class KM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Rd.ce);const s=new GM(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(bT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,t)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),el()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function YM(i,e){return new KM(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.changes=new ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&oc(s.mutation,o,zn.empty(),ct.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=je()){const o=Va();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=ec();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Va();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,je())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,o){let u=Br();const c=ac(),m=(function(){return ac()})();return t.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof na)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),oc(_.mutation,g,_.mutation.getFieldMask(),ct.now())):c.set(g.key,zn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>m.set(g,new XM(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=ac();let o=new gt(((c,m)=>c-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||zn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const b=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,b=cw();_.forEach((w=>{if(!u.has(w)){const O=gw(t.get(w),s.get(w));O!==null&&b.set(w,O),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ie.resolve(Va());let m=mc,p=u;return c.next((g=>ie.forEach(g,((_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,je()))).next((_=>({batchId:m,changes:uw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((s=>{let o=ec();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=ec();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(b,w){return new Vl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,cn.newInvalidDocument(_)))}));let m=ec();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&oc(_.mutation,g,zn.empty(),ct.now()),Nd(t,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:BM(o.bundledQuery),readTime:ir(o.readTime)}})(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.overlays=new gt(Ee.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Va();return ie.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=Va(),u=t.length+1,c=new Ee(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new gt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Va(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Va(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new yM(t,s));let u=this.qr.get(t);u===void 0&&(u=je(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Qr=new Gt(Xt.$r),this.Ur=new Gt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ee(new ot([])),s=new Xt(t,e),o=new Xt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new ot([])),s=new Xt(t,e),o=new Xt(t,e+1);let u=je();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Xt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Xt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gM(u,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ky:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Gt(Ue);return t.forEach((o=>{const u=new Xt(o,0),c=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const c=new Xt(new Ee(u),0);let m=new Gt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(t.mutations,(o=>{const u=new Xt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Xt(t,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.ri=e,this.docs=(function(){return new gt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let s=Br();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Br();const c=t.path,m=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||NO(xO(_),s)<=0||(o.has(_.key)||Nd(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se(9500)}ii(e,t){return ie.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new i4(this)}getSize(e){return ie.resolve(this.size)}}class i4 extends $M{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.persistence=e,this.si=new ao((t=>Vy(t)),Uy),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Hy,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Cl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rd(0),this.li=!1,this.li=!0,this.hi=new e4,this.referenceDelegate=e(this),this.Pi=new r4(this),this.indexManager=new FM,this.remoteDocumentCache=(function(o){return new n4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zM(t),this.Ii=new JM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new t4(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new s4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class s4 extends OO{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.Ri=new Hy,this.Vi=null}static mi(e){return new Gy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Ee.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hd{constructor(e,t){this.persistence=e,this.pi=new ao((s=>PO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=YM(this,t)}static mi(e,t){return new hd(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(s++,u.removeEntry(c,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qf(e.data.value)),t}br(e,t,s){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=je(),o=je();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qy(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return L2()?8:MO(hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new a4;return this.Ss(e,t,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(el()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(el()<=Ve.DEBUG&&fe("QueryEngine","Query:",tl(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(el()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):ie.resolve())}ys(e,t){if(hT(t))return ie.resolve(null);let s=nr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Gg(t,null,"F"),s=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=je(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,Gg(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return hT(t)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,s,o)?ie.resolve(null):(el()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tl(t)),this.vs(e,c,t,IO(o,mc)).next((m=>m)))}))}Ds(e,t){let s=new Gt(ow(e));return t.forEach(((o,u)=>{Nd(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return el()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",tl(t)),this.ps.getDocumentsMatchingQuery(e,t,Gs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LocalStore",l4=3e8;class u4{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new gt(Ue),this.xs=new ao((u=>Vy(u)),Uy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function c4(i,e,t,s){return new u4(i,e,t,s)}async function Nw(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=je();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function h4(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const b=g.batch,w=b.keys();let O=ie.resolve();return w.forEach((z=>{O=O.next((()=>_.getEntry(p,z))).next((V=>{const P=g.docVersions.get(z);We(P!==null,48541),V.version.compareTo(P)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),_.addEntry(V)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function Dw(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function f4(i,e){const t=Ce(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((_,b)=>{const w=o.get(b);if(!w)return;m.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,b))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(an.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(b,O),(function(V,P,W){return V.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=l4?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(w,O,_)&&m.push(t.Pi.updateTargetData(u,O))}));let p=Br(),g=je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(d4(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(we.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ie.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function d4(i,e,t){let s=je(),o=je();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Br();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):fe(Ky,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function m4(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ky),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function p4(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new Vs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Xg(i,e,t){const s=Ce(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ll(c))throw c;fe(Ky,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function AT(i,e,t){const s=Ce(i);let o=we.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const b=Ce(p),w=b.xs.get(_);return w!==void 0?ie.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,_)})(s,c,nr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:we.min(),t?u:je()))).next((m=>(g4(s,eM(e),m),{documents:m,Qs:u})))))}function g4(i,e,t){let s=i.Os.get(e)||we.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class wT{constructor(){this.activeTargetIds=aM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y4{constructor(){this.Mo=new wT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="ConnectivityMonitor";class CT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(RT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(RT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=null;function Wg(){return Rf===null?Rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rf++,"0x"+Rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",v4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ad?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const c=Wg(),m=this.zo(e,t.toUriEncodedString());fe(og,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Js(g);return this.Jo(e,m,p,s,_).then((b=>(fe(og,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Sl(og,`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,t,s,o,u,c){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=v4[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class T4 extends E4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const c=Wg();return new Promise(((m,p)=>{const g=new MA;g.setWithCredentials(!0),g.listenOnce(kA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ff.NO_ERROR:const b=g.getResponseJson();fe(ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),m(b);break;case Ff.TIMEOUT:fe(ln,`RPC '${e}' ${c} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const w=g.getStatus();if(fe(ln,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const z=O==null?void 0:O.error;if(z&&z.status&&z.message){const V=(function(W){const re=W.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(re)>=0?re:te.UNKNOWN})(z.status);p(new he(V,z.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(ln,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe(ln,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Wg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=VA(),m=LA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(ln,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=c.createWebChannel(_,p);this.I_(b);let w=!1,O=!1;const z=new b4({Yo:P=>{O?fe(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(w||(fe(ln,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),fe(ln,`RPC '${e}' stream ${o} sending:`,P),b.send(P))},Zo:()=>b.close()}),V=(P,W,re)=>{P.listen(W,(X=>{try{re(X)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return V(b,Zu.EventType.OPEN,(()=>{O||(fe(ln,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),V(b,Zu.EventType.CLOSE,(()=>{O||(O=!0,fe(ln,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(b))})),V(b,Zu.EventType.ERROR,(P=>{O||(O=!0,Sl(ln,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),z.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),V(b,Zu.EventType.MESSAGE,(P=>{var W;if(!O){const re=P.data[0];We(!!re,16349);const X=re,oe=(X==null?void 0:X.error)||((W=X[0])==null?void 0:W.error);if(oe){fe(ln,`RPC '${e}' stream ${o} received error:`,oe);const se=oe.status;let me=(function(R){const D=Vt[R];if(D!==void 0)return _w(D)})(se),N=oe.message;me===void 0&&(me=te.INTERNAL,N="Unknown error status: "+se+" with message "+oe.message),O=!0,z.a_(new he(me,N)),b.close()}else fe(ln,`RPC '${e}' stream ${o} received:`,re),z.u_(re)}})),V(m,PA.STAT_EVENT,(P=>{P.stat===Ug.PROXY?fe(ln,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Ug.NOPROXY&&fe(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(i){return new RM(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class Mw{constructor(e,t,s,o,u,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ow(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class S4 extends Mw{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=xM(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?ir(c.readTime):we.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=$g(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=qg(p)?{documents:OM(u,p)}:{query:MM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=bw(u,c.resumeToken);const g=Qg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=cd(u,c.snapshotVersion.toTimestamp());const g=Qg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=PM(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=$g(this.serializer),t.removeTarget=e,this.q_(t)}}class A4 extends Mw{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=DM(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=$g(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>NM(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{}class R4 extends w4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Kg(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Kg(t,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class C4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class I4{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{oo(this)&&(fe(no,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await Uc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Pd(g)})(this))}))})),this.Ra=new C4(s,o)}}async function Pd(i){if(oo(i))for(const e of i.da)await e(!0)}async function Uc(i){for(const e of i.da)await e(!1)}function kw(i,e){const t=Ce(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Wy(t)?Xy(t):Ul(t).O_()&&$y(t,e))}function Yy(i,e){const t=Ce(i),s=Ul(t);t.Ia.delete(e),s.O_()&&Pw(t,e),t.Ia.size===0&&(s.O_()?s.L_():oo(t)&&t.Ra.set("Unknown"))}function $y(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ul(i).Y_(e)}function Pw(i,e){i.Va.Ue(e),Ul(i).Z_(e)}function Xy(i){i.Va=new TM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ul(i).start(),i.Ra.ua()}function Wy(i){return oo(i)&&!Ul(i).x_()&&i.Ia.size>0}function oo(i){return Ce(i).Ea.size===0}function Lw(i){i.Va=void 0}async function x4(i){i.Ra.set("Online")}async function N4(i){i.Ia.forEach(((e,t)=>{$y(i,e)}))}async function D4(i,e){Lw(i),Wy(i)?(i.Ra.ha(e),Xy(i)):i.Ra.set("Unknown")}async function O4(i,e,t){if(i.Ra.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fd(i,s)}else if(e instanceof Qf?i.Va.Ze(e):e instanceof vw?i.Va.st(e):i.Va.tt(e),!t.isEqual(we.min()))try{const s=await Dw(i.localStore);t.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(an.EMPTY_BYTE_STRING,_.snapshotVersion)),Pw(u,p);const b=new Vs(_.target,p,g,_.sequenceNumber);$y(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){fe(no,"Failed to raise snapshot:",s),await fd(i,s)}}async function fd(i,e,t){if(!Ll(e))throw e;i.Ea.add(1),await Uc(i),i.Ra.set("Offline"),t||(t=()=>Dw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(no,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Pd(i)}))}function Vw(i,e){return e().catch((t=>fd(i,t,e)))}async function Ld(i){const e=Ce(i),t=$s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ky;for(;M4(e);)try{const o=await m4(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,k4(e,o)}catch(o){await fd(e,o)}Uw(e)&&jw(e)}function M4(i){return oo(i)&&i.Ta.length<10}function k4(i,e){i.Ta.push(e);const t=$s(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Uw(i){return oo(i)&&!$s(i).x_()&&i.Ta.length>0}function jw(i){$s(i).start()}async function P4(i){$s(i).ra()}async function L4(i){const e=$s(i);for(const t of i.Ta)e.ea(t.mutations)}async function V4(i,e,t){const s=i.Ta.shift(),o=By.from(s,e,t);await Vw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ld(i)}async function U4(i,e){e&&$s(i).X_&&await(async function(s,o){if((function(c){return vM(c)&&c!==te.ABORTED})(o.code)){const u=s.Ta.shift();$s(s).B_(),await Vw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ld(s)}})(i,e),Uw(i)&&jw(i)}async function xT(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),fe(no,"RemoteStore received new credentials");const s=oo(t);t.Ea.add(3),await Uc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pd(t)}async function j4(i,e){const t=Ce(i);e?(t.Ea.delete(2),await Pd(t)):e||(t.Ea.add(2),await Uc(t),t.Ra.set("Unknown"))}function Ul(i){return i.ma||(i.ma=(function(t,s,o){const u=Ce(t);return u.sa(),new S4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:x4.bind(null,i),t_:N4.bind(null,i),r_:D4.bind(null,i),H_:O4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Wy(i)?Xy(i):i.Ra.set("Unknown")):(await i.ma.stop(),Lw(i))}))),i.ma}function $s(i){return i.fa||(i.fa=(function(t,s,o){const u=Ce(t);return u.sa(),new A4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:P4.bind(null,i),r_:U4.bind(null,i),ta:L4.bind(null,i),na:V4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ld(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(no,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,m=new Jy(e,t,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(i,e){if(zr("AsyncQueue",`${e}: ${i}`),Ll(i))return new he(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=ec(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ga=new gt(Ee.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Il{constructor(e,t,s,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new Il(e,t,ll.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class B4{constructor(){this.queries=DT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ce(t),u=o.queries;o.queries=DT(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function DT(){return new ao((i=>aw(i)),xd)}async function F4(i,e){const t=Ce(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new z4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=Zy(c,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&e_(t)}async function q4(i,e){const t=Ce(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function H4(i,e){const t=Ce(i);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&e_(t)}function G4(i,e,t){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function e_(i){i.Ca.forEach((e=>{e.next()}))}var Jg,OT;(OT=Jg||(Jg={})).Ma="default",OT.Cache="cache";class Q4{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Il(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.key=e}}class Bw{constructor(e){this.key=e}}class K4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=ow(e),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new NT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const w=o.get(_),O=Nd(this.query,b)?b:null,z=!!w&&this.mutatedKeys.has(w.key),V=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let P=!1;w&&O?w.data.isEqual(O.data)?z!==V&&(s.track({type:3,doc:O}),P=!0):this.su(w,O)||(s.track({type:2,doc:O}),P=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),P=!0):w&&!O&&(s.track({type:1,doc:w}),P=!0,(p||g)&&(m=!0)),P&&(O?(c=c.add(O),u=V?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,b)=>(function(O,z){const V=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:P})}};return V(O)-V(z)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Il(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Bw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new zw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const t_="SyncEngine";class Y4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class $4{constructor(e){this.key=e,this.hu=!1}}class X4{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ao((m=>aw(m)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Ee.comparator),this.Au=new Map,this.Ru=new Hy,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W4(i,e,t=!0){const s=Kw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Fw(s,e,t,!0),o}async function J4(i,e){const t=Kw(i);await Fw(t,e,!0,!1)}async function Fw(i,e,t,s){const o=await p4(i.localStore,nr(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Z4(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&kw(i.remoteStore,o),m}async function Z4(i,e,t,s,o){i.pu=(b,w,O)=>(async function(V,P,W,re){let X=P.view.ru(W);X.Cs&&(X=await AT(V.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,X))));const oe=re&&re.targetChanges.get(P.targetId),se=re&&re.targetMismatches.get(P.targetId)!=null,me=P.view.applyChanges(X,V.isPrimaryClient,oe,se);return kT(V,P.targetId,me.au),me.snapshot})(i,b,w,O);const u=await AT(i.localStore,e,!0),c=new K4(e,u.Qs),m=c.ru(u.documents),p=Vc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);kT(i,t,g.au);const _=new Y4(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function ek(i,e,t){const s=Ce(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!xd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Yy(s.remoteStore,o.targetId),Zg(s,o.targetId)})).catch(Pl)):(Zg(s,o.targetId),await Xg(s.localStore,o.targetId,!0))}async function tk(i,e){const t=Ce(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Yy(t.remoteStore,s.targetId))}async function nk(i,e,t){const s=uk(i);try{const o=await(function(c,m){const p=Ce(c),g=ct.now(),_=m.reduce(((O,z)=>O.add(z.key)),je());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let z=Br(),V=je();return p.Ns.getEntries(O,_).next((P=>{z=P,z.forEach(((W,re)=>{re.isValidDocument()||(V=V.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,z))).next((P=>{b=P;const W=[];for(const re of m){const X=mM(re,b.get(re.key).overlayedDocument);X!=null&&W.push(new na(re.key,X,WA(X.value.mapValue),Ei.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,W,m)})).next((P=>{w=P;const W=P.applyToLocalDocumentSet(b,V);return p.documentOverlayCache.saveOverlays(O,P.batchId,W)}))})).then((()=>({batchId:w.batchId,changes:uw(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new gt(Ue)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,t),await jc(s,o.changes),await Ld(s.remoteStore)}catch(o){const u=Zy(o,"Failed to persist write");t.reject(u)}}async function qw(i,e){const t=Ce(i);try{const s=await f4(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await jc(t,s,e)}catch(s){await Pl(s)}}function MT(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ce(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,b)=>{for(const w of b.Sa)w.va(m)&&(g=!0)})),g&&e_(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ik(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new gt(Ee.comparator);c=c.insert(u,cn.newNoDocument(u,we.min()));const m=je().add(u),p=new Md(we.min(),new Map,new gt(Ue),c,m);await qw(s,p),s.du=s.du.remove(u),s.Au.delete(e),n_(s)}else await Xg(s.localStore,e,!1).then((()=>Zg(s,e,t))).catch(Pl)}async function rk(i,e){const t=Ce(i),s=e.batch.batchId;try{const o=await h4(t.localStore,e);Gw(t,s,null),Hw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await jc(t,o)}catch(o){await Pl(o)}}async function sk(i,e,t){const s=Ce(i);try{const o=await(function(c,m){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(We(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);Gw(s,e,t),Hw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await jc(s,o)}catch(o){await Pl(o)}}function Hw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Gw(i,e,t){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Zg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Qw(i,s)}))}function Qw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Yy(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),n_(i))}function kT(i,e,t){for(const s of t)s instanceof zw?(i.Ru.addReference(s.key,e),ak(i,s)):s instanceof Bw?(fe(t_,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Qw(i,s.key)):Se(19791,{wu:s})}function ak(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(fe(t_,"New document in limbo: "+t),i.Eu.add(s),n_(i))}function n_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Ee(ot.fromString(e)),s=i.fu.next();i.Au.set(s,new $4(t)),i.du=i.du.insert(t,s),kw(i.remoteStore,new Vs(nr(rw(t.path)),s,"TargetPurposeLimboResolution",Rd.ce))}}async function jc(i,e,t){const s=Ce(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,t).then((g=>{var _;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Qy.As(p.targetId,g);u.push(b)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(w=>ie.forEach(w.Es,(O=>_.persistence.referenceDelegate.addReference(b,w.targetId,O))).next((()=>ie.forEach(w.ds,(O=>_.persistence.referenceDelegate.removeReference(b,w.targetId,O)))))))))}catch(b){if(!Ll(b))throw b;fe(Ky,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const O=_.Ms.get(w),z=O.snapshotVersion,V=O.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(w,V)}}})(s.localStore,u))}async function ok(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){fe(t_,"User change. New user:",e.toKey());const s=await Nw(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(te.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jc(t,s.Ls)}}function lk(i,e){const t=Ce(i),s=t.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Kw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ik.bind(null,e),e.Pu.H_=H4.bind(null,e.eventManager),e.Pu.yu=G4.bind(null,e.eventManager),e}function uk(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sk.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return c4(this.persistence,new o4,e.initialUser,this.serializer)}Cu(e){return new xw(Gy.mi,this.serializer)}Du(e){return new y4}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class ck extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof hd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QM(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new xw((s=>hd.mi(s,t)),this.serializer)}}class ey{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>MT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await j4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new B4})()}createDatastore(e){const t=kd(e.databaseInfo.databaseId),s=(function(u){return new T4(u)})(e.databaseInfo);return(function(u,c,m,p){return new R4(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,m){return new I4(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>MT(this.syncEngine,t,0)),(function(){return CT.v()?new CT:new _4})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,_){const b=new X4(o,u,c,m,p,g);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=Ce(o);fe(no,"RemoteStore shutting down."),u.Ea.add(5),await Uc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class fk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=My.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{fe(Xs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(Xs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Zy(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ug(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Xs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Nw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function PT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await dk(i);fe(Xs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>xT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>xT(e.remoteStore,o))),i._onlineComponents=e}async function dk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Xs,"Using user provided OfflineComponentProvider");try{await ug(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Sl("Error using user provided cache. Falling back to memory cache: "+t),await ug(i,new dd)}}else fe(Xs,"Using default OfflineComponentProvider"),await ug(i,new ck(void 0));return i._offlineComponents}async function Yw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Xs,"Using user provided OnlineComponentProvider"),await PT(i,i._uninitializedComponentsProvider._online)):(fe(Xs,"Using default OnlineComponentProvider"),await PT(i,new ey))),i._onlineComponents}function mk(i){return Yw(i).then((e=>e.syncEngine))}async function pk(i){const e=await Yw(i),t=e.eventManager;return t.onListen=W4.bind(null,e.syncEngine),t.onUnlisten=ek.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tk.bind(null,e.syncEngine),t}function gk(i,e,t={}){const s=new Fs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new hk({next:w=>{_.Nu(),c.enqueueAndForget((()=>q4(u,b))),w.fromCache&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new Q4(m,_,{includeMetadataChanges:!0,qa:!0});return F4(u,b)})(await pk(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firestore.googleapis.com",VT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xw,this.ssl=VT}else this.host=e.host,this.ssl=e.ssl??VT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HM)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$w(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yO;switch(s.type){case"firstParty":return new bO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=LT.get(t);s&&(fe("ComponentProvider","Removing Datastore"),LT.delete(t),s.terminate())})(this),Promise.resolve()}}function yk(i,e,t,s={}){var g;i=to(i,Vd);const o=Js(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(vy(`https://${m}`),Ey("Firestore",!0)),u.host!==Xw&&u.host!==m&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Xa(p,c)&&(i._setSettings(p),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=un.MOCK_USER;else{_=QS(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new un(w)}i._authCredentials=new _O(new jA(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Ht{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Pc(t,Ht._jsonSchema))return new Ht(e,s||null,new Ee(ot.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:jt("string",Ht._jsonSchemaVersion),referencePath:jt("string")};class qs extends lo{constructor(e,t,s){super(e,t,rw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ee(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function jT(i,e,...t){if(i=pt(i),zA("collection","path",e),i instanceof Vd){const s=ot.fromString(e,...t);return Wb(s),new qs(i,null,s)}{if(!(i instanceof Ht||i instanceof qs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return Wb(s),new qs(i.firestore,null,s)}}function ty(i,e,...t){if(i=pt(i),arguments.length===1&&(e=My.newId()),zA("doc","path",e),i instanceof Vd){const s=ot.fromString(e,...t);return Xb(s),new Ht(i,null,new Ee(s))}{if(!(i instanceof Ht||i instanceof qs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return Xb(s),new Ht(i.firestore,i instanceof qs?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="AsyncQueue";class BT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ow(this,"async_queue_retry"),this._c=()=>{const s=lg();s&&fe(zT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;fe(zT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",FT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Jy.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:FT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function FT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class zc extends Vd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new BT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BT(e),this._firestoreClient=void 0,await e}}}function _k(i,e){const t=typeof i=="object"?i:Sy(),s=typeof i=="string"?i:ad,o=bd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=qS("firestore");u&&yk(o,...u)}return o}function Ww(i){if(i._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||vk(i),i._firestoreClient}function vk(i){var s,o,u;const e=i._freezeSettings(),t=(function(m,p,g,_){return new UO(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,$w(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new fk(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(an.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ii(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:jt("string",ii._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:jt("string",rr._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new sr(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:jt("string",sr._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/^__.*__$/;class bk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lc(e,this.data,t,this.fieldTransforms)}}class Jw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class i_{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new i_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zw(this.Ac)&&Ek.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Tk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||kd(e)}Cc(e,t,s,o=!1){return new i_({Ac:e,methodName:t,Dc:s,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r_(i){const e=i._freezeSettings(),t=kd(i._databaseId);return new Tk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Sk(i,e,t,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);a_("Data must be an object, but it was:",c,s);const m=e1(s,c);let p,g;if(u.merge)p=new zn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const w=ny(e,b,t);if(!c.contains(w))throw new he(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);n1(_,w)||_.push(w)}p=new zn(_),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new bk(new xn(m),p,g)}class zd extends jd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}class s_ extends jd{_toFieldTransform(e){return new cM(e.path,new vc)}isEqual(e){return e instanceof s_}}function Ak(i,e,t,s){const o=i.Cc(1,e,t);a_("Data must be an object, but it was:",o,s);const u=[],c=xn.empty();ta(s,((p,g)=>{const _=o_(e,p,t);g=pt(g);const b=o.yc(_);if(g instanceof zd)u.push(_);else{const w=Bc(g,b);w!=null&&(u.push(_),c.set(_,w))}}));const m=new zn(u);return new Jw(c,m,o.fieldTransforms)}function wk(i,e,t,s,o,u){const c=i.Cc(1,e,t),m=[ny(e,s,t)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ny(e,u[w])),p.push(u[w+1]);const g=[],_=xn.empty();for(let w=m.length-1;w>=0;--w)if(!n1(g,m[w])){const O=m[w];let z=p[w];z=pt(z);const V=c.yc(O);if(z instanceof zd)g.push(O);else{const P=Bc(z,V);P!=null&&(g.push(O),_.set(O,P))}}const b=new zn(g);return new Jw(_,b,c.fieldTransforms)}function Rk(i,e,t,s=!1){return Bc(t,i.Cc(s?4:3,e))}function Bc(i,e){if(t1(i=pt(i)))return a_("Unsupported field value:",e,i),e1(i,e);if(i instanceof jd)return(function(s,o){if(!Zw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Bc(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ct.fromDate(s);return{timestampValue:cd(o.serializer,u)}}if(s instanceof ct){const u=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cd(o.serializer,u)}}if(s instanceof rr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ii)return{bytesValue:bw(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sr)return(function(c,m){return{mapValue:{fields:{[$A]:{stringValue:XA},[od]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return jy(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wd(s)}`)})(i,e)}function e1(i,e){const t={};return qA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,((s,o)=>{const u=Bc(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function t1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ct||i instanceof rr||i instanceof ii||i instanceof Ht||i instanceof jd||i instanceof sr)}function a_(i,e,t){if(!t1(t)||!BA(t)){const s=wd(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ny(i,e,t){if((e=pt(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return o_(i,e);throw md("Field path arguments must be of type string or ",i,!1,void 0,t)}const Ck=new RegExp("[~\\*/\\[\\]]");function o_(i,e,t){if(e.search(Ck)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ud(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function md(i,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+i+p)}function n1(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(l_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ik extends i1{data(){return super.data()}}function l_(i,e){return typeof e=="string"?o_(i,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u_{}class r1 extends u_{}function Nk(i,e,...t){let s=[];e instanceof u_&&s.push(e),s=s.concat(t),(function(u){const c=u.filter((p=>p instanceof h_)).length,m=u.filter((p=>p instanceof c_)).length;if(c>1||c>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class c_ extends r1{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new c_(e,t,s)}_apply(e){const t=this._parse(e);return s1(e._query,t),new lo(e.firestore,e.converter,Hg(e._query,t))}_parse(e){const t=r_(e.firestore);return(function(u,c,m,p,g,_,b){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){HT(b,_);const z=[];for(const V of b)z.push(qT(p,u,V));w={arrayValue:{values:z}}}else w=qT(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||HT(b,_),w=Rk(m,c,b,_==="in"||_==="not-in");return Ut.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class h_ extends u_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new h_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)s1(c,p),c=Hg(c,p)})(e._query,t),new lo(e.firestore,e.converter,Hg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f_ extends r1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new f_(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(u,c)})(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Vl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Dk(i,e="asc"){const t=e,s=l_("orderBy",i);return f_._create(s,t)}function qT(i,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sw(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ot.fromString(t));if(!Ee.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sT(i,new Ee(s))}if(t instanceof Ht)return sT(i,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(t)}.`)}function HT(i,e){if(!Array.isArray(i)||i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s1(i,e){const t=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ok{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ta(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){var s,o,u;const t=(u=(o=(s=e.fields)==null?void 0:s[od].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>Ct(c.doubleValue)));return new sr(t)}convertGeoPoint(e){return new rr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Id(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);We(Cw(s),9688,{name:e});const o=new gc(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(t)||zr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends i1{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(l_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ul._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:jt("string",ul._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Kf extends ul{data(e={}){return super.data(e)}}class cl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cf(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Kf(this._firestore,this._userDataWriter,s.key,s,new Cf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Kf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Kf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:kk(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=My.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:jt("string",cl._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Pk extends Ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function Lk(i){i=to(i,lo);const e=to(i.firestore,zc),t=Ww(e),s=new Pk(e);return xk(i._query),gk(t,i._query).then((o=>new cl(e,s,i,o)))}function Vk(i,e,t,...s){i=to(i,Ht);const o=to(i.firestore,zc),u=r_(o);let c;return c=typeof(e=pt(e))=="string"||e instanceof Ud?wk(u,"updateDoc",i._key,e,t,s):Ak(u,"updateDoc",i._key,e),d_(o,[c.toMutation(i._key,Ei.exists(!0))])}function Uk(i){return d_(to(i.firestore,zc),[new zy(i._key,Ei.none())])}function jk(i,e){const t=to(i.firestore,zc),s=ty(i),o=Mk(i.converter,e);return d_(t,[Sk(r_(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ei.exists(!1))]).then((()=>s))}function d_(i,e){return(function(s,o){const u=new Fs;return s.asyncQueue.enqueueAndForget((async()=>nk(await mk(s),o,u))),u.promise})(Ww(i),e)}function cg(){return new s_("serverTimestamp")}(function(e,t=!0){(function(o){kl=o})(ro),Wa(new Hs("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new zc(new vO(s.getProvider("auth-internal")),new TO(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Zi(Qb,Kb,e),Zi(Qb,Kb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebasestorage.googleapis.com",o1="storageBucket",zk=120*1e3,Bk=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends or{constructor(e,t,s=0){super(hg(e),`Firebase Storage: ${t} (${hg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function hg(i){return"storage/"+i}function m_(){const i="An unknown error occurred, please check the error payload for server response.";return new Tt(bt.UNKNOWN,i)}function Fk(i){return new Tt(bt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function qk(i){return new Tt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hk(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(bt.UNAUTHENTICATED,i)}function Gk(){return new Tt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Qk(i){return new Tt(bt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Kk(){return new Tt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Yk(){return new Tt(bt.CANCELED,"User canceled the upload/download.")}function $k(i){return new Tt(bt.INVALID_URL,"Invalid URL '"+i+"'.")}function Xk(i){return new Tt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Wk(){return new Tt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o1+"' property when initializing the app?")}function Jk(){return new Tt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zk(){return new Tt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eP(i){return new Tt(bt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iy(i){return new Tt(bt.INVALID_ARGUMENT,i)}function l1(){return new Tt(bt.APP_DELETED,"The Firebase app was deleted.")}function tP(i){return new Tt(bt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lc(i,e){return new Tt(bt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Qu(i){throw new Tt(bt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Bn.makeFromUrl(e,t)}catch{return new Bn(e,"")}if(s.path==="")return s;throw Xk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const _="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${_}/b/${o}/o${w}`,"i"),z={bucket:1,path:3},V=t===a1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",W=new RegExp(`^https?://${V}/${o}/${P}`,"i"),X=[{regex:m,indices:p,postModify:u},{regex:O,indices:z,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<X.length;oe++){const se=X[oe],me=se.regex.exec(e);if(me){const N=me[se.indices.bucket];let S=me[se.indices.path];S||(S=""),s=new Bn(N,S),se.postModify(s);break}}if(s==null)throw $k(e);return s}}class nP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(i,e,t){let s=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function _(...P){g||(g=!0,e.apply(null,P))}function b(P){o=setTimeout(()=>{o=null,i(O,p())},P)}function w(){u&&clearTimeout(u)}function O(P,...W){if(g){w();return}if(P){w(),_.call(null,P,...W);return}if(p()||c){w(),_.call(null,P,...W);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,b(X)}let z=!1;function V(P){z||(z=!0,w(),!g&&(o!==null?(P||(m=2),clearTimeout(o),b(0)):P||(m=1)))}return b(0),u=setTimeout(()=>{c=!0,V(!0)},t),V}function rP(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(i){return i!==void 0}function aP(i){return typeof i=="object"&&!Array.isArray(i)}function p_(i){return typeof i=="string"||i instanceof String}function GT(i){return g_()&&i instanceof Blob}function g_(){return typeof Blob<"u"}function QT(i,e,t,s){if(s<e)throw iy(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw iy(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function u1(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ka;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ka||(Ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,s,o,u,c,m,p,g,_,b,w=!0,O=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,V)=>{this.resolve_=z,this.reject_=V,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new If(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===Ka.NO_ERROR,p=u.getStatus();if(!m||oP(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Ka.ABORT;s(!1,new If(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new If(g,u))})},t=(s,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());sP(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=m_();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?l1():Yk();c(p)}else{const p=Kk();c(p)}};this.canceled_?t(!1,new If(!1,null,!0)):this.backoffId_=iP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class If{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function uP(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function cP(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hP(i,e){e&&(i["X-Firebase-GMPID"]=e)}function fP(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function dP(i,e,t,s,o,u,c=!0,m=!1){const p=u1(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return hP(_,e),uP(_,t),cP(_,u),fP(_,s),new lP(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pP(...i){const e=mP();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(g_())return new Blob(i);throw new Tt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gP(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(i){if(typeof atob>"u")throw eP("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fg{constructor(e,t){this.data=e,this.contentType=t||null}}function _P(i,e){switch(i){case Ji.RAW:return new fg(c1(e));case Ji.BASE64:case Ji.BASE64URL:return new fg(h1(i,e));case Ji.DATA_URL:return new fg(EP(e),bP(e))}throw m_()}function c1(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,c=i.charCodeAt(++t);s=65536|(u&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function vP(i){let e;try{e=decodeURIComponent(i)}catch{throw lc(Ji.DATA_URL,"Malformed data URL.")}return c1(e)}function h1(i,e){switch(i){case Ji.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw lc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw lc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=yP(e)}catch(o){throw o.message.includes("polyfill")?o:lc(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class f1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw lc(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=TP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function EP(i){const e=new f1(i);return e.base64?h1(Ji.BASE64,e.rest):vP(e.rest)}function bP(i){return new f1(i).contentType}function TP(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t){let s=0,o="";GT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(GT(this.data_)){const s=this.data_,o=gP(s,e,t);return o===null?null:new Cs(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Cs(s,!0)}}static getBlob(...e){if(g_()){const t=e.map(s=>s instanceof Cs?s.data_:s);return new Cs(pP.apply(null,t))}else{const t=e.map(c=>p_(c)?_P(Ji.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new Cs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i){let e;try{e=JSON.parse(i)}catch{return null}return aP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function AP(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function m1(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(i,e){return e}class pn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||wP}}let xf=null;function RP(i){return!p_(i)||i.length<2?i:m1(i)}function p1(){if(xf)return xf;const i=[];i.push(new pn("bucket")),i.push(new pn("generation")),i.push(new pn("metageneration")),i.push(new pn("name","fullPath",!0));function e(u,c){return RP(c)}const t=new pn("name");t.xform=e,i.push(t);function s(u,c){return c!==void 0?Number(c):c}const o=new pn("size");return o.xform=s,i.push(o),i.push(new pn("timeCreated")),i.push(new pn("updated")),i.push(new pn("md5Hash",null,!0)),i.push(new pn("cacheControl",null,!0)),i.push(new pn("contentDisposition",null,!0)),i.push(new pn("contentEncoding",null,!0)),i.push(new pn("contentLanguage",null,!0)),i.push(new pn("contentType",null,!0)),i.push(new pn("metadata","customMetadata",!0)),xf=i,xf}function CP(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new Bn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function IP(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const c=t[u];s[c.local]=c.xform(s,e[c.server])}return CP(s,i),s}function g1(i,e,t){const s=d1(e);return s===null?null:IP(i,s,t)}function xP(i,e,t,s){const o=d1(e);if(o===null||!p_(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const _=i.bucket,b=i.fullPath,w="/b/"+c(_)+"/o/"+c(b),O=Bd(w,t,s),z=u1({alt:"media",token:g});return O+z})[0]}function NP(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class y_{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(i){if(!i)throw m_()}function DP(i,e){function t(s,o){const u=g1(i,o,e);return y1(u!==null),u}return t}function OP(i,e){function t(s,o){const u=g1(i,o,e);return y1(u!==null),xP(u,o,i.host,i._protocol)}return t}function _1(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Gk():o=Hk():t.getStatus()===402?o=qk(i.bucket):t.getStatus()===403?o=Qk(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function v1(i){const e=_1(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=Fk(i.path)),u.serverResponse=o.serverResponse,u}return t}function MP(i,e,t){const s=e.fullServerUrl(),o=Bd(s,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,m=new y_(o,u,OP(i,t),c);return m.errorHandler=v1(e),m}function kP(i,e){const t=e.fullServerUrl(),s=Bd(t,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function c(p,g){}const m=new y_(s,o,c,u);return m.successCodes=[200,204],m.errorHandler=v1(e),m}function PP(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function LP(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=PP(null,e)),s}function VP(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let oe=0;oe<2;oe++)X=X+Math.random().toString().slice(2);return X}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=LP(e,s,o),_=NP(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",O=Cs.getBlob(b,s,w);if(O===null)throw Jk();const z={name:g.fullPath},V=Bd(u,i.host,i._protocol),P="POST",W=i.maxUploadRetryTime,re=new y_(V,P,DP(i,t),W);return re.urlParams=z,re.headers=c,re.body=O.uploadData(),re.errorHandler=_1(e),re}class UP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Qu("cannot .send() more than once");if(Js(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jP extends UP{initXhr(){this.xhr_.responseType="text"}}function __(){return new jP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this._service=e,t instanceof Bn?this._location=t:this._location=Bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new io(e,t)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m1(this._location.path)}get storage(){return this._service}get parent(){const e=SP(this._location.path);if(e===null)return null;const t=new Bn(this._location.bucket,e);return new io(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw tP(e)}}function zP(i,e,t){i._throwIfRoot("uploadBytes");const s=VP(i.storage,i._location,p1(),new Cs(e,!0),t);return i.storage.makeRequestWithTokens(s,__).then(o=>({metadata:o,ref:i}))}function BP(i){i._throwIfRoot("getDownloadURL");const e=MP(i.storage,i._location,p1());return i.storage.makeRequestWithTokens(e,__).then(t=>{if(t===null)throw Zk();return t})}function FP(i){i._throwIfRoot("deleteObject");const e=kP(i.storage,i._location);return i.storage.makeRequestWithTokens(e,__)}function qP(i,e){const t=AP(i._location.path,e),s=new Bn(i._location.bucket,t);return new io(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(i){return/^[A-Za-z]+:\/\//.test(i)}function GP(i,e){return new io(i,e)}function E1(i,e){if(i instanceof v_){const t=i;if(t._bucket==null)throw Wk();const s=new io(t,t._bucket);return e!=null?E1(s,e):s}else return e!==void 0?qP(i,e):i}function QP(i,e){if(e&&HP(e)){if(i instanceof v_)return GP(i,e);throw iy("To use ref(service, url), the first argument must be a Storage instance.")}else return E1(i,e)}function KT(i,e){const t=e==null?void 0:e[o1];return t==null?null:Bn.makeFromBucketSpec(t,i)}function KP(i,e,t,s={}){i.host=`${e}:${t}`;const o=Js(e);o&&(vy(`https://${i.host}/b`),Ey("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:QS(u,i.app.options.projectId))}class v_{constructor(e,t,s,o,u,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=a1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zk,this._maxUploadRetryTime=Bk,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=KT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=KT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new io(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new nP(l1());{const c=dP(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const YT="@firebase/storage",$T="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="storage";function YP(i,e,t){return i=pt(i),zP(i,e,t)}function $P(i){return i=pt(i),BP(i)}function XP(i){return i=pt(i),FP(i)}function XT(i,e){return i=pt(i),QP(i,e)}function WP(i=Sy(),e){i=pt(i);const s=bd(i,b1).getImmediate({identifier:e}),o=qS("storage");return o&&JP(s,...o),s}function JP(i,e,t,s={}){KP(i,e,t,s)}function ZP(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new v_(t,s,o,e,ro)}function eL(){Wa(new Hs(b1,ZP,"PUBLIC").setMultipleInstances(!0)),Zi(YT,$T,""),Zi(YT,$T,"esm2020")}eL();const tL={apiKey:"AIzaSyDsI6Nh0HvRe6olQtS93zFAzNI1e-Jepe0",authDomain:"song-practise.firebaseapp.com",projectId:"song-practise",storageBucket:"song-practise.firebasestorage.app",messagingSenderId:"756608057127",appId:"1:756608057127:web:8e385bccd1c60fe2ebf302"},E_=$S(tL),Nf=dO(E_),Df=_k(E_),WT=WP(E_),T1=Q.createContext(void 0);function Fd(){const i=Q.useContext(T1);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}function nL({children:i}){const[e,t]=Q.useState(null),[s,o]=Q.useState(!0);Q.useEffect(()=>tD(Nf,_=>{t(_),o(!1)}),[]);const p={user:e,loading:s,signInWithEmail:async(g,_)=>{await JN(Nf,g,_)},signUpWithEmail:async(g,_)=>{await WN(Nf,g,_)},signOut:async()=>{await nD(Nf)}};return C.jsx(T1.Provider,{value:p,children:!s&&i})}const iL=new a2({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:1}}}),rL="24e5318628dd479b8a0b323a2737cd6c",sL="fe9407e3dbe644efa0c8dc9d9bbd7496";let Of=null,JT=0;async function S1(){if(Of&&Date.now()<JT)return Of;const i=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${btoa(`${rL}:${sL}`)}`},body:"grant_type=client_credentials"});if(!i.ok)throw new Error("Failed to get Spotify access token");const e=await i.json();return Of=e.access_token,JT=Date.now()+e.expires_in*1e3-6e4,Of}const Ku=new Map,Yu=new Map;async function aL(i){var t;const e=i.toLowerCase();if(Ku.has(e))return Ku.get(e);try{const s=await S1(),o=await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(i)}&type=artist&limit=1`,{headers:{Authorization:`Bearer ${s}`}});if(!o.ok)throw new Error("Failed to search Spotify artist");const u=await o.json();if(u.artists.items.length===0)return Ku.set(e,null),null;const c=u.artists.items[0],m={id:c.id,name:c.name,images:c.images||[],genres:c.genres||[],followers:((t=c.followers)==null?void 0:t.total)||0};return Ku.set(e,m),m}catch(s){return console.error("Error fetching Spotify artist:",s),Ku.set(e,null),null}}function pd(i,e="large"){var t,s,o,u,c,m;return!i||!i.images.length?null:e==="large"?((t=i.images[0])==null?void 0:t.url)||null:e==="medium"?((s=i.images[1])==null?void 0:s.url)||((o=i.images[0])==null?void 0:o.url)||null:((u=i.images[2])==null?void 0:u.url)||((c=i.images[1])==null?void 0:c.url)||((m=i.images[0])==null?void 0:m.url)||null}async function oL(i,e){var s,o;const t=`${i.toLowerCase()}-${e.toLowerCase()}`;if(Yu.has(t))return Yu.get(t);try{const u=await S1(),c=await fetch(`https://api.spotify.com/v1/search?q=track:${encodeURIComponent(i)}%20artist:${encodeURIComponent(e)}&type=track&limit=1`,{headers:{Authorization:`Bearer ${u}`}});if(!c.ok)throw new Error("Failed to search Spotify track");const m=await c.json();if(m.tracks.items.length===0)return Yu.set(t,null),null;const p=m.tracks.items[0],g={id:p.id,name:p.name,albumImage:((s=p.album.images[0])==null?void 0:s.url)||null,albumName:p.album.name,artistName:((o=p.artists[0])==null?void 0:o.name)||e};return Yu.set(t,g),g}catch(u){return console.error("Error fetching Spotify track:",u),Yu.set(t,null),null}}function A1(i){return _y({queryKey:["spotify-artist",i.toLowerCase()],queryFn:()=>aL(i),staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!i})}function w1(i,e){return _y({queryKey:["spotify-track",i.toLowerCase(),e.toLowerCase()],queryFn:()=>oL(i,e),staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!i&&!!e})}function R1({song:i,onEdit:e,onDelete:t,onUpdateProgress:s}){var b,w,O,z;const o=yd(),[u,c]=Q.useState(i.progress||0),m=Q.useRef(),{data:p,isLoading:g}=w1(i.title,i.artist);Q.useEffect(()=>{c(i.progress||0)},[i.progress]);const _=V=>{const P=Number.parseInt(V.target.value);c(P),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{s(i.id,P)},500)};return Q.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),C.jsxs("div",{className:"bg-slate-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition flex flex-col md:flex-row relative group cursor-pointer",onClick:()=>o(`/song/${i.id}`),children:[C.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 z-10",children:[C.jsx("button",{onClick:V=>{V.stopPropagation(),e(i)},className:"p-2 bg-slate-700/80 hover:bg-blue-600 rounded-full transition backdrop-blur-sm",title:"Edit song",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),C.jsx("button",{onClick:V=>{V.stopPropagation(),confirm(`Delete "${i.title}"?`)&&t(i.id)},className:"p-2 bg-slate-700/80 hover:bg-red-600 rounded-full transition backdrop-blur-sm",title:"Delete song",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),C.jsxs("div",{className:"w-full md:w-40 h-40 flex-shrink-0 bg-gradient-to-br from-slate-700 to-slate-800 relative",children:[g&&C.jsx("div",{className:"absolute inset-0 bg-slate-700 animate-pulse"}),!g&&(p==null?void 0:p.albumImage)&&C.jsx("img",{src:p.albumImage,alt:`${i.title} album art`,className:"w-full h-full object-cover"}),!g&&!(p!=null&&p.albumImage)&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-4xl text-slate-600",children:""})]}),C.jsxs("div",{className:"flex-1 p-4 pr-20",children:[C.jsxs("div",{className:"mb-3",children:[C.jsx("h3",{className:"text-xl font-bold text-white",children:i.title}),C.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[C.jsx(vi,{to:`/artist/${encodeURIComponent(i.artist)}`,className:"text-slate-400 hover:text-blue-400 transition",onClick:V=>V.stopPropagation(),children:i.artist}),i.tuning&&i.tuning!=="Standard (E A D G B E)"&&C.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-300",children:[" ",i.tuning]})]})]}),C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{className:"flex justify-between items-center mb-1",children:[C.jsx("span",{className:"text-sm text-slate-400",children:"Progress"}),C.jsxs("span",{className:"text-sm font-medium text-blue-400",children:[u,"%"]})]}),C.jsx("input",{type:"range",min:"0",max:"100",value:u,onChange:_,onClick:V=>V.stopPropagation(),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),(i.lessonLink||((b=i.lessonLinks)==null?void 0:b.length)||i.songLinkYoutube||i.songLinkSpotify||i.tabsLink||((w=i.tabsLinks)==null?void 0:w.length))&&C.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[i.lessonLink&&C.jsx("a",{href:i.lessonLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-red-600 hover:bg-red-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" Lesson"}),(O=i.lessonLinks)==null?void 0:O.map((V,P)=>C.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-red-600 hover:bg-red-700 rounded-full transition",onClick:W=>W.stopPropagation(),children:[" ",V.label]},P)),i.songLinkYoutube&&C.jsx("a",{href:i.songLinkYoutube,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-red-600 hover:bg-red-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" YouTube"}),i.songLinkSpotify&&C.jsx("a",{href:i.songLinkSpotify,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-green-600 hover:bg-green-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" Spotify"}),i.tabsLink&&C.jsx("a",{href:i.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-orange-600 hover:bg-orange-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" Tabs"}),(z=i.tabsLinks)==null?void 0:z.map((V,P)=>C.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-orange-600 hover:bg-orange-700 rounded-full transition",onClick:W=>W.stopPropagation(),children:[" ",V.label]},P))]}),i.notes&&C.jsxs("div",{className:"p-3 bg-slate-900 rounded text-sm text-slate-300",children:[C.jsx("p",{className:"font-medium text-slate-400 mb-1",children:"Notes:"}),C.jsx("p",{className:"whitespace-pre-wrap",children:i.notes})]})]})]})}function lL({songs:i,onEdit:e,onDelete:t,onUpdateProgress:s}){return i.length===0?C.jsxs("div",{className:"text-center py-12 text-slate-400",children:[C.jsx("p",{className:"text-xl",children:"No songs in this category yet"}),C.jsx("p",{className:"text-sm mt-2",children:"Add your first song to get started!"})]}):C.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(o=>C.jsx(R1,{song:o,onEdit:e,onDelete:t,onUpdateProgress:s},o.id))})}const uL=[{value:"Standard (E A D G B E)",label:"Standard (E A D G B E)"},{value:"Drop D (D A D G B E)",label:"Drop D (D A D G B E)"},{value:"Half Step Down (Eb Ab Db Gb Bb Eb)",label:"Half Step Down (Eb Ab Db Gb Bb Eb)"},{value:"Whole Step Down (D G C F A D)",label:"Whole Step Down (D G C F A D)"},{value:"Drop C (C G C F A D)",label:"Drop C (C G C F A D)"},{value:"Drop C# (C# G# C# F# A# D#)",label:"Drop C# (C# G# C# F# A# D#)"},{value:"Open D (D A D F# A D)",label:"Open D (D A D F# A D)"},{value:"Open G (D G D G B D)",label:"Open G (D G D G B D)"},{value:"DADGAD (D A D G A D)",label:"DADGAD (D A D G A D)"},{value:"Drop B (B F# B E G# C#)",label:"Drop B (B F# B E G# C#)"},{value:"Drop A (A E A D F# B)",label:"Drop A (A E A D F# B)"},{value:"Open E (E B E G# B E)",label:"Open E (E B E G# B E)"},{value:"Open C (C G C G C E)",label:"Open C (C G C G C E)"}],Mf={WORKING:"currently-working",BACKLOG:"backlog",LEARNED:"learned"};function b_({song:i,onSubmit:e,onCancel:t}){const{user:s}=Fd(),[o,u]=Q.useState(i||{id:Date.now(),title:"",artist:"",lessonLink:"",lessonLinks:[],songLinkYoutube:"",songLinkSpotify:"",tabsLink:"",tabsLinks:[],notes:"",progress:0,category:Mf.WORKING,tuning:"Standard (E A D G B E)"}),[c,m]=Q.useState(null),[p,g]=Q.useState(!1),[_,b]=Q.useState(!1),w=async S=>{if(S.preventDefault(),c&&s){g(!0);try{const R=`${s.uid}/${Date.now()}_${c.name}`,D=XT(WT,`tabs/${R}`);await YP(D,c);const I=await $P(D);e({...o,tabsPdfUrl:I})}catch(R){console.error("Error uploading PDF:",R),alert("Failed to upload PDF. Please try again.")}finally{g(!1)}}else e(o)},O=S=>{S.preventDefault(),S.stopPropagation(),b(!1);const R=S.dataTransfer.files;R&&R[0]&&R[0].type==="application/pdf"?m(R[0]):alert("Please drop a PDF file")},z=S=>{const R=S.target.files;R&&R[0]&&R[0].type==="application/pdf"?m(R[0]):alert("Please select a PDF file")},V=async()=>{if(o.tabsPdfUrl&&s)try{const S=XT(WT,o.tabsPdfUrl);await XP(S)}catch(S){console.error("Error deleting PDF:",S)}m(null),u(S=>({...S,tabsPdfUrl:void 0}))},P=S=>{const{name:R,value:D}=S.target;u(I=>({...I,[R]:D}))},W=()=>{u(S=>({...S,lessonLinks:[...S.lessonLinks||[],{url:"",label:""}]}))},re=(S,R,D)=>{u(I=>{var j;return{...I,lessonLinks:(j=I.lessonLinks)==null?void 0:j.map((x,Ke)=>Ke===S?{...x,[R]:D}:x)}})},X=S=>{u(R=>{var D;return{...R,lessonLinks:(D=R.lessonLinks)==null?void 0:D.filter((I,j)=>j!==S)}})},oe=()=>{u(S=>({...S,tabsLinks:[...S.tabsLinks||[],{url:"",label:""}]}))},se=(S,R,D)=>{u(I=>{var j;return{...I,tabsLinks:(j=I.tabsLinks)==null?void 0:j.map((x,Ke)=>Ke===S?{...x,[R]:D}:x)}})},me=S=>{u(R=>{var D;return{...R,tabsLinks:(D=R.tabsLinks)==null?void 0:D.filter((I,j)=>j!==S)}})},N=S=>{S.target===S.currentTarget&&t()};return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/50",onClick:N,children:C.jsxs("div",{className:"bg-slate-800 w-full h-full md:h-auto md:max-h-[90vh] md:max-w-3xl md:rounded-lg shadow-2xl flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-slate-700",children:[C.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Song":"Add New Song"}),C.jsx("button",{type:"button",onClick:t,className:"text-slate-400 hover:text-white text-2xl leading-none","aria-label":"Close",children:""})]}),C.jsx("form",{id:"song-form",onSubmit:w,className:"flex-1 overflow-y-auto p-4 md:p-6",children:C.jsxs("div",{className:"grid gap-4",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Title *"}),C.jsx("input",{type:"text",name:"title",value:o.title,onChange:P,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Artist *"}),C.jsx("input",{type:"text",name:"artist",value:o.artist,onChange:P,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Main Lesson Link (YouTube)"}),C.jsx("input",{type:"url",name:"lessonLink",value:o.lessonLink,onChange:P,placeholder:"https://youtube.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("label",{className:"block text-sm font-medium",children:"Additional Lesson Links"}),C.jsx("button",{type:"button",onClick:W,className:"text-xs px-2 py-1 bg-blue-600 hover:bg-blue-700 rounded transition",children:"+ Add Link"})]}),o.lessonLinks&&o.lessonLinks.length>0&&C.jsx("div",{className:"space-y-2",children:o.lessonLinks.map((S,R)=>C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:S.label,onChange:D=>re(R,"label",D.target.value),placeholder:"Label (e.g., Solo, Part 2)",className:"w-1/3 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("input",{type:"url",value:S.url,onChange:D=>re(R,"url",D.target.value),placeholder:"https://youtube.com/...",className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("button",{type:"button",onClick:()=>X(R),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:""})]},R))})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Link (YouTube)"}),C.jsx("input",{type:"url",name:"songLinkYoutube",value:o.songLinkYoutube,onChange:P,placeholder:"https://youtube.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Link (Spotify)"}),C.jsx("input",{type:"url",name:"songLinkSpotify",value:o.songLinkSpotify,onChange:P,placeholder:"https://open.spotify.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Main Tabs/Chords Link"}),C.jsx("input",{type:"url",name:"tabsLink",value:o.tabsLink,onChange:P,placeholder:"https://...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("label",{className:"block text-sm font-medium",children:"Additional Tabs/Chords Links"}),C.jsx("button",{type:"button",onClick:oe,className:"text-xs px-2 py-1 bg-orange-600 hover:bg-orange-700 rounded transition",children:"+ Add Link"})]}),o.tabsLinks&&o.tabsLinks.length>0&&C.jsx("div",{className:"space-y-2",children:o.tabsLinks.map((S,R)=>C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:S.label,onChange:D=>se(R,"label",D.target.value),placeholder:"Label (e.g., Solo, Simplified)",className:"w-1/3 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("input",{type:"url",value:S.url,onChange:D=>se(R,"url",D.target.value),placeholder:"https://...",className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("button",{type:"button",onClick:()=>me(R),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:""})]},R))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-2",children:"Upload Tabs PDF"}),C.jsxs("div",{onDrop:O,onDragOver:S=>{S.preventDefault(),b(!0)},onDragLeave:()=>b(!1),className:`border-2 border-dashed rounded-lg p-6 text-center transition ${_?"border-blue-500 bg-blue-500/10":"border-slate-600"}`,children:[!c&&!o.tabsPdfUrl&&C.jsxs(C.Fragment,{children:[C.jsx("p",{className:"text-slate-400 mb-2",children:"Drag & drop a PDF file here or"}),C.jsxs("label",{className:"inline-block px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded cursor-pointer transition",children:["Browse Files",C.jsx("input",{type:"file",accept:"application/pdf",onChange:z,className:"hidden"})]})]}),(c||o.tabsPdfUrl)&&C.jsxs("div",{className:"flex items-center justify-between bg-slate-700 p-3 rounded",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-2xl",children:""}),C.jsx("span",{className:"text-sm",children:(c==null?void 0:c.name)||"Uploaded PDF"})]}),C.jsx("button",{type:"button",onClick:V,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:"Remove"})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),C.jsxs("select",{name:"category",value:o.category,onChange:P,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[C.jsx("option",{value:Mf.WORKING,children:"Currently Working"}),C.jsx("option",{value:Mf.BACKLOG,children:"Backlog"}),C.jsx("option",{value:Mf.LEARNED,children:"Learned"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Guitar Tuning"}),C.jsx("select",{name:"tuning",value:o.tuning,onChange:P,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:uL.map(S=>C.jsx("option",{value:S.value,children:S.label},S.value))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),C.jsx("textarea",{name:"notes",value:o.notes,onChange:P,rows:4,placeholder:"Additional tips, capo position, etc...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})}),C.jsx("div",{className:"p-4 md:p-6 border-t border-slate-700 bg-slate-800",children:C.jsxs("div",{className:"flex gap-2 justify-end",children:[C.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition",children:"Cancel"}),C.jsx("button",{type:"submit",form:"song-form",disabled:p,className:`px-6 py-2 rounded-lg transition ${p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?"Uploading...":(i?"Update":"Add")+" Song"})]})})]})})}const cL=[{value:"currently-working",label:"Currently Working"},{value:"backlog",label:"Backlog"},{value:"learned",label:"Learned"}];function hL(){const{category:i="currently-working"}=_d();return C.jsx("div",{className:"mb-6 flex gap-2 justify-center flex-wrap",children:cL.map(({value:e,label:t})=>C.jsx(vi,{to:`/${e}`,className:`px-6 py-2 rounded-lg font-medium transition ${i===e?"bg-blue-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:t},e))})}function qd(){const{user:i}=Fd(),e=yy(),{data:t=[],isLoading:s,isFetching:o}=_y({queryKey:["songs",i==null?void 0:i.uid],queryFn:async()=>{if(!i)return[];const p=jT(Df,"users",i.uid,"songs"),g=Nk(p,Dk("createdAt","desc"));return(await Lk(g)).docs.map(b=>({...b.data(),id:b.id}))},enabled:!!i,refetchOnMount:!1,refetchOnWindowFocus:!1}),u=Wp({mutationFn:async p=>{if(!i)throw new Error("Not authenticated");const g=jT(Df,"users",i.uid,"songs");return(await jk(g,{...p,createdAt:cg(),updatedAt:cg()})).id},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}}),c=Wp({mutationFn:async({songId:p,updates:g})=>{if(!i)throw new Error("Not authenticated");const _=ty(Df,"users",i.uid,"songs",p);await Vk(_,{...g,updatedAt:cg()})},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}}),m=Wp({mutationFn:async p=>{if(!i)throw new Error("Not authenticated");const g=ty(Df,"users",i.uid,"songs",p);await Uk(g)},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}});return{songs:t,loading:s,addSong:p=>u.mutateAsync(p),updateSong:(p,g)=>c.mutateAsync({songId:p,updates:g}),deleteSong:p=>m.mutateAsync(p)}}const ZT=i=>{let e;const t=new Set,s=(g,_)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const w=e;e=_??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(O=>O(e,w))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=i(s,o,m);return m},fL=(i=>i?ZT(i):ZT),dL=i=>i;function mL(i,e=dL){const t=$u.useSyncExternalStore(i.subscribe,$u.useCallback(()=>e(i.getState()),[i,e]),$u.useCallback(()=>e(i.getInitialState()),[i,e]));return $u.useDebugValue(t),t}const eS=i=>{const e=fL(i),t=s=>mL(e,s);return Object.assign(t,e),t},pL=(i=>i?eS(i):eS),T_=pL(i=>({showForm:!1,editingSong:null,openForm:()=>i({showForm:!0,editingSong:null}),openEditForm:e=>i({showForm:!0,editingSong:e}),closeForm:()=>i({showForm:!1,editingSong:null})}));function gL(){const{category:i="currently-working"}=_d(),{songs:e,addSong:t,updateSong:s,deleteSong:o}=qd(),{showForm:u,editingSong:c,openForm:m,openEditForm:p,closeForm:g}=T_(),_=async z=>{const{id:V,...P}=z;await t(P),g()},b=async z=>{const{id:V,...P}=z;await s(String(V),P),g()},w=async z=>{await o(String(z))},O=e.filter(z=>z.category===i);return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:C.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[C.jsxs("header",{className:"mb-8",children:[C.jsx("h1",{className:"text-4xl font-bold text-center mb-2",children:" Guitar Learning Tracker"}),C.jsx("p",{className:"text-slate-400 text-center",children:"Track your guitar journey"}),C.jsx("div",{className:"flex justify-center mt-4",children:C.jsxs(vi,{to:"/artists",className:"text-blue-400 hover:text-blue-300 transition flex items-center gap-2",children:[C.jsx("span",{children:""})," Browse by Artist"]})})]}),C.jsx(hL,{}),!u&&C.jsx("button",{onClick:m,className:"w-full mb-6 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition",children:"+ Add New Song"}),u&&C.jsx(b_,{song:c,onSubmit:c?b:_,onCancel:g}),C.jsx(lL,{songs:O,onEdit:p,onDelete:w,onUpdateProgress:async(z,V)=>{await s(String(z),{progress:V})}})]})})}function yL({name:i,count:e}){const{data:t,isLoading:s}=A1(i);return C.jsxs(vi,{to:`/artist/${encodeURIComponent(i)}`,className:"group bg-slate-800 hover:bg-slate-750 rounded-lg p-6 transition border border-slate-700 hover:border-slate-600",children:[C.jsxs("div",{className:"w-full h-32 mb-4 rounded bg-gradient-to-br from-slate-700 to-slate-800 overflow-hidden relative",children:[s&&C.jsx("div",{className:"absolute inset-0 bg-slate-700 animate-pulse"}),!s&&pd(t,"medium")&&C.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${pd(t,"medium")})`}})]}),C.jsx("h2",{className:"text-xl font-bold mb-1 group-hover:text-blue-400 transition",children:i}),C.jsxs("p",{className:"text-slate-400 text-sm",children:[e," ",e===1?"song":"songs"]}),t&&t.genres.length>0&&C.jsx("p",{className:"text-slate-500 text-xs mt-1 truncate",children:t.genres[0]})]})}function _L(){const{songs:i}=qd(),e=Q.useMemo(()=>{const t=i.reduce((s,o)=>{const u=o.artist;return s[u]||(s[u]={name:u,count:0}),s[u].count++,s},{});return Object.values(t).sort((s,o)=>s.name.localeCompare(o.name))},[i]);return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:C.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[C.jsxs("header",{className:"mb-8",children:[C.jsx(vi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:" Back to songs"}),C.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Artists"}),C.jsx("p",{className:"text-slate-400",children:"Browse songs by artist"})]}),e.length===0?C.jsx("div",{className:"text-center py-12 text-slate-400",children:C.jsx("p",{children:"No artists yet. Add some songs to get started!"})}):C.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>C.jsx(yL,{name:t.name,count:t.count},t.name))})]})})}function vL(){const{artist:i}=_d(),{songs:e,updateSong:t,deleteSong:s}=qd(),{showForm:o,editingSong:u,openEditForm:c,closeForm:m}=T_(),p=decodeURIComponent(i||""),g=e.filter(V=>V.artist.toLowerCase()===p.toLowerCase()),{data:_,isLoading:b}=A1(p),w=async V=>{const{id:P,...W}=V;await t(String(P),W),m()},O=async V=>{await s(String(V))},z=async(V,P)=>{await t(String(V),{progress:P})};return C.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:[C.jsxs("div",{className:"relative h-64 md:h-96 bg-gradient-to-b from-slate-800 to-slate-900 overflow-hidden",children:[!b&&pd(_,"large")&&C.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:`url(${pd(_,"large")})`}}),b&&C.jsx("div",{className:"absolute inset-0 bg-slate-800 animate-pulse"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"}),C.jsxs("div",{className:"relative h-full max-w-6xl mx-auto px-4 flex flex-col justify-end pb-8",children:[C.jsx(vi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:" Back to songs"}),C.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-2",children:p}),C.jsxs("p",{className:"text-slate-400 text-lg",children:[g.length," ",g.length===1?"song":"songs"]}),_&&_.genres.length>0&&C.jsx("p",{className:"text-slate-500 text-sm mt-1",children:_.genres.slice(0,3).join(", ")})]})]}),C.jsx("div",{className:"max-w-6xl mx-auto p-4",children:g.length===0?C.jsx("div",{className:"text-center py-12 text-slate-400",children:C.jsx("p",{children:"No songs found for this artist."})}):C.jsx("div",{className:"grid gap-4",children:g.map(V=>C.jsx(R1,{song:V,onEdit:c,onDelete:O,onUpdateProgress:z},V.id))})}),o&&C.jsx(b_,{song:u,onSubmit:w,onCancel:m})]})}function EL(){var R,D,I,j,x,Ke,yt;const{id:i}=_d(),e=yd(),{songs:t,loading:s,updateSong:o,deleteSong:u}=qd(),{showForm:c,editingSong:m,openEditForm:p,closeForm:g}=T_(),_=t.find(q=>q.id===i),[b,w]=Q.useState((_==null?void 0:_.progress)||0),O=Q.useRef(),{data:z,isLoading:V}=w1((_==null?void 0:_.title)||"",(_==null?void 0:_.artist)||"");Q.useEffect(()=>{w((_==null?void 0:_.progress)||0)},[_==null?void 0:_.progress]);const P=async q=>{const{id:ae,...ye}=q;await o(String(ae),ye),g()},W=async()=>{confirm(`Delete "${_==null?void 0:_.title}"?`)&&(await u(String(_==null?void 0:_.id)),e("/currently-working"))},re=q=>{w(q),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{_&&o(String(_.id),{progress:q})},500)};Q.useEffect(()=>()=>{O.current&&clearTimeout(O.current)},[]);const X=q=>{const ae=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ye=q.match(ae);return ye&&ye[2].length===11?ye[2]:null},oe=q=>{const ae=q.match(/track\/([a-zA-Z0-9]+)/);return ae?ae[1]:null},se=q=>q.includes("ultimate-guitar.com")||q.includes("tabs.ultimate-guitar.com");if(s&&t.length===0)return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),C.jsx("p",{className:"text-slate-400",children:"Loading..."})]})});if(!_)return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center",children:C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Song not found"}),C.jsx(vi,{to:"/currently-working",className:"text-blue-400 hover:text-blue-300",children:" Back to songs"})]})});const me=_.lessonLink?X(_.lessonLink):_.songLinkYoutube?X(_.songLinkYoutube):null,N=((R=_.lessonLinks)==null?void 0:R.map(q=>({id:X(q.url),label:q.label})).filter(q=>q.id))||[],S=_.songLinkSpotify?oe(_.songLinkSpotify):null;return C.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:[C.jsxs("div",{className:"relative bg-gradient-to-b from-slate-800 to-slate-900",children:[(z==null?void 0:z.albumImage)&&C.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-xl",style:{backgroundImage:`url(${z.albumImage})`}}),C.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 py-8",children:[C.jsx(vi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:" Back to songs"}),C.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start mt-4",children:[C.jsxs("div",{className:"w-full md:w-64 h-64 flex-shrink-0 bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg overflow-hidden shadow-2xl",children:[V&&C.jsx("div",{className:"w-full h-full bg-slate-700 animate-pulse"}),!V&&(z==null?void 0:z.albumImage)&&C.jsx("img",{src:z.albumImage,alt:`${_.title} album art`,className:"w-full h-full object-cover"}),!V&&!(z!=null&&z.albumImage)&&C.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl text-slate-600",children:""})]}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:_.title}),C.jsx(vi,{to:`/artist/${encodeURIComponent(_.artist)}`,className:"text-2xl text-slate-400 hover:text-blue-400 transition inline-block mb-3",children:_.artist}),_.tuning&&C.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-700 rounded-lg text-sm mb-4 ml-3",children:[" ",_.tuning]}),z&&C.jsxs("p",{className:"text-slate-400 mb-4",children:["Album: ",z.albumName]}),C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsx("span",{className:"text-sm text-slate-400",children:"Learning Progress"}),C.jsxs("span",{className:"text-lg font-bold text-blue-400",children:[b,"%"]})]}),C.jsx("input",{type:"range",min:"0",max:"100",value:b,onChange:q=>re(Number.parseInt(q.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),C.jsxs("div",{className:"flex gap-2 mt-6",children:[C.jsxs("button",{onClick:()=>p(_),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition flex items-center gap-2",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),C.jsxs("button",{onClick:W,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})]})]})]}),C.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(_.lessonLink||((D=_.lessonLinks)==null?void 0:D.length)||_.songLinkYoutube||_.songLinkSpotify||_.tabsLink||((I=_.tabsLinks)==null?void 0:I.length))&&C.jsxs("div",{className:"mb-8",children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Resources"}),C.jsxs("div",{className:"flex flex-wrap gap-3",children:[_.lessonLink&&C.jsx("a",{href:_.lessonLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:" Lesson Video"}),(j=_.lessonLinks)==null?void 0:j.map((q,ae)=>C.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:[" ",q.label]},ae)),_.songLinkYoutube&&C.jsx("a",{href:_.songLinkYoutube,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:" YouTube"}),_.songLinkSpotify&&C.jsx("a",{href:_.songLinkSpotify,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition flex items-center gap-2",children:" Spotify"}),_.tabsLink&&C.jsx("a",{href:_.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg transition flex items-center gap-2",children:" Tabs/Chords"}),(x=_.tabsLinks)==null?void 0:x.map((q,ae)=>C.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg transition flex items-center gap-2",children:[" ",q.label]},ae))]})]}),C.jsxs("div",{className:"space-y-6 mb-8",children:[me&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:_.lessonLink&&X(_.lessonLink)===me?"Main Lesson Video":"Song Video"}),C.jsx("div",{className:"relative pb-[56.25%] h-0 bg-slate-800 rounded-lg overflow-hidden",children:C.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${me}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),N.length>0&&C.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:N.map((q,ae)=>C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:q.label}),C.jsx("div",{className:"relative pb-[56.25%] h-0 bg-slate-800 rounded-lg overflow-hidden",children:C.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${q.id}`,title:`${q.label} video player`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]},ae))}),S&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Listen on Spotify"}),C.jsx("div",{className:"bg-slate-800 rounded-lg overflow-hidden",style:{height:"352px"},children:C.jsx("iframe",{className:"w-full h-full",src:`https://open.spotify.com/embed/track/${S}?utm_source=generator`,frameBorder:"0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})})]})]}),(_.tabsLink||!!((Ke=_.tabsLinks)!=null&&Ke.length)||_.tabsPdfUrl)&&C.jsxs("div",{className:"mb-8 space-y-6",children:[_.tabsPdfUrl&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tabs PDF"}),C.jsx("div",{className:"bg-slate-800 rounded-lg overflow-hidden",style:{height:"800px"},children:C.jsx("iframe",{src:_.tabsPdfUrl,className:"w-full h-full",title:"Tabs PDF"})})]}),_.tabsLink&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tabs & Chords"}),C.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 text-center border-2 border-slate-700",children:[C.jsx("p",{className:"text-slate-400 mb-4",children:se(_.tabsLink)?"Ultimate Guitar tabs work best in their own tab":"Tabs are best viewed on the original site"}),C.jsx("a",{href:_.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded-lg transition text-lg font-medium",children:" Open Tabs in Ultimate Guitar"})]})]}),(yt=_.tabsLinks)==null?void 0:yt.map((q,ae)=>C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:q.label}),C.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 text-center border-2 border-slate-700",children:[C.jsx("p",{className:"text-slate-400 mb-4",children:se(q.url)?"Ultimate Guitar tabs work best in their own tab":`${q.label} tabs are best viewed on the original site`}),C.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded-lg transition text-lg font-medium",children:[" Open ",q.label]})]})]},ae))]}),_.notes&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Notes"}),C.jsx("div",{className:"p-6 bg-slate-800 rounded-lg",children:C.jsx("p",{className:"whitespace-pre-wrap text-slate-300",children:_.notes})})]})]}),c&&C.jsx(b_,{song:m,onSubmit:P,onCancel:g})]})}function C1(){const{signInWithEmail:i,signUpWithEmail:e}=Fd(),[t,s]=Q.useState(!1),[o,u]=Q.useState(""),[c,m]=Q.useState(""),[p,g]=Q.useState(""),[_,b]=Q.useState(!1),w=async O=>{O.preventDefault();try{g(""),b(!0),t?await e(o,c):await i(o,c)}catch(z){g(z.message)}finally{b(!1)}};return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center p-4",children:C.jsxs("div",{className:"max-w-md w-full",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Guitar Learning Tracker"}),C.jsx("p",{className:"text-slate-400",children:"Sign in to sync your songs across devices"})]}),C.jsxs("div",{className:"bg-slate-800 rounded-lg p-8 shadow-xl",children:[p&&C.jsx("div",{className:"mb-4 p-3 bg-red-600/20 border border-red-600 rounded text-red-400 text-sm",children:p}),C.jsxs("form",{onSubmit:w,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),C.jsx("input",{type:"email",value:o,onChange:O=>u(O.target.value),required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),C.jsx("input",{type:"password",value:c,onChange:O=>m(O.target.value),required:!0,minLength:6,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),C.jsx("button",{type:"submit",disabled:_,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition disabled:opacity-50",children:_?"Please wait...":t?"Sign Up":"Sign In"})]}),C.jsx("div",{className:"mt-4 text-center",children:C.jsx("button",{onClick:()=>s(!t),className:"text-blue-400 hover:text-blue-300 text-sm",children:t?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(i=>{console.log("ServiceWorker registered:",i.scope)},i=>{console.log("ServiceWorker registration failed:",i)})});function kf({children:i}){const{user:e}=Fd();return e?C.jsx(C.Fragment,{children:i}):C.jsx(C1,{})}mC.createRoot(document.getElementById("root")).render(C.jsx($u.StrictMode,{children:C.jsx(o2,{client:iL,children:C.jsx(II,{children:C.jsx(nL,{children:C.jsxs(sI,{children:[C.jsx(ka,{path:"/login",element:C.jsx(C1,{})}),C.jsx(ka,{path:"/artists",element:C.jsx(kf,{children:C.jsx(_L,{})})}),C.jsx(ka,{path:"/artist/:artist",element:C.jsx(kf,{children:C.jsx(vL,{})})}),C.jsx(ka,{path:"/song/:id",element:C.jsx(kf,{children:C.jsx(EL,{})})}),C.jsx(ka,{path:"/:category",element:C.jsx(kf,{children:C.jsx(gL,{})})}),C.jsx(ka,{path:"/",element:C.jsx(iI,{to:"/currently-working",replace:!0})})]})})})})}));
