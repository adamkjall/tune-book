var H0=i=>{throw TypeError(i)};var Hp=(i,e,t)=>e.has(i)||H0("Cannot "+t);var k=(i,e,t)=>(Hp(i,e,"read from private field"),t?t.call(i):e.get(i)),_e=(i,e,t)=>e.has(i)?H0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),ce=(i,e,t,r)=>(Hp(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),Oe=(i,e,t)=>(Hp(i,e,"access private method"),t);var vf=(i,e,t,r)=>({set _(o){ce(i,e,o,t)},get _(){return k(i,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function pS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gp={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function oC(){if(G0)return Hu;G0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Hu.Fragment=e,Hu.jsx=t,Hu.jsxs=t,Hu}var Q0;function lC(){return Q0||(Q0=1,Gp.exports=oC()),Gp.exports}var C=lC(),Qp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function uC(){if(K0)return Re;K0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function D(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,L={};function W(U,ne,ue){this.props=U,this.context=ne,this.refs=L,this.updater=ue||z}W.prototype.isReactComponent={},W.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},W.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function se(){}se.prototype=W.prototype;function X(U,ne,ue){this.props=U,this.context=ne,this.refs=L,this.updater=ue||z}var oe=X.prototype=new se;oe.constructor=X,V(oe,W.prototype),oe.isPureReactComponent=!0;var re=Array.isArray;function me(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(U,ne,ue){var de=ue.ref;return{$$typeof:i,type:U,key:ne,ref:de!==void 0?de:null,props:ue}}function O(U,ne){return R(U.type,ne,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function j(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var N=/\/+/g;function Ke(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):ne.toString(36)}function vt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(me,me):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function q(U,ne,ue,de,Ae){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var Be=!1;if(U===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(U.$$typeof){case i:case e:Be=!0;break;case _:return Be=U._init,q(Be(U._payload),ne,ue,de,Ae)}}if(Be)return Ae=Ae(U),Be=de===""?"."+Ke(U,0):de,re(Ae)?(ue="",Be!=null&&(ue=Be.replace(N,"$&/")+"/"),q(Ae,ne,ue,"",function(sa){return sa})):Ae!=null&&(I(Ae)&&(Ae=O(Ae,ue+(Ae.key==null||U&&U.key===Ae.key?"":(""+Ae.key).replace(N,"$&/")+"/")+Be)),ne.push(Ae)),1;Be=0;var Ft=de===""?".":de+":";if(re(U))for(var dt=0;dt<U.length;dt++)de=U[dt],xe=Ft+Ke(de,dt),Be+=q(de,ne,ue,xe,Ae);else if(dt=D(U),typeof dt=="function")for(U=dt.call(U),dt=0;!(de=U.next()).done;)de=de.value,xe=Ft+Ke(de,dt++),Be+=q(de,ne,ue,xe,Ae);else if(xe==="object"){if(typeof U.then=="function")return q(vt(U),ne,ue,de,Ae);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ae(U,ne,ue){if(U==null)return U;var de=[],Ae=0;return q(U,de,"","",function(xe){return ne.call(ue,xe,Ae++)}),de}function ye(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var He=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Je={map:ae,forEach:function(U,ne,ue){ae(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return ae(U,function(){ne++}),ne},toArray:function(U){return ae(U,function(ne){return ne})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Re.Activity=b,Re.Children=Je,Re.Component=W,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(U){return x.H.useMemoCache(U)}},Re.cache=function(U){return function(){return U.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=V({},U.props),Ae=U.key;if(ne!=null)for(xe in ne.key!==void 0&&(Ae=""+ne.key),ne)!S.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(de[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)de.children=ue;else if(1<xe){for(var Be=Array(xe),Ft=0;Ft<xe;Ft++)Be[Ft]=arguments[Ft+2];de.children=Be}return R(U.type,Ae,de)},Re.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Re.createElement=function(U,ne,ue){var de,Ae={},xe=null;if(ne!=null)for(de in ne.key!==void 0&&(xe=""+ne.key),ne)S.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ae[de]=ne[de]);var Be=arguments.length-2;if(Be===1)Ae.children=ue;else if(1<Be){for(var Ft=Array(Be),dt=0;dt<Be;dt++)Ft[dt]=arguments[dt+2];Ae.children=Ft}if(U&&U.defaultProps)for(de in Be=U.defaultProps,Be)Ae[de]===void 0&&(Ae[de]=Be[de]);return R(U,xe,Ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:m,render:U}},Re.isValidElement=I,Re.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:ye}},Re.memo=function(U,ne){return{$$typeof:g,type:U,compare:ne===void 0?null:ne}},Re.startTransition=function(U){var ne=x.T,ue={};x.T=ue;try{var de=U(),Ae=x.S;Ae!==null&&Ae(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(me,He)}catch(xe){He(xe)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),x.T=ne}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(U){return x.H.use(U)},Re.useActionState=function(U,ne,ue){return x.H.useActionState(U,ne,ue)},Re.useCallback=function(U,ne){return x.H.useCallback(U,ne)},Re.useContext=function(U){return x.H.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U,ne){return x.H.useDeferredValue(U,ne)},Re.useEffect=function(U,ne){return x.H.useEffect(U,ne)},Re.useEffectEvent=function(U){return x.H.useEffectEvent(U)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(U,ne,ue){return x.H.useImperativeHandle(U,ne,ue)},Re.useInsertionEffect=function(U,ne){return x.H.useInsertionEffect(U,ne)},Re.useLayoutEffect=function(U,ne){return x.H.useLayoutEffect(U,ne)},Re.useMemo=function(U,ne){return x.H.useMemo(U,ne)},Re.useOptimistic=function(U,ne){return x.H.useOptimistic(U,ne)},Re.useReducer=function(U,ne,ue){return x.H.useReducer(U,ne,ue)},Re.useRef=function(U){return x.H.useRef(U)},Re.useState=function(U){return x.H.useState(U)},Re.useSyncExternalStore=function(U,ne,ue){return x.H.useSyncExternalStore(U,ne,ue)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.0",Re}var Y0;function oy(){return Y0||(Y0=1,Qp.exports=uC()),Qp.exports}var Q=oy();const Xu=pS(Q);var Kp={exports:{}},Gu={},Yp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function cC(){return $0||($0=1,(function(i){function e(q,ae){var ye=q.length;q.push(ae);e:for(;0<ye;){var He=ye-1>>>1,Je=q[He];if(0<o(Je,ae))q[He]=ae,q[ye]=Je,ye=He;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ae=q[0],ye=q.pop();if(ye!==ae){q[0]=ye;e:for(var He=0,Je=q.length,U=Je>>>1;He<U;){var ne=2*(He+1)-1,ue=q[ne],de=ne+1,Ae=q[de];if(0>o(ue,ye))de<Je&&0>o(Ae,ue)?(q[He]=Ae,q[de]=ye,He=de):(q[He]=ue,q[ne]=ye,He=ne);else if(de<Je&&0>o(Ae,ye))q[He]=Ae,q[de]=ye,He=de;else break e}}return ae}function o(q,ae){var ye=q.sortIndex-ae.sortIndex;return ye!==0?ye:q.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,b=null,w=3,D=!1,z=!1,V=!1,L=!1,W=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function oe(q){for(var ae=t(g);ae!==null;){if(ae.callback===null)r(g);else if(ae.startTime<=q)r(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function re(q){if(V=!1,oe(q),!z)if(t(p)!==null)z=!0,me||(me=!0,j());else{var ae=t(g);ae!==null&&vt(re,ae.startTime-q)}}var me=!1,x=-1,S=5,R=-1;function O(){return L?!0:!(i.unstable_now()-R<S)}function I(){if(L=!1,me){var q=i.unstable_now();R=q;var ae=!0;try{e:{z=!1,V&&(V=!1,se(x),x=-1),D=!0;var ye=w;try{t:{for(oe(q),b=t(p);b!==null&&!(b.expirationTime>q&&O());){var He=b.callback;if(typeof He=="function"){b.callback=null,w=b.priorityLevel;var Je=He(b.expirationTime<=q);if(q=i.unstable_now(),typeof Je=="function"){b.callback=Je,oe(q),ae=!0;break t}b===t(p)&&r(p),oe(q)}else r(p);b=t(p)}if(b!==null)ae=!0;else{var U=t(g);U!==null&&vt(re,U.startTime-q),ae=!1}}break e}finally{b=null,w=ye,D=!1}ae=void 0}}finally{ae?j():me=!1}}}var j;if(typeof X=="function")j=function(){X(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ke=N.port2;N.port1.onmessage=I,j=function(){Ke.postMessage(null)}}else j=function(){W(I,0)};function vt(q,ae){x=W(function(){q(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(q){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ye=w;w=ae;try{return q()}finally{w=ye}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(q,ae){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ye=w;w=q;try{return ae()}finally{w=ye}},i.unstable_scheduleCallback=function(q,ae,ye){var He=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?He+ye:He):ye=He,q){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=ye+Je,q={id:_++,callback:ae,priorityLevel:q,startTime:ye,expirationTime:Je,sortIndex:-1},ye>He?(q.sortIndex=ye,e(g,q),t(p)===null&&q===t(g)&&(V?(se(x),x=-1):V=!0,vt(re,ye-He))):(q.sortIndex=Je,e(p,q),z||D||(z=!0,me||(me=!0,j()))),q},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(q){var ae=w;return function(){var ye=w;w=ae;try{return q.apply(this,arguments)}finally{w=ye}}}})($p)),$p}var X0;function hC(){return X0||(X0=1,Yp.exports=cC()),Yp.exports}var Xp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function fC(){if(W0)return un;W0=1;var i=oy();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},un.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):_==="script"&&r.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},un.requestFormReset=function(p){r.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.2.0",un}var J0;function dC(){if(J0)return Xp.exports;J0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xp.exports=fC(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function mC(){if(Z0)return Gu;Z0=1;var i=hC(),e=oy(),t=dC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),X=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Ke(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case W:return"Profiler";case L:return"StrictMode";case re:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case X:return n.displayName||"Context";case se:return(n._context.displayName||"Context")+".Consumer";case oe:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return s=n.displayName||null,s!==null?s:Ke(n.type)||"Memo";case S:s=n._payload,n=n._init;try{return Ke(n(s))}catch{}}return null}var vt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},He=[],Je=-1;function U(n){return{current:n}}function ne(n){0>Je||(n.current=He[Je],He[Je]=null,Je--)}function ue(n,s){Je++,He[Je]=n.current,n.current=s}var de=U(null),Ae=U(null),xe=U(null),Be=U(null);function Ft(n,s){switch(ue(xe,s),ue(Ae,n),ue(de,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?d0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=d0(s),n=m0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(de),ue(de,n)}function dt(){ne(de),ne(Ae),ne(xe)}function sa(n){n.memoizedState!==null&&ue(Be,n);var s=de.current,a=m0(s,n.type);s!==a&&(ue(Ae,n),ue(de,a))}function co(n){Ae.current===n&&(ne(de),ne(Ae)),Be.current===n&&(ne(Be),zu._currentValue=ye)}var ho,fo;function Ii(n){if(ho===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ho=s&&s[1]||"",fo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+n+fo}var zl=!1;function ra(n,s){if(!n||zl)return"";zl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var K=$}Reflect.construct(n,[],ee)}else{try{ee.call()}catch($){K=$}n.call(ee.prototype)}}else{try{throw Error()}catch($){K=$}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var M=v.split(`
`),G=T.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===G.length)for(l=M.length-1,f=G.length-1;1<=l&&0<=f&&M[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==G[f]){var J=`
`+M[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=f);break}}}finally{zl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ii(a):""}function Bl(n,s){switch(n.tag){case 26:case 27:case 5:return Ii(n.type);case 16:return Ii("Lazy");case 13:return n.child!==s&&s!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ra(n.type,!1);case 11:return ra(n.type.render,!1);case 1:return ra(n.type,!0);case 31:return Ii("Activity");default:return""}}function Fl(n){try{var s="",a=null;do s+=Bl(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,qt=i.unstable_scheduleCallback,Hs=i.unstable_cancelCallback,Qd=i.unstable_shouldYield,qc=i.unstable_requestPaint,mn=i.unstable_now,aa=i.unstable_getCurrentPriorityLevel,ql=i.unstable_ImmediatePriority,Hl=i.unstable_UserBlockingPriority,Gs=i.unstable_NormalPriority,Kd=i.unstable_LowPriority,Hc=i.unstable_IdlePriority,Gc=i.log,Qc=i.unstable_setDisableYieldValue,ai=null,Zt=null;function Hn(n){if(typeof Gc=="function"&&Qc(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ai,n)}catch{}}var wt=Math.clz32?Math.clz32:Yc,Kc=Math.log,mo=Math.LN2;function Yc(n){return n>>>=0,n===0?32:31-(Kc(n)/mo|0)|0}var Ni=256,oa=262144,Dt=4194304;function xi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Di(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=xi(l):(v&=T,v!==0?f=xi(v):a||(a=T&~n,a!==0&&(f=xi(a))))):(T=l&~d,T!==0?f=xi(T):v!==0?f=xi(v):a||(a=l&~n,a!==0&&(f=xi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function oi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Yd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var n=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),n}function Oi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function la(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $d(n,s,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,M=n.expirationTimes,G=n.hiddenUpdates;for(a=v&~a;0<a;){var J=31-wt(a),ee=1<<J;T[J]=0,M[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&ua(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~s))}function ua(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-wt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Gl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-wt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Ql(n,s){var a=s&-s;return a=(a&42)!==0?1:ca(a),(a&(n.suspendedLanes|s))!==0?0:a}function ca(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function cs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xc(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:V0(n.type))}function li(n,s){var a=ae.p;try{return ae.p=n,s()}finally{ae.p=a}}var ui=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ui,Yt="__reactProps$"+ui,Mi="__reactContainer$"+ui,po="__reactEvents$"+ui,Xd="__reactListeners$"+ui,Wc="__reactHandles$"+ui,Jc="__reactResources$"+ui,ki="__reactMarker$"+ui;function go(n){delete n[Ot],delete n[Yt],delete n[po],delete n[Xd],delete n[Wc]}function Li(n){var s=n[Ot];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Mi]||a[Ot]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=b0(n);n!==null;){if(a=n[Ot])return a;n=b0(n)}return s}n=a,a=n.parentNode}return null}function Gn(n){if(n=n[Ot]||n[Mi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function On(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Pi(n){var s=n[Jc];return s||(s=n[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(n){n[ki]=!0}var Kl=new Set,Yl={};function Vi(n,s){Ui(n,s),Ui(n+"Capture",s)}function Ui(n,s){for(Yl[n]=s,n=0;n<s.length;n++)Kl.add(s[n])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Wl={};function Zc(n){return xt.call(Wl,n)?!0:xt.call(Xl,n)?!1:$l.test(n)?Wl[n]=!0:(Xl[n]=!0,!1)}function yo(n,s,a){if(Zc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Mn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function kt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function $t(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=Qs(n)?"checked":"value";n._valueTracker=Jl(n,s,""+n[s])}}function ha(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Qs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function ji(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var fa=/[\n"\\]/g;function bn(n){return n.replace(fa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _o(n,s,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+$t(s)):n.value!==""+$t(s)&&(n.value=""+$t(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?Zl(n,v,$t(s)):a!=null?Zl(n,v,$t(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+$t(T):n.removeAttribute("name")}function eh(n,s,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Ze(n);return}a=a!=null?""+$t(a):"",s=s!=null?""+$t(s):a,T||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Ze(n)}function Zl(n,s,a){s==="number"&&ji(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ks(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+$t(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function th(n,s,a){if(s!=null&&(s=""+$t(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+$t(a):""}function Ys(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(vt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=$t(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Ze(n)}function Tn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||nh.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function tu(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&eu(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&eu(n,d,s[d])}function vo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(n){return $s.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ci(){}var nu=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xs=null,zi=null;function da(n){var s=Gn(n);if(s&&(n=s.stateNode)){var a=n[Yt]||null;e:switch(n=s.stateNode,s.type){case"input":if(_o(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Yt]||null;if(!f)throw Error(r(90));_o(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&ha(l)}break e;case"textarea":th(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ks(n,!!a.multiple,s,!1)}}}var bo=!1;function Ws(n,s,a){if(bo)return n(s,a);bo=!0;try{var l=n(s);return l}finally{if(bo=!1,(Xs!==null||zi!==null)&&(Xh(),Xs&&(s=Xs,n=zi,zi=Xs=null,da(s),n)))for(s=0;s<n.length;s++)da(n[s])}}function hi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Kn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ma=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ma=!1}var Bi=null,iu=null,pa=null;function su(){if(pa)return pa;var n,s=iu,a=s.length,l,f="value"in Bi?Bi.value:Bi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return pa=f.slice(n,1<l?1-l:void 0)}function ga(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function hs(){return!0}function fi(){return!1}function en(n){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:fi,this.isPropagationStopped=fi,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=en(fs),Js=b({},fs,{view:0,detail:0}),ru=en(Js),Zs,To,qi,So=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qi&&(qi&&n.type==="mousemove"?(Zs=n.screenX-qi.screenX,To=n.screenY-qi.screenY):To=Zs=0,qi=n),Zs)},movementY:function(n){return"movementY"in n?n.movementY:To}}),au=en(So),ya=b({},So,{dataTransfer:0}),sh=en(ya),rh=b({},Js,{relatedTarget:0}),_a=en(rh),ou=b({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=en(ou),Ao=b({},fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),oh=en(Ao),lh=b({},fs,{data:0}),Hi=en(lh),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=hh[n])?!!s[n]:!1}function er(){return fh}var pn=b({},Js,{key:function(n){if(n.key){var s=uh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ga(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ch[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?ga(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ga(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dh=en(pn),mh=b({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=en(mh),h=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),y=en(h),E=b({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(E),F=b({},So,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=en(F),le=b({},fs,{newState:0,oldState:0}),Ie=en(le),Rt=[9,13,27,32],Ye=Kn&&"CompositionEvent"in window,mt=null;Kn&&"documentMode"in document&&(mt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!mt,Gi=Kn&&(!Ye||mt&&8<mt&&11>=mt),di=" ",mi=!1;function va(n,s){switch(n){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ro=!1;function DR(n,s){switch(n){case"compositionend":return wo(s);case"keypress":return s.which!==32?null:(mi=!0,di);case"textInput":return n=s.data,n===di&&mi?null:n;default:return null}}function OR(n,s){if(Ro)return n==="compositionend"||!Ye&&va(n,s)?(n=su(),pa=iu=Bi=null,Ro=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var MR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!MR[n.type]:s==="textarea"}function w_(n,s,a,l){Xs?zi?zi.push(l):zi=[l]:Xs=l,s=sf(s,"onChange"),0<s.length&&(a=new Fi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var lu=null,uu=null;function kR(n){o0(n,0)}function ph(n){var s=On(n);if(ha(s))return n}function R_(n,s){if(n==="change")return s}var C_=!1;if(Kn){var Wd;if(Kn){var Jd="oninput"in document;if(!Jd){var I_=document.createElement("div");I_.setAttribute("oninput","return;"),Jd=typeof I_.oninput=="function"}Wd=Jd}else Wd=!1;C_=Wd&&(!document.documentMode||9<document.documentMode)}function N_(){lu&&(lu.detachEvent("onpropertychange",x_),uu=lu=null)}function x_(n){if(n.propertyName==="value"&&ph(uu)){var s=[];w_(s,uu,n,Qn(n)),Ws(kR,s)}}function LR(n,s,a){n==="focusin"?(N_(),lu=s,uu=a,lu.attachEvent("onpropertychange",x_)):n==="focusout"&&N_()}function PR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ph(uu)}function VR(n,s){if(n==="click")return ph(s)}function UR(n,s){if(n==="input"||n==="change")return ph(s)}function jR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var kn=typeof Object.is=="function"?Object.is:jR;function cu(n,s){if(kn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xt.call(s,f)||!kn(n[f],s[f]))return!1}return!0}function D_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function O_(n,s){var a=D_(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=D_(a)}}function M_(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?M_(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function k_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ji(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ji(n.document)}return s}function Zd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var zR=Kn&&"documentMode"in document&&11>=document.documentMode,Co=null,em=null,hu=null,tm=!1;function L_(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tm||Co==null||Co!==ji(l)||(l=Co,"selectionStart"in l&&Zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hu&&cu(hu,l)||(hu=l,l=sf(em,"onSelect"),0<l.length&&(s=new Fi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Co)))}function Ea(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Io={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},nm={},P_={};Kn&&(P_=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function ba(n){if(nm[n])return nm[n];if(!Io[n])return n;var s=Io[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in P_)return nm[n]=s[a];return n}var V_=ba("animationend"),U_=ba("animationiteration"),j_=ba("animationstart"),BR=ba("transitionrun"),FR=ba("transitionstart"),qR=ba("transitioncancel"),z_=ba("transitionend"),B_=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");im.push("scrollEnd");function pi(n,s){B_.set(n,s),Vi(s,[n])}var gh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},$n=[],No=0,sm=0;function yh(){for(var n=No,s=sm=No=0;s<n;){var a=$n[s];$n[s++]=null;var l=$n[s];$n[s++]=null;var f=$n[s];$n[s++]=null;var d=$n[s];if($n[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&F_(a,f,d)}}function _h(n,s,a,l){$n[No++]=n,$n[No++]=s,$n[No++]=a,$n[No++]=l,sm|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function rm(n,s,a,l){return _h(n,s,a,l),vh(n)}function Ta(n,s){return _h(n,null,null,s),vh(n)}function F_(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-wt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function vh(n){if(50<Mu)throw Mu=0,mp=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var xo={};function HR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(n,s,a,l){return new HR(n,s,a,l)}function am(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ms(n,s){var a=n.alternate;return a===null?(a=Ln(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function q_(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Eh(n,s,a,l,f,d){var v=0;if(l=n,typeof n=="function")am(n)&&(v=1);else if(typeof n=="string")v=$1(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Ln(31,a,s,f),n.elementType=R,n.lanes=d,n;case V:return Sa(a.children,f,d,s);case L:v=8,f|=24;break;case W:return n=Ln(12,a,s,f|2),n.elementType=W,n.lanes=d,n;case re:return n=Ln(13,a,s,f),n.elementType=re,n.lanes=d,n;case me:return n=Ln(19,a,s,f),n.elementType=me,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:v=10;break e;case se:v=9;break e;case oe:v=11;break e;case x:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Ln(v,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function Sa(n,s,a,l){return n=Ln(7,n,l,s),n.lanes=a,n}function om(n,s,a){return n=Ln(6,n,null,s),n.lanes=a,n}function H_(n){var s=Ln(18,null,null,0);return s.stateNode=n,s}function lm(n,s,a){return s=Ln(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var G_=new WeakMap;function Xn(n,s){if(typeof n=="object"&&n!==null){var a=G_.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Fl(s)},G_.set(n,s),s)}return{value:n,source:s,stack:Fl(s)}}var Do=[],Oo=0,bh=null,fu=0,Wn=[],Jn=0,tr=null,Qi=1,Ki="";function ps(n,s){Do[Oo++]=fu,Do[Oo++]=bh,bh=n,fu=s}function Q_(n,s,a){Wn[Jn++]=Qi,Wn[Jn++]=Ki,Wn[Jn++]=tr,tr=n;var l=Qi;n=Ki;var f=32-wt(l)-1;l&=~(1<<f),a+=1;var d=32-wt(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Qi=1<<32-wt(s)+f|a<<f|l,Ki=d+n}else Qi=1<<d|a<<f|l,Ki=n}function um(n){n.return!==null&&(ps(n,1),Q_(n,1,0))}function cm(n){for(;n===bh;)bh=Do[--Oo],Do[Oo]=null,fu=Do[--Oo],Do[Oo]=null;for(;n===tr;)tr=Wn[--Jn],Wn[Jn]=null,Ki=Wn[--Jn],Wn[Jn]=null,Qi=Wn[--Jn],Wn[Jn]=null}function K_(n,s){Wn[Jn++]=Qi,Wn[Jn++]=Ki,Wn[Jn++]=tr,Qi=s.id,Ki=s.overflow,tr=n}var tn=null,ut=null,je=!1,nr=null,Zn=!1,hm=Error(r(519));function ir(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(Xn(s,n)),hm}function Y_(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ot]=n,s[Yt]=l,a){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(a=0;a<Lu.length;a++)ke(Lu[a],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),eh(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Ys(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||h0(s.textContent,a)?(l.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),l.onScroll!=null&&ke("scroll",s),l.onScrollEnd!=null&&ke("scrollend",s),l.onClick!=null&&(s.onclick=ci),s=!0):s=!1,s||ir(n,!0)}function $_(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:tn=tn.return}}function Mo(n){if(n!==tn)return!1;if(!je)return $_(n),je=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Np(n.type,n.memoizedProps)),a=!a),a&&ut&&ir(n),$_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=E0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=E0(n)}else s===27?(s=ut,yr(n.type)?(n=kp,kp=null,ut=n):ut=s):ut=tn?ti(n.stateNode.nextSibling):null;return!0}function Aa(){ut=tn=null,je=!1}function fm(){var n=nr;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),nr=null),n}function du(n){nr===null?nr=[n]:nr.push(n)}var dm=U(null),wa=null,gs=null;function sr(n,s,a){ue(dm,s._currentValue),s._currentValue=a}function ys(n){n._currentValue=dm.current,ne(dm)}function mm(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function pm(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var M=0;M<s.length;M++)if(T.context===s[M]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),mm(d.return,a,n),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),mm(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ko(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=f.type;kn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===Be.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(zu):n=[zu])}f=f.return}n!==null&&pm(s,n,a,l),s.flags|=262144}function Th(n){for(n=n.firstContext;n!==null;){if(!kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ra(n){wa=n,gs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return X_(wa,n)}function Sh(n,s){return wa===null&&Ra(n),X_(n,s)}function X_(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},gs===null){if(n===null)throw Error(r(308));gs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else gs=gs.next=s;return a}var GR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},QR=i.unstable_scheduleCallback,KR=i.unstable_NormalPriority,Lt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gm(){return{controller:new GR,data:new Map,refCount:0}}function mu(n){n.refCount--,n.refCount===0&&QR(KR,function(){n.controller.abort()})}var pu=null,ym=0,Lo=0,Po=null;function YR(n,s){if(pu===null){var a=pu=[];ym=0,Lo=Ep(),Po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ym++,s.then(W_,W_),s}function W_(){if(--ym===0&&pu!==null){Po!==null&&(Po.status="fulfilled");var n=pu;pu=null,Lo=0,Po=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function $R(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var J_=q.S;q.S=function(n,s){LE=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&YR(n,s),J_!==null&&J_(n,s)};var Ca=U(null);function _m(){var n=Ca.current;return n!==null?n:at.pooledCache}function Ah(n,s){s===null?ue(Ca,Ca.current):ue(Ca,s.pool)}function Z_(){var n=_m();return n===null?null:{parent:Lt._currentValue,pool:n}}var Vo=Error(r(460)),vm=Error(r(474)),wh=Error(r(542)),Rh={then:function(){}};function ev(n){return n=n.status,n==="fulfilled"||n==="rejected"}function tv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ci,ci),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,iv(n),n;default:if(typeof s.status=="string")s.then(ci,ci);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,iv(n),n}throw Na=s,Vo}}function Ia(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Na=a,Vo):a}}var Na=null;function nv(){if(Na===null)throw Error(r(459));var n=Na;return Na=null,n}function iv(n){if(n===Vo||n===wh)throw Error(r(483))}var Uo=null,gu=0;function Ch(n){var s=gu;return gu+=1,Uo===null&&(Uo=[]),tv(Uo,n,s)}function yu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ih(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function sv(n){function s(B,P){if(n){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function a(B,P){if(!n)return null;for(;P!==null;)s(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=ms(B,P),B.index=0,B.sibling=null,B}function d(B,P,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function v(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function T(B,P,H,Z){return P===null||P.tag!==6?(P=om(H,B.mode,Z),P.return=B,P):(P=f(P,H),P.return=B,P)}function M(B,P,H,Z){var ve=H.type;return ve===V?J(B,P,H.props.children,Z,H.key):P!==null&&(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Ia(ve)===P.type)?(P=f(P,H.props),yu(P,H),P.return=B,P):(P=Eh(H.type,H.key,H.props,null,B.mode,Z),yu(P,H),P.return=B,P)}function G(B,P,H,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=lm(H,B.mode,Z),P.return=B,P):(P=f(P,H.children||[]),P.return=B,P)}function J(B,P,H,Z,ve){return P===null||P.tag!==7?(P=Sa(H,B.mode,Z,ve),P.return=B,P):(P=f(P,H),P.return=B,P)}function ee(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=om(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return H=Eh(P.type,P.key,P.props,null,B.mode,H),yu(H,P),H.return=B,H;case z:return P=lm(P,B.mode,H),P.return=B,P;case S:return P=Ia(P),ee(B,P,H)}if(vt(P)||j(P))return P=Sa(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return ee(B,Ch(P),H);if(P.$$typeof===X)return ee(B,Sh(B,P),H);Ih(B,P)}return null}function K(B,P,H,Z){var ve=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:T(B,P,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===ve?M(B,P,H,Z):null;case z:return H.key===ve?G(B,P,H,Z):null;case S:return H=Ia(H),K(B,P,H,Z)}if(vt(H)||j(H))return ve!==null?null:J(B,P,H,Z,null);if(typeof H.then=="function")return K(B,P,Ch(H),Z);if(H.$$typeof===X)return K(B,P,Sh(B,H),Z);Ih(B,H)}return null}function $(B,P,H,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(H)||null,T(P,B,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return B=B.get(Z.key===null?H:Z.key)||null,M(P,B,Z,ve);case z:return B=B.get(Z.key===null?H:Z.key)||null,G(P,B,Z,ve);case S:return Z=Ia(Z),$(B,P,H,Z,ve)}if(vt(Z)||j(Z))return B=B.get(H)||null,J(P,B,Z,ve,null);if(typeof Z.then=="function")return $(B,P,H,Ch(Z),ve);if(Z.$$typeof===X)return $(B,P,H,Sh(P,Z),ve);Ih(P,Z)}return null}function pe(B,P,H,Z){for(var ve=null,Ge=null,ge=P,De=P=0,Pe=null;ge!==null&&De<H.length;De++){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var Qe=K(B,ge,H[De],Z);if(Qe===null){ge===null&&(ge=Pe);break}n&&ge&&Qe.alternate===null&&s(B,ge),P=d(Qe,P,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe,ge=Pe}if(De===H.length)return a(B,ge),je&&ps(B,De),ve;if(ge===null){for(;De<H.length;De++)ge=ee(B,H[De],Z),ge!==null&&(P=d(ge,P,De),Ge===null?ve=ge:Ge.sibling=ge,Ge=ge);return je&&ps(B,De),ve}for(ge=l(ge);De<H.length;De++)Pe=$(ge,B,De,H[De],Z),Pe!==null&&(n&&Pe.alternate!==null&&ge.delete(Pe.key===null?De:Pe.key),P=d(Pe,P,De),Ge===null?ve=Pe:Ge.sibling=Pe,Ge=Pe);return n&&ge.forEach(function(Tr){return s(B,Tr)}),je&&ps(B,De),ve}function be(B,P,H,Z){if(H==null)throw Error(r(151));for(var ve=null,Ge=null,ge=P,De=P=0,Pe=null,Qe=H.next();ge!==null&&!Qe.done;De++,Qe=H.next()){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var Tr=K(B,ge,Qe.value,Z);if(Tr===null){ge===null&&(ge=Pe);break}n&&ge&&Tr.alternate===null&&s(B,ge),P=d(Tr,P,De),Ge===null?ve=Tr:Ge.sibling=Tr,Ge=Tr,ge=Pe}if(Qe.done)return a(B,ge),je&&ps(B,De),ve;if(ge===null){for(;!Qe.done;De++,Qe=H.next())Qe=ee(B,Qe.value,Z),Qe!==null&&(P=d(Qe,P,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return je&&ps(B,De),ve}for(ge=l(ge);!Qe.done;De++,Qe=H.next())Qe=$(ge,B,De,Qe.value,Z),Qe!==null&&(n&&Qe.alternate!==null&&ge.delete(Qe.key===null?De:Qe.key),P=d(Qe,P,De),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return n&&ge.forEach(function(aC){return s(B,aC)}),je&&ps(B,De),ve}function rt(B,P,H,Z){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var ve=H.key;P!==null;){if(P.key===ve){if(ve=H.type,ve===V){if(P.tag===7){a(B,P.sibling),Z=f(P,H.props.children),Z.return=B,B=Z;break e}}else if(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Ia(ve)===P.type){a(B,P.sibling),Z=f(P,H.props),yu(Z,H),Z.return=B,B=Z;break e}a(B,P);break}else s(B,P);P=P.sibling}H.type===V?(Z=Sa(H.props.children,B.mode,Z,H.key),Z.return=B,B=Z):(Z=Eh(H.type,H.key,H.props,null,B.mode,Z),yu(Z,H),Z.return=B,B=Z)}return v(B);case z:e:{for(ve=H.key;P!==null;){if(P.key===ve)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(B,P.sibling),Z=f(P,H.children||[]),Z.return=B,B=Z;break e}else{a(B,P);break}else s(B,P);P=P.sibling}Z=lm(H,B.mode,Z),Z.return=B,B=Z}return v(B);case S:return H=Ia(H),rt(B,P,H,Z)}if(vt(H))return pe(B,P,H,Z);if(j(H)){if(ve=j(H),typeof ve!="function")throw Error(r(150));return H=ve.call(H),be(B,P,H,Z)}if(typeof H.then=="function")return rt(B,P,Ch(H),Z);if(H.$$typeof===X)return rt(B,P,Sh(B,H),Z);Ih(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(B,P.sibling),Z=f(P,H),Z.return=B,B=Z):(a(B,P),Z=om(H,B.mode,Z),Z.return=B,B=Z),v(B)):a(B,P)}return function(B,P,H,Z){try{gu=0;var ve=rt(B,P,H,Z);return Uo=null,ve}catch(ge){if(ge===Vo||ge===wh)throw ge;var Ge=Ln(29,ge,null,B.mode);return Ge.lanes=Z,Ge.return=B,Ge}finally{}}}var xa=sv(!0),rv=sv(!1),rr=!1;function Em(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ar(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function or(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=vh(n),F_(n,null,a),s}return _h(n,l,s,a),vh(n)}function _u(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Gl(n,a)}}function Tm(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Sm=!1;function vu(){if(Sm){var n=Po;if(n!==null)throw n}}function Eu(n,s,a,l){Sm=!1;var f=n.updateQueue;rr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var M=T,G=M.next;M.next=null,v===null?d=G:v.next=G,v=M;var J=n.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==v&&(T===null?J.firstBaseUpdate=G:T.next=G,J.lastBaseUpdate=M))}if(d!==null){var ee=f.baseState;v=0,J=G=M=null,T=d;do{var K=T.lane&-536870913,$=K!==T.lane;if($?(Le&K)===K:(l&K)===K){K!==0&&K===Lo&&(Sm=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=n,be=T;K=s;var rt=a;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ee=pe.call(rt,ee,K);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,K=typeof pe=="function"?pe.call(rt,ee,K):pe,K==null)break e;ee=b({},ee,K);break e;case 2:rr=!0}}K=T.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(G=J=$,M=ee):J=J.next=$,v|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;$=T,T=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(M=ee),f.baseState=M,f.firstBaseUpdate=G,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),fr|=v,n.lanes=v,n.memoizedState=ee}}function av(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function ov(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)av(a[n],s)}var jo=U(null),Nh=U(0);function lv(n,s){n=Rs,ue(Nh,n),ue(jo,s),Rs=n|s.baseLanes}function Am(){ue(Nh,Rs),ue(jo,jo.current)}function wm(){Rs=Nh.current,ne(jo),ne(Nh)}var Pn=U(null),ei=null;function lr(n){var s=n.alternate;ue(Ct,Ct.current&1),ue(Pn,n),ei===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(ei=n)}function Rm(n){ue(Ct,Ct.current),ue(Pn,n),ei===null&&(ei=n)}function uv(n){n.tag===22?(ue(Ct,Ct.current),ue(Pn,n),ei===null&&(ei=n)):ur()}function ur(){ue(Ct,Ct.current),ue(Pn,Pn.current)}function Vn(n){ne(Pn),ei===n&&(ei=null),ne(Ct)}var Ct=U(0);function xh(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Op(a)||Mp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _s=0,Ne=null,it=null,Pt=null,Dh=!1,zo=!1,Da=!1,Oh=0,bu=0,Bo=null,XR=0;function Et(){throw Error(r(321))}function Cm(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!kn(n[a],s[a]))return!1;return!0}function Im(n,s,a,l,f,d){return _s=d,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=n===null||n.memoizedState===null?Qv:qm,Da=!1,d=a(l,f),Da=!1,zo&&(d=hv(s,a,l,f)),cv(n),d}function cv(n){q.H=Au;var s=it!==null&&it.next!==null;if(_s=0,Pt=it=Ne=null,Dh=!1,bu=0,Bo=null,s)throw Error(r(300));n===null||Vt||(n=n.dependencies,n!==null&&Th(n)&&(Vt=!0))}function hv(n,s,a,l){Ne=n;var f=0;do{if(zo&&(Bo=null),bu=0,zo=!1,25<=f)throw Error(r(301));if(f+=1,Pt=it=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Kv,d=s(a,l)}while(zo);return d}function WR(){var n=q.H,s=n.useState()[0];return s=typeof s.then=="function"?Tu(s):s,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(Ne.flags|=1024),s}function Nm(){var n=Oh!==0;return Oh=0,n}function xm(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Dm(n){if(Dh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Dh=!1}_s=0,Pt=it=Ne=null,zo=!1,bu=Oh=0,Bo=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ne.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function It(){if(it===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var s=Pt===null?Ne.memoizedState:Pt.next;if(s!==null)Pt=s,it=n;else{if(n===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?Ne.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(n){var s=bu;return bu+=1,Bo===null&&(Bo=[]),n=tv(Bo,n,s),s=Ne,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?Qv:qm),n}function kh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tu(n);if(n.$$typeof===X)return nn(n)}throw Error(r(438,String(n)))}function Om(n){var s=null,a=Ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Mh(),Ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=O;return s.index++,a}function vs(n,s){return typeof s=="function"?s(n):s}function Lh(n){var s=It();return Mm(s,it,n)}function Mm(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var T=v=null,M=null,G=s,J=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Le&ee)===ee:(_s&ee)===ee){var K=G.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Lo&&(J=!0);else if((_s&K)===K){G=G.next,K===Lo&&(J=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(T=M=ee,v=d):M=M.next=ee,Ne.lanes|=K,fr|=K;ee=G.action,Da&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else K={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(T=M=K,v=d):M=M.next=K,Ne.lanes|=ee,fr|=ee;G=G.next}while(G!==null&&G!==s);if(M===null?v=d:M.next=T,!kn(d,n.memoizedState)&&(Vt=!0,J&&(a=Po,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function km(n){var s=It(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);kn(d,s.memoizedState)||(Vt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function fv(n,s,a){var l=Ne,f=It(),d=je;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!kn((it||f).memoizedState,a);if(v&&(f.memoizedState=a,Vt=!0),f=f.queue,Vm(pv.bind(null,l,f,n),[n]),f.getSnapshot!==s||v||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Fo(9,{destroy:void 0},mv.bind(null,l,f,a,s),null),at===null)throw Error(r(349));d||(_s&127)!==0||dv(l,s,a)}return a}function dv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ne.updateQueue,s===null?(s=Mh(),Ne.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function mv(n,s,a,l){s.value=a,s.getSnapshot=l,gv(s)&&yv(n)}function pv(n,s,a){return a(function(){gv(s)&&yv(n)})}function gv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!kn(n,a)}catch{return!0}}function yv(n){var s=Ta(n,2);s!==null&&Cn(s,n,2)}function Lm(n){var s=gn();if(typeof n=="function"){var a=n;if(n=a(),Da){Hn(!0);try{a()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:n},s}function _v(n,s,a,l){return n.baseState=a,Mm(n,it,typeof l=="function"?l:vs)}function JR(n,s,a,l,f){if(Uh(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,vv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function vv(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=q.T,v={};q.T=v;try{var T=a(f,l),M=q.S;M!==null&&M(v,T),Ev(n,s,T)}catch(G){Pm(n,s,G)}finally{d!==null&&v.types!==null&&(d.types=v.types),q.T=d}}else try{d=a(f,l),Ev(n,s,d)}catch(G){Pm(n,s,G)}}function Ev(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bv(n,s,l)},function(l){return Pm(n,s,l)}):bv(n,s,a)}function bv(n,s,a){s.status="fulfilled",s.value=a,Tv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,vv(n,a)))}function Pm(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Tv(s),s=s.next;while(s!==l)}n.action=null}function Tv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Sv(n,s){return s}function Av(n,s){if(je){var a=at.formState;if(a!==null){e:{var l=Ne;if(je){if(ut){t:{for(var f=ut,d=Zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=ti(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=ti(f.nextSibling),l=f.data==="F!";break e}}ir(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sv,lastRenderedState:s},a.queue=l,a=qv.bind(null,Ne,l),l.dispatch=a,l=Lm(!1),d=Fm.bind(null,Ne,!1,l.queue),l=gn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=JR.bind(null,Ne,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function wv(n){var s=It();return Rv(s,it,n)}function Rv(n,s,a){if(s=Mm(n,s,Sv)[0],n=Lh(vs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Tu(s)}catch(v){throw v===Vo?wh:v}else l=s;s=It();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ne.flags|=2048,Fo(9,{destroy:void 0},ZR.bind(null,f,a),null)),[l,d,n]}function ZR(n,s){n.action=s}function Cv(n){var s=It(),a=it;if(a!==null)return Rv(s,a,n);It(),s=s.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Fo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Mh(),Ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Iv(){return It().memoizedState}function Ph(n,s,a,l){var f=gn();Ne.flags|=n,f.memoizedState=Fo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Vh(n,s,a,l){var f=It();l=l===void 0?null:l;var d=f.memoizedState.inst;it!==null&&l!==null&&Cm(l,it.memoizedState.deps)?f.memoizedState=Fo(s,d,a,l):(Ne.flags|=n,f.memoizedState=Fo(1|s,d,a,l))}function Nv(n,s){Ph(8390656,8,n,s)}function Vm(n,s){Vh(2048,8,n,s)}function e1(n){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=Mh(),Ne.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function xv(n){var s=It().memoizedState;return e1({ref:s,nextImpl:n}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Dv(n,s){return Vh(4,2,n,s)}function Ov(n,s){return Vh(4,4,n,s)}function Mv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function kv(n,s,a){a=a!=null?a.concat([n]):null,Vh(4,4,Mv.bind(null,s,n),a)}function Um(){}function Lv(n,s){var a=It();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Cm(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function Pv(n,s){var a=It();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Cm(s,l[1]))return l[0];if(l=n(),Da){Hn(!0);try{n()}finally{Hn(!1)}}return a.memoizedState=[l,s],l}function jm(n,s,a){return a===void 0||(_s&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=VE(),Ne.lanes|=n,fr|=n,a)}function Vv(n,s,a,l){return kn(a,s)?a:jo.current!==null?(n=jm(n,a,l),kn(n,s)||(Vt=!0),n):(_s&42)===0||(_s&1073741824)!==0&&(Le&261930)===0?(Vt=!0,n.memoizedState=a):(n=VE(),Ne.lanes|=n,fr|=n,s)}function Uv(n,s,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=q.T,T={};q.T=T,Fm(n,!1,s,a);try{var M=f(),G=q.S;if(G!==null&&G(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=$R(M,l);Su(n,s,J,zn(n))}else Su(n,s,l,zn(n))}catch(ee){Su(n,s,{then:function(){},status:"rejected",reason:ee},zn())}finally{ae.p=d,v!==null&&T.types!==null&&(v.types=T.types),q.T=v}}function t1(){}function zm(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=jv(n).queue;Uv(n,f,s,ye,a===null?t1:function(){return zv(n),a(l)})}function jv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function zv(n){var s=jv(n);s.next===null&&(s=n.alternate.memoizedState),Su(n,s.next.queue,{},zn())}function Bm(){return nn(zu)}function Bv(){return It().memoizedState}function Fv(){return It().memoizedState}function n1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=zn();n=ar(a);var l=or(s,n,a);l!==null&&(Cn(l,s,a),_u(l,s,a)),s={cache:gm()},n.payload=s;return}s=s.return}}function i1(n,s,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uh(n)?Hv(s,a):(a=rm(n,s,a,l),a!==null&&(Cn(a,n,l),Gv(a,s,l)))}function qv(n,s,a){var l=zn();Su(n,s,a,l)}function Su(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uh(n))Hv(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,kn(T,v))return _h(n,s,f,0),at===null&&yh(),!1}catch{}finally{}if(a=rm(n,s,f,l),a!==null)return Cn(a,n,l),Gv(a,s,l),!0}return!1}function Fm(n,s,a,l){if(l={lane:2,revertLane:Ep(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uh(n)){if(s)throw Error(r(479))}else s=rm(n,a,l,2),s!==null&&Cn(s,n,2)}function Uh(n){var s=n.alternate;return n===Ne||s!==null&&s===Ne}function Hv(n,s){zo=Dh=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Gv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Gl(n,a)}}var Au={readContext:nn,use:kh,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Au.useEffectEvent=Et;var Qv={readContext:nn,use:kh,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:nn,useEffect:Nv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Ph(4194308,4,Mv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Ph(4194308,4,n,s)},useInsertionEffect:function(n,s){Ph(4,2,n,s)},useMemo:function(n,s){var a=gn();s=s===void 0?null:s;var l=n();if(Da){Hn(!0);try{n()}finally{Hn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=gn();if(a!==void 0){var f=a(s);if(Da){Hn(!0);try{a(s)}finally{Hn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=i1.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:function(n){n=Lm(n);var s=n.queue,a=qv.bind(null,Ne,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Um,useDeferredValue:function(n,s){var a=gn();return jm(a,n,s)},useTransition:function(){var n=Lm(!1);return n=Uv.bind(null,Ne,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ne,f=gn();if(je){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),at===null)throw Error(r(349));(Le&127)!==0||dv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Nv(pv.bind(null,l,d,n),[n]),l.flags|=2048,Fo(9,{destroy:void 0},mv.bind(null,l,d,a,s),null),a},useId:function(){var n=gn(),s=at.identifierPrefix;if(je){var a=Ki,l=Qi;a=(l&~(1<<32-wt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Oh++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=XR++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Bm,useFormState:Av,useActionState:Av,useOptimistic:function(n){var s=gn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Fm.bind(null,Ne,!0,a),a.dispatch=s,[n,s]},useMemoCache:Om,useCacheRefresh:function(){return gn().memoizedState=n1.bind(null,Ne)},useEffectEvent:function(n){var s=gn(),a={impl:n};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qm={readContext:nn,use:kh,useCallback:Lv,useContext:nn,useEffect:Vm,useImperativeHandle:kv,useInsertionEffect:Dv,useLayoutEffect:Ov,useMemo:Pv,useReducer:Lh,useRef:Iv,useState:function(){return Lh(vs)},useDebugValue:Um,useDeferredValue:function(n,s){var a=It();return Vv(a,it.memoizedState,n,s)},useTransition:function(){var n=Lh(vs)[0],s=It().memoizedState;return[typeof n=="boolean"?n:Tu(n),s]},useSyncExternalStore:fv,useId:Bv,useHostTransitionStatus:Bm,useFormState:wv,useActionState:wv,useOptimistic:function(n,s){var a=It();return _v(a,it,n,s)},useMemoCache:Om,useCacheRefresh:Fv};qm.useEffectEvent=xv;var Kv={readContext:nn,use:kh,useCallback:Lv,useContext:nn,useEffect:Vm,useImperativeHandle:kv,useInsertionEffect:Dv,useLayoutEffect:Ov,useMemo:Pv,useReducer:km,useRef:Iv,useState:function(){return km(vs)},useDebugValue:Um,useDeferredValue:function(n,s){var a=It();return it===null?jm(a,n,s):Vv(a,it.memoizedState,n,s)},useTransition:function(){var n=km(vs)[0],s=It().memoizedState;return[typeof n=="boolean"?n:Tu(n),s]},useSyncExternalStore:fv,useId:Bv,useHostTransitionStatus:Bm,useFormState:Cv,useActionState:Cv,useOptimistic:function(n,s){var a=It();return it!==null?_v(a,it,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Om,useCacheRefresh:Fv};Kv.useEffectEvent=xv;function Hm(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Gm={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=zn(),f=ar(l);f.payload=s,a!=null&&(f.callback=a),s=or(n,f,l),s!==null&&(Cn(s,n,l),_u(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=zn(),f=ar(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=or(n,f,l),s!==null&&(Cn(s,n,l),_u(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=zn(),l=ar(a);l.tag=2,s!=null&&(l.callback=s),s=or(n,l,a),s!==null&&(Cn(s,n,a),_u(s,n,a))}};function Yv(n,s,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!cu(a,l)||!cu(f,d):!0}function $v(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Gm.enqueueReplaceState(s,s.state,null)}function Oa(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=b({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Xv(n){gh(n)}function Wv(n){console.error(n)}function Jv(n){gh(n)}function jh(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Zv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qm(n,s,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){jh(n,s)},a}function eE(n){return n=ar(n),n.tag=3,n}function tE(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Zv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Zv(s,a,l),typeof f!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function s1(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ko(s,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ei===null?Wh():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Rh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),yp(n,l,f)),!1;case 22:return a.flags|=65536,l===Rh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),yp(n,l,f)),!1}throw Error(r(435,a.tag))}return yp(n,l,f),Wh(),!1}if(je)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==hm&&(n=Error(r(422),{cause:l}),du(Xn(n,a)))):(l!==hm&&(s=Error(r(423),{cause:l}),du(Xn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Xn(l,a),f=Qm(n.stateNode,l,f),Tm(n,f),bt!==4&&(bt=2)),!1;var d=Error(r(520),{cause:l});if(d=Xn(d,a),Ou===null?Ou=[d]:Ou.push(d),bt!==4&&(bt=2),s===null)return!0;l=Xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Qm(a.stateNode,l,n),Tm(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=eE(f),tE(f,n,a,l),Tm(a,f),!1}a=a.return}while(a!==null);return!1}var Km=Error(r(461)),Vt=!1;function sn(n,s,a,l){s.child=n===null?rv(s,null,a,l):xa(s,n.child,a,l)}function nE(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ra(s),l=Im(n,s,a,v,d,f),T=Nm(),n!==null&&!Vt?(xm(n,s,f),Es(n,s,f)):(je&&T&&um(s),s.flags|=1,sn(n,s,l,f),s.child)}function iE(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!am(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,sE(n,s,d,l,f)):(n=Eh(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!tp(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:cu,a(v,l)&&n.ref===s.ref)return Es(n,s,f)}return s.flags|=1,n=ms(d,l),n.ref=s.ref,n.return=s,s.child=n}function sE(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(cu(d,l)&&n.ref===s.ref)if(Vt=!1,s.pendingProps=l=d,tp(n,f))(n.flags&131072)!==0&&(Vt=!0);else return s.lanes=n.lanes,Es(n,s,f)}return Ym(n,s,a,l,f)}function rE(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return aE(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ah(s,d!==null?d.cachePool:null),d!==null?lv(s,d):Am(),uv(s);else return l=s.lanes=536870912,aE(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ah(s,d.cachePool),lv(s,d),ur(),s.memoizedState=null):(n!==null&&Ah(s,null),Am(),ur());return sn(n,s,f,a),s.child}function wu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function aE(n,s,a,l,f){var d=_m();return d=d===null?null:{parent:Lt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Ah(s,null),Am(),uv(s),n!==null&&ko(n,s,l,!0),s.childLanes=f,null}function zh(n,s){return s=Fh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function oE(n,s,a){return xa(s,n.child,null,a),n=zh(s,s.pendingProps),n.flags|=2,Vn(s),s.memoizedState=null,n}function r1(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(je){if(l.mode==="hidden")return n=zh(s,l),s.lanes=536870912,wu(null,n);if(Rm(s),(n=ut)?(n=v0(n,Zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:tr!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=H_(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw ir(s);return s.lanes=536870912,null}return zh(s,l)}var d=n.memoizedState;if(d!==null){var v=d.dehydrated;if(Rm(s),f)if(s.flags&256)s.flags&=-257,s=oE(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Vt||ko(n,s,a,!1),f=(a&n.childLanes)!==0,Vt||f){if(l=at,l!==null&&(v=Ql(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ta(n,v),Cn(l,n,v),Km;Wh(),s=oE(n,s,a)}else n=d.treeContext,ut=ti(v.nextSibling),tn=s,je=!0,nr=null,Zn=!1,n!==null&&K_(s,n),s=zh(s,l),s.flags|=4096;return s}return n=ms(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Bh(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Ym(n,s,a,l,f){return Ra(s),a=Im(n,s,a,l,void 0,f),l=Nm(),n!==null&&!Vt?(xm(n,s,f),Es(n,s,f)):(je&&l&&um(s),s.flags|=1,sn(n,s,a,f),s.child)}function lE(n,s,a,l,f,d){return Ra(s),s.updateQueue=null,a=hv(s,l,a,f),cv(n),l=Nm(),n!==null&&!Vt?(xm(n,s,d),Es(n,s,d)):(je&&l&&um(s),s.flags|=1,sn(n,s,a,d),s.child)}function uE(n,s,a,l,f){if(Ra(s),s.stateNode===null){var d=xo,v=a.contextType;typeof v=="object"&&v!==null&&(d=nn(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Em(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?nn(v):xo,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Hm(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Gm.enqueueReplaceState(d,d.state,null),Eu(s,l,d,f),vu(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var T=s.memoizedProps,M=Oa(a,T);d.props=M;var G=d.context,J=a.contextType;v=xo,typeof J=="object"&&J!==null&&(v=nn(J));var ee=a.getDerivedStateFromProps;J=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==v)&&$v(s,d,l,v),rr=!1;var K=s.memoizedState;d.state=K,Eu(s,l,d,f),vu(),G=s.memoizedState,T||K!==G||rr?(typeof ee=="function"&&(Hm(s,a,ee,l),G=s.memoizedState),(M=rr||Yv(s,a,M,l,K,G,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),d.props=l,d.state=G,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,bm(n,s),v=s.memoizedProps,J=Oa(a,v),d.props=J,ee=s.pendingProps,K=d.context,G=a.contextType,M=xo,typeof G=="object"&&G!==null&&(M=nn(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||K!==M)&&$v(s,d,l,M),rr=!1,K=s.memoizedState,d.state=K,Eu(s,l,d,f),vu();var $=s.memoizedState;v!==ee||K!==$||rr||n!==null&&n.dependencies!==null&&Th(n.dependencies)?(typeof T=="function"&&(Hm(s,a,T,l),$=s.memoizedState),(J=rr||Yv(s,a,J,l,K,$,M)||n!==null&&n.dependencies!==null&&Th(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=$),d.props=l,d.state=$,d.context=M,l=J):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Bh(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=xa(s,n.child,null,f),s.child=xa(s,null,a,f)):sn(n,s,a,f),s.memoizedState=d.state,n=s.child):n=Es(n,s,f),n}function cE(n,s,a,l){return Aa(),s.flags|=256,sn(n,s,a,l),s.child}var $m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xm(n){return{baseLanes:n,cachePool:Z_()}}function Wm(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=jn),n}function hE(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(je){if(f?lr(s):ur(),(n=ut)?(n=v0(n,Zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:tr!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=H_(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw ir(s);return Mp(n)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(ur(),f=s.mode,T=Fh({mode:"hidden",children:T},f),l=Sa(l,f,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=Xm(a),l.childLanes=Wm(n,v,a),s.memoizedState=$m,wu(null,l)):(lr(s),Jm(s,T))}var M=n.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(d)s.flags&256?(lr(s),s.flags&=-257,s=Zm(n,s,a)):s.memoizedState!==null?(ur(),s.child=n.child,s.flags|=128,s=null):(ur(),T=l.fallback,f=s.mode,l=Fh({mode:"visible",children:l.children},f),T=Sa(T,f,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,xa(s,n.child,null,a),l=s.child,l.memoizedState=Xm(a),l.childLanes=Wm(n,v,a),s.memoizedState=$m,s=wu(null,l));else if(lr(s),Mp(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(r(419)),l.stack="",l.digest=v,du({value:l,source:null,stack:null}),s=Zm(n,s,a)}else if(Vt||ko(n,s,a,!1),v=(a&n.childLanes)!==0,Vt||v){if(v=at,v!==null&&(l=Ql(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Ta(n,l),Cn(v,n,l),Km;Op(T)||Wh(),s=Zm(n,s,a)}else Op(T)?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,ut=ti(T.nextSibling),tn=s,je=!0,nr=null,Zn=!1,n!==null&&K_(s,n),s=Jm(s,l.children),s.flags|=4096);return s}return f?(ur(),T=l.fallback,f=s.mode,M=n.child,G=M.sibling,l=ms(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?T=ms(G,T):(T=Sa(T,f,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,wu(null,l),l=s.child,T=n.child.memoizedState,T===null?T=Xm(a):(f=T.cachePool,f!==null?(M=Lt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Z_(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Wm(n,v,a),s.memoizedState=$m,wu(n.child,l)):(lr(s),a=n.child,n=a.sibling,a=ms(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function Jm(n,s){return s=Fh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Fh(n,s){return n=Ln(22,n,null,s),n.lanes=0,n}function Zm(n,s,a){return xa(s,n.child,null,a),n=Jm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function fE(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),mm(n.return,s,a)}function ep(n,s,a,l,f,d){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function dE(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Ct.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,ue(Ct,v),sn(n,s,l,a),l=je?fu:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&fE(n,a,s);else if(n.tag===19)fE(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&xh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ep(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&xh(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}ep(s,!0,a,null,d,l);break;case"together":ep(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Es(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),fr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(ko(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ms(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ms(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function tp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Th(n)))}function a1(n,s,a){switch(s.tag){case 3:Ft(s,s.stateNode.containerInfo),sr(s,Lt,n.memoizedState.cache),Aa();break;case 27:case 5:sa(s);break;case 4:Ft(s,s.stateNode.containerInfo);break;case 10:sr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rm(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?hE(n,s,a):(lr(s),n=Es(n,s,a),n!==null?n.sibling:null);lr(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ko(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return dE(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Ct,Ct.current),l)break;return null;case 22:return s.lanes=0,rE(n,s,a,s.pendingProps);case 24:sr(s,Lt,n.memoizedState.cache)}return Es(n,s,a)}function mE(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Vt=!0;else{if(!tp(n,a)&&(s.flags&128)===0)return Vt=!1,a1(n,s,a);Vt=(n.flags&131072)!==0}else Vt=!1,je&&(s.flags&1048576)!==0&&Q_(s,fu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=Ia(s.elementType),s.type=n,typeof n=="function")am(n)?(l=Oa(n,l),s.tag=1,s=uE(null,s,n,l,a)):(s.tag=0,s=Ym(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===oe){s.tag=11,s=nE(null,s,n,l,a);break e}else if(f===x){s.tag=14,s=iE(null,s,n,l,a);break e}}throw s=Ke(n)||n,Error(r(306,s,""))}}return s;case 0:return Ym(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Oa(l,s.pendingProps),uE(n,s,l,f,a);case 3:e:{if(Ft(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,bm(n,s),Eu(s,l,null,a);var v=s.memoizedState;if(l=v.cache,sr(s,Lt,l),l!==d.cache&&pm(s,[Lt],a,!0),vu(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=cE(n,s,l,a);break e}else if(l!==f){f=Xn(Error(r(424)),s),du(f),s=cE(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=ti(n.firstChild),tn=s,je=!0,nr=null,Zn=!0,a=rv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Aa(),l===f){s=Es(n,s,a);break e}sn(n,s,l,a)}s=s.child}return s;case 26:return Bh(n,s),n===null?(a=w0(s.type,null,s.pendingProps,null))?s.memoizedState=a:je||(a=s.type,n=s.pendingProps,l=rf(xe.current).createElement(a),l[Ot]=s,l[Yt]=n,rn(l,a,n),Mt(l),s.stateNode=l):s.memoizedState=w0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return sa(s),n===null&&je&&(l=s.stateNode=T0(s.type,s.pendingProps,xe.current),tn=s,Zn=!0,f=ut,yr(s.type)?(kp=f,ut=ti(l.firstChild)):ut=f),sn(n,s,s.pendingProps.children,a),Bh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&je&&((f=l=ut)&&(l=P1(l,s.type,s.pendingProps,Zn),l!==null?(s.stateNode=l,tn=s,ut=ti(l.firstChild),Zn=!1,f=!0):f=!1),f||ir(s)),sa(s),f=s.type,d=s.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Np(f,d)?l=null:v!==null&&Np(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Im(n,s,WR,null,null,a),zu._currentValue=f),Bh(n,s),sn(n,s,l,a),s.child;case 6:return n===null&&je&&((n=a=ut)&&(a=V1(a,s.pendingProps,Zn),a!==null?(s.stateNode=a,tn=s,ut=null,n=!0):n=!1),n||ir(s)),null;case 13:return hE(n,s,a);case 4:return Ft(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=xa(s,null,l,a):sn(n,s,l,a),s.child;case 11:return nE(n,s,s.type,s.pendingProps,a);case 7:return sn(n,s,s.pendingProps,a),s.child;case 8:return sn(n,s,s.pendingProps.children,a),s.child;case 12:return sn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,sr(s,s.type,l.value),sn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ra(s),f=nn(f),l=l(f),s.flags|=1,sn(n,s,l,a),s.child;case 14:return iE(n,s,s.type,s.pendingProps,a);case 15:return sE(n,s,s.type,s.pendingProps,a);case 19:return dE(n,s,a);case 31:return r1(n,s,a);case 22:return rE(n,s,a,s.pendingProps);case 24:return Ra(s),l=nn(Lt),n===null?(f=_m(),f===null&&(f=at,d=gm(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Em(s),sr(s,Lt,f)):((n.lanes&a)!==0&&(bm(n,s),Eu(s,null,null,a),vu()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),sr(s,Lt,l)):(l=d.cache,sr(s,Lt,l),l!==f.cache&&pm(s,[Lt],a,!0))),sn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function bs(n){n.flags|=4}function np(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(BE())n.flags|=8192;else throw Na=Rh,vm}else n.flags&=-16777217}function pE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!x0(s))if(BE())n.flags|=8192;else throw Na=Rh,vm}function qh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?$c():536870912,n.lanes|=s,Qo|=s)}function Ru(n,s){if(!je)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function o1(n,s,a){var l=s.pendingProps;switch(cm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ys(Lt),dt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Mo(s)?bs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fm())),ct(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(bs(s),d!==null?(ct(s),pE(s,d)):(ct(s),np(s,f,null,l,a))):d?d!==n.memoizedState?(bs(s),ct(s),pE(s,d)):(ct(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&bs(s),ct(s),np(s,f,n,l,a)),null;case 27:if(co(s),a=xe.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&bs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ct(s),null}n=de.current,Mo(s)?Y_(s):(n=T0(f,l,a),s.stateNode=n,bs(s))}return ct(s),null;case 5:if(co(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&bs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(d=de.current,Mo(s))Y_(s);else{var v=rf(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Ot]=s,d[Yt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(rn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bs(s)}}return ct(s),np(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&bs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=xe.current,Mo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ot]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||h0(n.nodeValue,a)),n||ir(s,!0)}else n=rf(n).createTextNode(l),n[Ot]=s,s.stateNode=n}return ct(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Mo(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Ot]=s}else Aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),n=!1}else a=fm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Vn(s),s):(Vn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ct(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Mo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ot]=s}else Aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),f=!1}else f=fm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Vn(s),s):(Vn(s),null)}return Vn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),qh(s,s.updateQueue),ct(s),null);case 4:return dt(),n===null&&Ap(s.stateNode.containerInfo),ct(s),null;case 10:return ys(s.type),ct(s),null;case 19:if(ne(Ct),l=s.memoizedState,l===null)return ct(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Ru(l,!1);else{if(bt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=xh(n),d!==null){for(s.flags|=128,Ru(l,!1),n=d.updateQueue,s.updateQueue=n,qh(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)q_(a,n),a=a.sibling;return ue(Ct,Ct.current&1|2),je&&ps(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&mn()>Yh&&(s.flags|=128,f=!0,Ru(l,!1),s.lanes=4194304)}else{if(!f)if(n=xh(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,qh(s,n),Ru(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return ct(s),null}else 2*mn()-l.renderingStartTime>Yh&&a!==536870912&&(s.flags|=128,f=!0,Ru(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=mn(),n.sibling=null,a=Ct.current,ue(Ct,f?a&1|2:a&1),je&&ps(s,l.treeForkCount),n):(ct(s),null);case 22:case 23:return Vn(s),wm(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),a=s.updateQueue,a!==null&&qh(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ne(Ca),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ys(Lt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function l1(n,s){switch(cm(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ys(Lt),dt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return co(s),null;case 31:if(s.memoizedState!==null){if(Vn(s),s.alternate===null)throw Error(r(340));Aa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Vn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Aa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ne(Ct),null;case 4:return dt(),null;case 10:return ys(s.type),null;case 22:case 23:return Vn(s),wm(),n!==null&&ne(Ca),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ys(Lt),null;case 25:return null;default:return null}}function gE(n,s){switch(cm(s),s.tag){case 3:ys(Lt),dt();break;case 26:case 27:case 5:co(s);break;case 4:dt();break;case 31:s.memoizedState!==null&&Vn(s);break;case 13:Vn(s);break;case 19:ne(Ct);break;case 10:ys(s.type);break;case 22:case 23:Vn(s),wm(),n!==null&&ne(Ca);break;case 24:ys(Lt)}}function Cu(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(s,s.return,T)}}function cr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=s;var M=a,G=T;try{G()}catch(J){tt(f,M,J)}}}l=l.next}while(l!==d)}}catch(J){tt(s,s.return,J)}}function yE(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{ov(s,a)}catch(l){tt(n,n.return,l)}}}function _E(n,s,a){a.props=Oa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,s,l)}}function Iu(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){tt(n,s,f)}}function Yi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,s,f)}else a.current=null}function vE(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function ip(n,s,a){try{var l=n.stateNode;x1(l,n.type,a,s),l[Yt]=s}catch(f){tt(n,n.return,f)}}function EE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&yr(n.type)||n.tag===4}function sp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||EE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&yr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rp(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ci));else if(l!==4&&(l===27&&yr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(rp(n,s,a),n=n.sibling;n!==null;)rp(n,s,a),n=n.sibling}function Hh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&yr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Hh(n,s,a),n=n.sibling;n!==null;)Hh(n,s,a),n=n.sibling}function bE(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,l,a),s[Ot]=n,s[Yt]=a}catch(d){tt(n,n.return,d)}}var Ts=!1,Ut=!1,ap=!1,TE=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function u1(n,s){if(n=n.containerInfo,Cp=ff,n=k_(n),Zd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,M=-1,G=0,J=0,ee=n,K=null;t:for(;;){for(var $;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==d||l!==0&&ee.nodeType!==3||(M=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),($=ee.firstChild)!==null;)K=ee,ee=$;for(;;){if(ee===n)break t;if(K===a&&++G===f&&(T=v),K===d&&++J===l&&(M=v),($=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=$}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ip={focusedElem:n,selectionRange:a},ff=!1,Xt=s;Xt!==null;)if(s=Xt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Xt=n;else for(;Xt!==null;){switch(s=Xt,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Oa(a.type,f);n=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){tt(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Dp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Xt=n;break}Xt=s.return}}function SE(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:As(n,a),l&4&&Cu(5,a);break;case 1:if(As(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){tt(a,a.return,v)}else{var f=Oa(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&yE(a),l&512&&Iu(a,a.return);break;case 3:if(As(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ov(n,s)}catch(v){tt(a,a.return,v)}}break;case 27:s===null&&l&4&&bE(a);case 26:case 5:As(n,a),s===null&&l&4&&vE(a),l&512&&Iu(a,a.return);break;case 12:As(n,a);break;case 31:As(n,a),l&4&&RE(n,a);break;case 13:As(n,a),l&4&&CE(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=_1.bind(null,a),U1(n,a))));break;case 22:if(l=a.memoizedState!==null||Ts,!l){s=s!==null&&s.memoizedState!==null||Ut,f=Ts;var d=Ut;Ts=l,(Ut=s)&&!d?ws(n,a,(a.subtreeFlags&8772)!==0):As(n,a),Ts=f,Ut=d}break;case 30:break;default:As(n,a)}}function AE(n){var s=n.alternate;s!==null&&(n.alternate=null,AE(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&go(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,Sn=!1;function Ss(n,s,a){for(a=a.child;a!==null;)wE(n,s,a),a=a.sibling}function wE(n,s,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ai,a)}catch{}switch(a.tag){case 26:Ut||Yi(a,s),Ss(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Yi(a,s);var l=pt,f=Sn;yr(a.type)&&(pt=a.stateNode,Sn=!1),Ss(n,s,a),Vu(a.stateNode),pt=l,Sn=f;break;case 5:Ut||Yi(a,s);case 6:if(l=pt,f=Sn,pt=null,Ss(n,s,a),pt=l,Sn=f,pt!==null)if(Sn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(d){tt(a,s,d)}else try{pt.removeChild(a.stateNode)}catch(d){tt(a,s,d)}break;case 18:pt!==null&&(Sn?(n=pt,y0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),el(n)):y0(pt,a.stateNode));break;case 4:l=pt,f=Sn,pt=a.stateNode.containerInfo,Sn=!0,Ss(n,s,a),pt=l,Sn=f;break;case 0:case 11:case 14:case 15:cr(2,a,s),Ut||cr(4,a,s),Ss(n,s,a);break;case 1:Ut||(Yi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_E(a,s,l)),Ss(n,s,a);break;case 21:Ss(n,s,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,Ss(n,s,a),Ut=l;break;default:Ss(n,s,a)}}function RE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{el(n)}catch(a){tt(s,s.return,a)}}}function CE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{el(n)}catch(a){tt(s,s.return,a)}}function c1(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new TE),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new TE),s;default:throw Error(r(435,n.tag))}}function Gh(n,s){var a=c1(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=v1.bind(null,n,l);l.then(f,f)}})}function An(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(yr(T.type)){pt=T.stateNode,Sn=!1;break e}break;case 5:pt=T.stateNode,Sn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(pt===null)throw Error(r(160));wE(d,v,f),pt=null,Sn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)IE(s,n),s=s.sibling}var gi=null;function IE(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(s,n),wn(n),l&4&&(cr(3,n,n.return),Cu(3,n),cr(5,n,n.return));break;case 1:An(s,n),wn(n),l&512&&(Ut||a===null||Yi(a,a.return)),l&64&&Ts&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=gi;if(An(s,n),wn(n),l&512&&(Ut||a===null||Yi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ki]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,l,a),d[Ot]=n,Mt(d),l=d;break e;case"link":var v=I0("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;case"meta":if(v=I0("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ot]=n,Mt(d),l=d}n.stateNode=l}else N0(f,n.type,n.stateNode);else n.stateNode=C0(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?N0(f,n.type,n.stateNode):C0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&ip(n,n.memoizedProps,a.memoizedProps)}break;case 27:An(s,n),wn(n),l&512&&(Ut||a===null||Yi(a,a.return)),a!==null&&l&4&&ip(n,n.memoizedProps,a.memoizedProps);break;case 5:if(An(s,n),wn(n),l&512&&(Ut||a===null||Yi(a,a.return)),n.flags&32){f=n.stateNode;try{Tn(f,"")}catch(pe){tt(n,n.return,pe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,ip(n,f,a!==null?a.memoizedProps:f)),l&1024&&(ap=!0);break;case 6:if(An(s,n),wn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){tt(n,n.return,pe)}}break;case 3:if(lf=null,f=gi,gi=af(s.containerInfo),An(s,n),gi=f,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(pe){tt(n,n.return,pe)}ap&&(ap=!1,NE(n));break;case 4:l=gi,gi=af(n.stateNode.containerInfo),An(s,n),wn(n),gi=l;break;case 12:An(s,n),wn(n);break;case 31:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gh(n,l)));break;case 13:An(s,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kh=mn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gh(n,l)));break;case 22:f=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,G=Ts,J=Ut;if(Ts=G||f,Ut=J||M,An(s,n),Ut=J,Ts=G,wn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||Ts||Ut||Ma(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=M.stateNode;var ee=M.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pe){tt(M,M.return,pe)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pe){tt(M,M.return,pe)}}}else if(s.tag===18){if(a===null){M=s;try{var $=M.stateNode;f?_0($,!0):_0(M.stateNode,!1)}catch(pe){tt(M,M.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gh(n,a))));break;case 19:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gh(n,l)));break;case 30:break;case 21:break;default:An(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(EE(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=sp(n);Hh(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=sp(n);Hh(n,T,v);break;case 3:case 4:var M=a.stateNode.containerInfo,G=sp(n);rp(n,G,M);break;default:throw Error(r(161))}}catch(J){tt(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function NE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;NE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function As(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)SE(n,s.alternate,s),s=s.sibling}function Ma(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:cr(4,s,s.return),Ma(s);break;case 1:Yi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&_E(s,s.return,a),Ma(s);break;case 27:Vu(s.stateNode);case 26:case 5:Yi(s,s.return),Ma(s);break;case 22:s.memoizedState===null&&Ma(s);break;case 30:Ma(s);break;default:Ma(s)}n=n.sibling}}function ws(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:ws(f,d,a),Cu(4,d);break;case 1:if(ws(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){tt(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)av(M[f],T)}catch(G){tt(l,l.return,G)}}a&&v&64&&yE(d),Iu(d,d.return);break;case 27:bE(d);case 26:case 5:ws(f,d,a),a&&l===null&&v&4&&vE(d),Iu(d,d.return);break;case 12:ws(f,d,a);break;case 31:ws(f,d,a),a&&v&4&&RE(f,d);break;case 13:ws(f,d,a),a&&v&4&&CE(f,d);break;case 22:d.memoizedState===null&&ws(f,d,a),Iu(d,d.return);break;case 30:break;default:ws(f,d,a)}s=s.sibling}}function op(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&mu(a))}function lp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&mu(n))}function yi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xE(n,s,a,l),s=s.sibling}function xE(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:yi(n,s,a,l),f&2048&&Cu(9,s);break;case 1:yi(n,s,a,l);break;case 3:yi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&mu(n)));break;case 12:if(f&2048){yi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){tt(s,s.return,M)}}else yi(n,s,a,l);break;case 31:yi(n,s,a,l);break;case 13:yi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?yi(n,s,a,l):Nu(n,s):d._visibility&2?yi(n,s,a,l):(d._visibility|=2,qo(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&op(v,s);break;case 24:yi(n,s,a,l),f&2048&&lp(s.alternate,s);break;default:yi(n,s,a,l)}}function qo(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,v=s,T=a,M=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:qo(d,v,T,M,f),Cu(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?qo(d,v,T,M,f):Nu(d,v):(J._visibility|=2,qo(d,v,T,M,f)),f&&G&2048&&op(v.alternate,v);break;case 24:qo(d,v,T,M,f),f&&G&2048&&lp(v.alternate,v);break;default:qo(d,v,T,M,f)}s=s.sibling}}function Nu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Nu(a,l),f&2048&&op(l.alternate,l);break;case 24:Nu(a,l),f&2048&&lp(l.alternate,l);break;default:Nu(a,l)}s=s.sibling}}var xu=8192;function Ho(n,s,a){if(n.subtreeFlags&xu)for(n=n.child;n!==null;)DE(n,s,a),n=n.sibling}function DE(n,s,a){switch(n.tag){case 26:Ho(n,s,a),n.flags&xu&&n.memoizedState!==null&&X1(a,gi,n.memoizedState,n.memoizedProps);break;case 5:Ho(n,s,a);break;case 3:case 4:var l=gi;gi=af(n.stateNode.containerInfo),Ho(n,s,a),gi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=xu,xu=16777216,Ho(n,s,a),xu=l):Ho(n,s,a));break;default:Ho(n,s,a)}}function OE(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Du(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,kE(l,n)}OE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ME(n),n=n.sibling}function ME(n){switch(n.tag){case 0:case 11:case 15:Du(n),n.flags&2048&&cr(9,n,n.return);break;case 3:Du(n);break;case 12:Du(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Qh(n)):Du(n);break;default:Du(n)}}function Qh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,kE(l,n)}OE(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:cr(8,s,s.return),Qh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Qh(s));break;default:Qh(s)}n=n.sibling}}function kE(n,s){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:cr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:mu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=n;Xt!==null;){l=Xt;var f=l.sibling,d=l.return;if(AE(l),l===a){Xt=null;break e}if(f!==null){f.return=d,Xt=f;break e}Xt=d}}}var h1={getCacheForType:function(n){var s=nn(Lt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return nn(Lt).controller.signal}},f1=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Me=null,Le=0,et=0,Un=null,hr=!1,Go=!1,up=!1,Rs=0,bt=0,fr=0,ka=0,cp=0,jn=0,Qo=0,Ou=null,Rn=null,hp=!1,Kh=0,LE=0,Yh=1/0,$h=null,dr=null,Ht=0,mr=null,Ko=null,Cs=0,fp=0,dp=null,PE=null,Mu=0,mp=null;function zn(){return($e&2)!==0&&Le!==0?Le&-Le:q.T!==null?Ep():Xc()}function VE(){if(jn===0)if((Le&536870912)===0||je){var n=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),jn=n}else jn=536870912;return n=Pn.current,n!==null&&(n.flags|=32),jn}function Cn(n,s,a){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Yo(n,0),pr(n,Le,jn,!1)),la(n,a),(($e&2)===0||n!==at)&&(n===at&&(($e&2)===0&&(ka|=a),bt===4&&pr(n,Le,jn,!1)),$i(n))}function UE(n,s,a){if(($e&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||oi(n,s),f=l?p1(n,s):gp(n,s,!0),d=l;do{if(f===0){Go&&!l&&pr(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!d1(a)){f=gp(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=n;f=Ou;var M=T.current.memoizedState.isDehydrated;if(M&&(Yo(T,v).flags|=256),v=gp(T,v,!1),v!==2){if(up&&!M){T.errorRecoveryDisabledLanes|=d,ka|=d,f=4;break e}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Yo(n,0),pr(n,s,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:pr(l,s,jn,!hr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Kh+300-mn(),10<f)){if(pr(l,s,jn,!hr),Di(l,0,!0)!==0)break e;Cs=s,l.timeoutHandle=p0(jE.bind(null,l,a,Rn,$h,hp,s,jn,ka,Qo,hr,d,"Throttled",-0,0),f);break e}jE(l,a,Rn,$h,hp,s,jn,ka,Qo,hr,d,null,-0,0)}}break}while(!0);$i(n)}function jE(n,s,a,l,f,d,v,T,M,G,J,ee,K,$){if(n.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},DE(s,d,ee);var pe=(d&62914560)===d?Kh-mn():(d&4194048)===d?LE-mn():0;if(pe=W1(ee,pe),pe!==null){Cs=d,n.cancelPendingCommit=pe(KE.bind(null,n,s,d,a,l,f,v,T,M,J,ee,null,K,$)),pr(n,d,v,!G);return}}KE(n,s,d,a,l,f,v,T,M)}function d1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!kn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pr(n,s,a,l){s&=~cp,s&=~ka,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-wt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&ua(n,a,s)}function Xh(){return($e&6)===0?(ku(0),!1):!0}function pp(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,gs=wa=null,Dm(n),Uo=null,gu=0,n=Me;for(;n!==null;)gE(n.alternate,n),n=n.return;Me=null}}function Yo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,M1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Cs=0,pp(),at=n,Me=a=ms(n.current,null),Le=s,et=0,Un=null,hr=!1,Go=oi(n,s),up=!1,Qo=jn=cp=ka=fr=bt=0,Rn=Ou=null,hp=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-wt(l),d=1<<f;s|=n[f],l&=~d}return Rs=s,yh(),a}function zE(n,s){Ne=null,q.H=Au,s===Vo||s===wh?(s=nv(),et=3):s===vm?(s=nv(),et=4):et=s===Km?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Me===null&&(bt=1,jh(n,Xn(s,n.current)))}function BE(){var n=Pn.current;return n===null?!0:(Le&4194048)===Le?ei===null:(Le&62914560)===Le||(Le&536870912)!==0?n===ei:!1}function FE(){var n=q.H;return q.H=Au,n===null?Au:n}function qE(){var n=q.A;return q.A=h1,n}function Wh(){bt=4,hr||(Le&4194048)!==Le&&Pn.current!==null||(Go=!0),(fr&134217727)===0&&(ka&134217727)===0||at===null||pr(at,Le,jn,!1)}function gp(n,s,a){var l=$e;$e|=2;var f=FE(),d=qE();(at!==n||Le!==s)&&($h=null,Yo(n,s)),s=!1;var v=bt;e:do try{if(et!==0&&Me!==null){var T=Me,M=Un;switch(et){case 8:pp(),v=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var G=et;if(et=0,Un=null,$o(n,T,M,G),a&&Go){v=0;break e}break;default:G=et,et=0,Un=null,$o(n,T,M,G)}}m1(),v=bt;break}catch(J){zE(n,J)}while(!0);return s&&n.shellSuspendCounter++,gs=wa=null,$e=l,q.H=f,q.A=d,Me===null&&(at=null,Le=0,yh()),v}function m1(){for(;Me!==null;)HE(Me)}function p1(n,s){var a=$e;$e|=2;var l=FE(),f=qE();at!==n||Le!==s?($h=null,Yh=mn()+500,Yo(n,s)):Go=oi(n,s);e:do try{if(et!==0&&Me!==null){s=Me;var d=Un;t:switch(et){case 1:et=0,Un=null,$o(n,s,d,1);break;case 2:case 9:if(ev(d)){et=0,Un=null,GE(s);break}s=function(){et!==2&&et!==9||at!==n||(et=7),$i(n)},d.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:ev(d)?(et=0,Un=null,GE(s)):(et=0,Un=null,$o(n,s,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(v?x0(v):T.stateNode.complete){et=0,Un=null;var M=T.sibling;if(M!==null)Me=M;else{var G=T.return;G!==null?(Me=G,Jh(G)):Me=null}break t}}et=0,Un=null,$o(n,s,d,5);break;case 6:et=0,Un=null,$o(n,s,d,6);break;case 8:pp(),bt=6;break e;default:throw Error(r(462))}}g1();break}catch(J){zE(n,J)}while(!0);return gs=wa=null,q.H=l,q.A=f,$e=a,Me!==null?0:(at=null,Le=0,yh(),bt)}function g1(){for(;Me!==null&&!Qd();)HE(Me)}function HE(n){var s=mE(n.alternate,n,Rs);n.memoizedProps=n.pendingProps,s===null?Jh(n):Me=s}function GE(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=lE(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=lE(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:Dm(s);default:gE(a,s),s=Me=q_(s,Rs),s=mE(a,s,Rs)}n.memoizedProps=n.pendingProps,s===null?Jh(n):Me=s}function $o(n,s,a,l){gs=wa=null,Dm(s),Uo=null,gu=0;var f=s.return;try{if(s1(n,f,s,a,Le)){bt=1,jh(n,Xn(a,n.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;bt=1,jh(n,Xn(a,n.current)),Me=null;return}s.flags&32768?(je||l===1?n=!0:Go||(Le&536870912)!==0?n=!1:(hr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),QE(s,n)):Jh(s)}function Jh(n){var s=n;do{if((s.flags&32768)!==0){QE(s,hr);return}n=s.return;var a=o1(s.alternate,s,Rs);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);bt===0&&(bt=5)}function QE(n,s){do{var a=l1(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);bt=6,Me=null}function KE(n,s,a,l,f,d,v,T,M){n.cancelPendingCommit=null;do Zh();while(Ht!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=sm,$d(n,a,d,v,T,M),n===at&&(Me=at=null,Le=0),Ko=s,mr=n,Cs=a,fp=d,dp=f,PE=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,E1(Gs,function(){return JE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,f=ae.p,ae.p=2,v=$e,$e|=4;try{u1(n,s,a)}finally{$e=v,ae.p=f,q.T=l}}Ht=1,YE(),$E(),XE()}}function YE(){if(Ht===1){Ht=0;var n=mr,s=Ko,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{IE(s,n);var d=Ip,v=k_(n.containerInfo),T=d.focusedElem,M=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&M_(T.ownerDocument.documentElement,T)){if(M!==null&&Zd(T)){var G=M.start,J=M.end;if(J===void 0&&(J=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(J,T.value.length);else{var ee=T.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var $=K.getSelection(),pe=T.textContent.length,be=Math.min(M.start,pe),rt=M.end===void 0?be:Math.min(M.end,pe);!$.extend&&be>rt&&(v=rt,rt=be,be=v);var B=O_(T,be),P=O_(T,rt);if(B&&P&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var H=ee.createRange();H.setStart(B.node,B.offset),$.removeAllRanges(),be>rt?($.addRange(H),$.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),$.addRange(H))}}}}for(ee=[],$=T;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ff=!!Cp,Ip=Cp=null}finally{$e=f,ae.p=l,q.T=a}}n.current=s,Ht=2}}function $E(){if(Ht===2){Ht=0;var n=mr,s=Ko,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{SE(n,s.alternate,s)}finally{$e=f,ae.p=l,q.T=a}}Ht=3}}function XE(){if(Ht===4||Ht===3){Ht=0,qc();var n=mr,s=Ko,a=Cs,l=PE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Ko=mr=null,WE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(dr=null),cs(a),s=s.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ai,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=q.T,f=ae.p,ae.p=2,q.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{q.T=s,ae.p=f}}(Cs&3)!==0&&Zh(),$i(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===mp?Mu++:(Mu=0,mp=n):Mu=0,ku(0)}}function WE(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,mu(s)))}function Zh(){return YE(),$E(),XE(),JE()}function JE(){if(Ht!==5)return!1;var n=mr,s=fp;fp=0;var a=cs(Cs),l=q.T,f=ae.p;try{ae.p=32>a?32:a,q.T=null,a=dp,dp=null;var d=mr,v=Cs;if(Ht=0,Ko=mr=null,Cs=0,($e&6)!==0)throw Error(r(331));var T=$e;if($e|=4,ME(d.current),xE(d,d.current,v,a),$e=T,ku(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ai,d)}catch{}return!0}finally{ae.p=f,q.T=l,WE(n,s)}}function ZE(n,s,a){s=Xn(a,s),s=Qm(n.stateNode,s,2),n=or(n,s,2),n!==null&&(la(n,2),$i(n))}function tt(n,s,a){if(n.tag===3)ZE(n,n,a);else for(;s!==null;){if(s.tag===3){ZE(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){n=Xn(a,n),a=eE(2),l=or(s,a,2),l!==null&&(tE(a,l,s,n),la(l,2),$i(l));break}}s=s.return}}function yp(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new f1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(up=!0,f.add(a),n=y1.bind(null,n,s,a),s.then(n,n))}function y1(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(Le&a)===a&&(bt===4||bt===3&&(Le&62914560)===Le&&300>mn()-Kh?($e&2)===0&&Yo(n,0):cp|=a,Qo===Le&&(Qo=0)),$i(n)}function e0(n,s){s===0&&(s=$c()),n=Ta(n,s),n!==null&&(la(n,s),$i(n))}function _1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),e0(n,a)}function v1(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),e0(n,a)}function E1(n,s){return qt(n,s)}var ef=null,Xo=null,_p=!1,tf=!1,vp=!1,gr=0;function $i(n){n!==Xo&&n.next===null&&(Xo===null?ef=Xo=n:Xo=Xo.next=n),tf=!0,_p||(_p=!0,T1())}function ku(n,s){if(!vp&&tf){vp=!0;do for(var a=!1,l=ef;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-wt(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,s0(l,d))}else d=Le,d=Di(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||oi(l,d)||(a=!0,s0(l,d));l=l.next}while(a);vp=!1}}function b1(){t0()}function t0(){tf=_p=!1;var n=0;gr!==0&&O1()&&(n=gr);for(var s=mn(),a=null,l=ef;l!==null;){var f=l.next,d=n0(l,s);d===0?(l.next=null,a===null?ef=f:a.next=f,f===null&&(Xo=a)):(a=l,(n!==0||(d&3)!==0)&&(tf=!0)),l=f}Ht!==0&&Ht!==5||ku(n),gr!==0&&(gr=0)}function n0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-wt(d),T=1<<v,M=f[v];M===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Yd(T,s)):M<=s&&(n.expiredLanes|=T),d&=~T}if(s=at,a=Le,a=Di(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Hs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||oi(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Hs(l),cs(a)){case 2:case 8:a=Hl;break;case 32:a=Gs;break;case 268435456:a=Hc;break;default:a=Gs}return l=i0.bind(null,n),a=qt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Hs(l),n.callbackPriority=2,n.callbackNode=null,2}function i0(n,s){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Zh()&&n.callbackNode!==a)return null;var l=Le;return l=Di(n,n===at?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(UE(n,l,s),n0(n,mn()),n.callbackNode!=null&&n.callbackNode===a?i0.bind(null,n):null)}function s0(n,s){if(Zh())return null;UE(n,s,!0)}function T1(){k1(function(){($e&6)!==0?qt(ql,b1):t0()})}function Ep(){if(gr===0){var n=Lo;n===0&&(n=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),gr=n}return gr}function r0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Eo(""+n)}function a0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function S1(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=r0((f[Yt]||null).action),v=l.submitter;v&&(s=(s=v[Yt]||null)?r0(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var T=new Fi("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gr!==0){var M=v?a0(f,v):new FormData(f);zm(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(T.preventDefault(),M=v?a0(f,v):new FormData(f),zm(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var bp=0;bp<im.length;bp++){var Tp=im[bp],A1=Tp.toLowerCase(),w1=Tp[0].toUpperCase()+Tp.slice(1);pi(A1,"on"+w1)}pi(V_,"onAnimationEnd"),pi(U_,"onAnimationIteration"),pi(j_,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(BR,"onTransitionRun"),pi(FR,"onTransitionStart"),pi(qR,"onTransitionCancel"),pi(z_,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function o0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],M=T.instance,G=T.currentTarget;if(T=T.listener,M!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(J){gh(J)}f.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(T=l[v],M=T.instance,G=T.currentTarget,T=T.listener,M!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(J){gh(J)}f.currentTarget=null,d=M}}}}function ke(n,s){var a=s[po];a===void 0&&(a=s[po]=new Set);var l=n+"__bubble";a.has(l)||(l0(s,n,2,!1),a.add(l))}function Sp(n,s,a){var l=0;s&&(l|=4),l0(a,n,l,s)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Ap(n){if(!n[nf]){n[nf]=!0,Kl.forEach(function(a){a!=="selectionchange"&&(R1.has(a)||Sp(a,!1,n),Sp(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[nf]||(s[nf]=!0,Sp("selectionchange",!1,s))}}function l0(n,s,a,l){switch(V0(s)){case 2:var f=eC;break;case 8:f=tC;break;default:f=jp}a=f.bind(null,s,a,n),f=void 0,!ma||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function wp(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Li(T),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ws(function(){var G=d,J=Qn(a),ee=[];e:{var K=B_.get(n);if(K!==void 0){var $=Fi,pe=n;switch(n){case"keypress":if(ga(a)===0)break e;case"keydown":case"keyup":$=dh;break;case"focusin":pe="focus",$=_a;break;case"focusout":pe="blur",$=_a;break;case"beforeblur":case"afterblur":$=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case V_:case U_:case j_:$=ah;break;case z_:$=A;break;case"scroll":case"scrollend":$=ru;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ds;break;case"toggle":case"beforetoggle":$=Ie}var be=(s&4)!==0,rt=!be&&(n==="scroll"||n==="scrollend"),B=be?K!==null?K+"Capture":null:K;be=[];for(var P=G,H;P!==null;){var Z=P;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||B===null||(Z=hi(P,B),Z!=null&&be.push(Pu(P,Z,H))),rt)break;P=P.return}0<be.length&&(K=new $(K,pe,null,a,J),ee.push({event:K,listeners:be}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&a!==nu&&(pe=a.relatedTarget||a.fromElement)&&(Li(pe)||pe[Mi]))break e;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(pe=a.relatedTarget||a.toElement,$=G,pe=pe?Li(pe):null,pe!==null&&(rt=u(pe),be=pe.tag,pe!==rt||be!==5&&be!==27&&be!==6)&&(pe=null)):($=null,pe=G),$!==pe)){if(be=au,Z="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(be=ds,Z="onPointerLeave",B="onPointerEnter",P="pointer"),rt=$==null?K:On($),H=pe==null?K:On(pe),K=new be(Z,P+"leave",$,a,J),K.target=rt,K.relatedTarget=H,Z=null,Li(J)===G&&(be=new be(B,P+"enter",pe,a,J),be.target=H,be.relatedTarget=rt,Z=be),rt=Z,$&&pe)t:{for(be=C1,B=$,P=pe,H=0,Z=B;Z;Z=be(Z))H++;Z=0;for(var ve=P;ve;ve=be(ve))Z++;for(;0<H-Z;)B=be(B),H--;for(;0<Z-H;)P=be(P),Z--;for(;H--;){if(B===P||P!==null&&B===P.alternate){be=B;break t}B=be(B),P=be(P)}be=null}else be=null;$!==null&&u0(ee,K,$,be,!1),pe!==null&&rt!==null&&u0(ee,rt,pe,be,!0)}}e:{if(K=G?On(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Ge=R_;else if(A_(K))if(C_)Ge=UR;else{Ge=PR;var ge=LR}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&vo(G.elementType)&&(Ge=R_):Ge=VR;if(Ge&&(Ge=Ge(n,G))){w_(ee,Ge,a,J);break e}ge&&ge(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Zl(K,"number",K.value)}switch(ge=G?On(G):window,n){case"focusin":(A_(ge)||ge.contentEditable==="true")&&(Co=ge,em=G,hu=null);break;case"focusout":hu=em=Co=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,L_(ee,a,J);break;case"selectionchange":if(zR)break;case"keydown":case"keyup":L_(ee,a,J)}var De;if(Ye)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ro?va(n,a)&&(Pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Gi&&a.locale!=="ko"&&(Ro||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ro&&(De=su()):(Bi=J,iu="value"in Bi?Bi.value:Bi.textContent,Ro=!0)),ge=sf(G,Pe),0<ge.length&&(Pe=new Hi(Pe,n,null,a,J),ee.push({event:Pe,listeners:ge}),De?Pe.data=De:(De=wo(a),De!==null&&(Pe.data=De)))),(De=Yn?DR(n,a):OR(n,a))&&(Pe=sf(G,"onBeforeInput"),0<Pe.length&&(ge=new Hi("onBeforeInput","beforeinput",null,a,J),ee.push({event:ge,listeners:Pe}),ge.data=De)),S1(ee,n,G,a,J)}o0(ee,s)})}function Pu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function sf(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=hi(n,a),f!=null&&l.unshift(Pu(n,f,d)),f=hi(n,s),f!=null&&l.push(Pu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function C1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function u0(n,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var T=a,M=T.alternate,G=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||G===null||(M=G,f?(G=hi(a,d),G!=null&&v.unshift(Pu(a,G,M))):f||(G=hi(a,d),G!=null&&v.push(Pu(a,G,M)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var I1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function c0(n){return(typeof n=="string"?n:""+n).replace(I1,`
`).replace(N1,"")}function h0(n,s){return s=c0(s),c0(n)===s}function st(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Tn(n,""+l);break;case"className":Mn(n,"class",l);break;case"tabIndex":Mn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(n,a,l);break;case"style":tu(n,l,d);break;case"data":if(s!=="object"){Mn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Eo(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&st(n,s,"name",f.name,f,null),st(n,s,"formEncType",f.formEncType,f,null),st(n,s,"formMethod",f.formMethod,f,null),st(n,s,"formTarget",f.formTarget,f,null)):(st(n,s,"encType",f.encType,f,null),st(n,s,"method",f.method,f,null),st(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Eo(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ci);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Eo(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),yo(n,"popover",l);break;case"xlinkActuate":kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ih.get(a)||a,yo(n,a,l))}}function Rp(n,s,a,l,f,d){switch(a){case"style":tu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&Tn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):yo(n,a,l)}}}function rn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(n,s,d,v,a,null)}}f&&st(n,s,"srcSet",a.srcSet,a,null),l&&st(n,s,"src",a.src,a,null);return;case"input":ke("invalid",n);var T=d=v=f=null,M=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":v=J;break;case"checked":M=J;break;case"defaultChecked":G=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:st(n,s,l,J,a,null)}}eh(n,d,T,M,G,v,f,!1);return;case"select":ke("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:st(n,s,f,T,a,null)}s=d,a=v,n.multiple=!!l,s!=null?Ks(n,!!l,s,!1):a!=null&&Ks(n,!!l,a,!0);return;case"textarea":ke("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:st(n,s,v,T,a,null)}Ys(n,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(n,s,M,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Lu.length;l++)ke(Lu[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(n,s,G,l,a,null)}return;default:if(vo(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Rp(n,s,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&st(n,s,T,l,a,null))}function x1(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,M=null,G=null,J=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=ee;default:l.hasOwnProperty($)||st(n,s,$,null,l,ee)}}for(var K in l){var $=l[K];if(ee=a[K],l.hasOwnProperty(K)&&($!=null||ee!=null))switch(K){case"type":d=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":J=$;break;case"value":v=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==ee&&st(n,s,K,$,l,ee)}}_o(n,v,T,M,G,J,d,f);return;case"select":$=v=T=K=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(d)||st(n,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==M&&st(n,s,f,d,l,M)}s=T,a=v,l=$,K!=null?Ks(n,!!a,K,!1):!!l!=!!a&&(s!=null?Ks(n,!!a,s,!0):Ks(n,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(n,s,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&st(n,s,v,f,l,d)}th(n,K,$);return;case"option":for(var pe in a)if(K=a[pe],a.hasOwnProperty(pe)&&K!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:st(n,s,pe,null,l,K)}for(M in l)if(K=l[M],$=a[M],l.hasOwnProperty(M)&&K!==$&&(K!=null||$!=null))switch(M){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:st(n,s,M,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)K=a[be],a.hasOwnProperty(be)&&K!=null&&!l.hasOwnProperty(be)&&st(n,s,be,null,l,K);for(G in l)if(K=l[G],$=a[G],l.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:st(n,s,G,K,l,$)}return;default:if(vo(s)){for(var rt in a)K=a[rt],a.hasOwnProperty(rt)&&K!==void 0&&!l.hasOwnProperty(rt)&&Rp(n,s,rt,void 0,l,K);for(J in l)K=l[J],$=a[J],!l.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||Rp(n,s,J,K,l,$);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&st(n,s,B,null,l,K);for(ee in l)K=l[ee],$=a[ee],!l.hasOwnProperty(ee)||K===$||K==null&&$==null||st(n,s,ee,K,l,$)}function f0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,T=f.duration;if(d&&T&&f0(v)){for(v=0,T=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],G=M.startTime;if(G>T)break;var J=M.transferSize,ee=M.initiatorType;J&&f0(ee)&&(M=M.responseEnd,v+=J*(M<T?1:(T-G)/(M-G)))}if(--l,s+=8*(d+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Cp=null,Ip=null;function rf(n){return n.nodeType===9?n:n.ownerDocument}function d0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Np(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xp=null;function O1(){var n=window.event;return n&&n.type==="popstate"?n===xp?!1:(xp=n,!0):(xp=null,!1)}var p0=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(n){return g0.resolve(null).then(n).catch(L1)}:p0;function L1(n){setTimeout(function(){throw n})}function yr(n){return n==="head"}function y0(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),el(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Vu(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ki]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Vu(n.ownerDocument.body);a=f}while(a);el(s)}function _0(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Dp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dp(a),go(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function P1(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ki])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ti(n.nextSibling),n===null)break}return null}function V1(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ti(n.nextSibling),n===null))return null;return n}function v0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ti(n.nextSibling),n===null))return null;return n}function Op(n){return n.data==="$?"||n.data==="$~"}function Mp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function U1(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ti(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var kp=null;function E0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return ti(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function b0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function T0(n,s,a){switch(s=rf(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Vu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);go(n)}var ni=new Map,S0=new Set;function af(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Is=ae.d;ae.d={f:j1,r:z1,D:B1,C:F1,L:q1,m:H1,X:Q1,S:G1,M:K1};function j1(){var n=Is.f(),s=Xh();return n||s}function z1(n){var s=Gn(n);s!==null&&s.tag===5&&s.type==="form"?zv(s):Is.r(n)}var Wo=typeof document>"u"?null:document;function A0(n,s,a){var l=Wo;if(l&&typeof s=="string"&&s){var f=bn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),S0.has(f)||(S0.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),rn(s,"link",n),Mt(s),l.head.appendChild(s)))}}function B1(n){Is.D(n),A0("dns-prefetch",n,null)}function F1(n,s){Is.C(n,s),A0("preconnect",n,s)}function q1(n,s,a){Is.L(n,s,a);var l=Wo;if(l&&n&&s){var f='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(n)+'"]';var d=f;switch(s){case"style":d=Jo(n);break;case"script":d=Zo(n)}ni.has(d)||(n=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),ni.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Uu(d))||s==="script"&&l.querySelector(ju(d))||(s=l.createElement("link"),rn(s,"link",n),Mt(s),l.head.appendChild(s)))}}function H1(n,s){Is.m(n,s);var a=Wo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Zo(n)}if(!ni.has(d)&&(n=b({rel:"modulepreload",href:n},s),ni.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ju(d)))return}l=a.createElement("link"),rn(l,"link",n),Mt(l),a.head.appendChild(l)}}}function G1(n,s,a){Is.S(n,s,a);var l=Wo;if(l&&n){var f=Pi(l).hoistableStyles,d=Jo(n);s=s||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Uu(d)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},a),(a=ni.get(d))&&Lp(n,a);var M=v=l.createElement("link");Mt(M),rn(M,"link",n),M._p=new Promise(function(G,J){M.onload=G,M.onerror=J}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,of(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function Q1(n,s){Is.X(n,s);var a=Wo;if(a&&n){var l=Pi(a).hoistableScripts,f=Zo(n),d=l.get(f);d||(d=a.querySelector(ju(f)),d||(n=b({src:n,async:!0},s),(s=ni.get(f))&&Pp(n,s),d=a.createElement("script"),Mt(d),rn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function K1(n,s){Is.M(n,s);var a=Wo;if(a&&n){var l=Pi(a).hoistableScripts,f=Zo(n),d=l.get(f);d||(d=a.querySelector(ju(f)),d||(n=b({src:n,async:!0,type:"module"},s),(s=ni.get(f))&&Pp(n,s),d=a.createElement("script"),Mt(d),rn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function w0(n,s,a,l){var f=(f=xe.current)?af(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Jo(a.href),a=Pi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Jo(a.href);var d=Pi(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Uu(n)))&&!d._p&&(v.instance=d,v.state.loading=5),ni.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(n,a),d||Y1(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(a),a=Pi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Jo(n){return'href="'+bn(n)+'"'}function Uu(n){return'link[rel="stylesheet"]['+n+"]"}function R0(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function Y1(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rn(s,"link",a),Mt(s),n.head.appendChild(s))}function Zo(n){return'[src="'+bn(n)+'"]'}function ju(n){return"script[async]"+n}function C0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return s.instance=l,Mt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Mt(l),rn(l,"style",f),of(l,a.precedence,n),s.instance=l;case"stylesheet":f=Jo(a.href);var d=n.querySelector(Uu(f));if(d)return s.state.loading|=4,s.instance=d,Mt(d),d;l=R0(a),(f=ni.get(f))&&Lp(l,f),d=(n.ownerDocument||n).createElement("link"),Mt(d);var v=d;return v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),rn(d,"link",l),s.state.loading|=4,of(d,a.precedence,n),s.instance=d;case"script":return d=Zo(a.src),(f=n.querySelector(ju(d)))?(s.instance=f,Mt(f),f):(l=a,(f=ni.get(d))&&(l=b({},a),Pp(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Mt(f),rn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,of(l,a.precedence,n));return s.instance}function of(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Lp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Pp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var lf=null;function I0(n,s,a){if(lf===null){var l=new Map,f=lf=new Map;f.set(a,l)}else f=lf,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ki]||d[Ot]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function N0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function $1(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function x0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function X1(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Jo(l.href),d=s.querySelector(Uu(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=uf.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Mt(d);return}d=s.ownerDocument||s,l=R0(l),(f=ni.get(f))&&Lp(l,f),d=d.createElement("link"),Mt(d);var v=d;v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),rn(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=uf.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Vp=0;function W1(n,s){return n.stylesheets&&n.count===0&&hf(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&hf(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Vp===0&&(Vp=62500*D1());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&hf(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Vp?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var cf=null;function hf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,cf=new Map,s.forEach(J1,n),cf=null,uf.call(n))}function J1(n,s){if(!(s.state.loading&4)){var a=cf.get(n);if(a)var l=a.get(null);else{a=new Map,cf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=uf.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var zu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Z1(n,s,a,l,f,d,v,T,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function D0(n,s,a,l,f,d,v,T,M,G,J,ee){return n=new Z1(n,s,a,v,M,G,J,ee,T),s=1,d===!0&&(s|=24),d=Ln(3,null,null,s),n.current=d,d.stateNode=n,s=gm(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Em(d),n}function O0(n){return n?(n=xo,n):xo}function M0(n,s,a,l,f,d){f=O0(f),l.context===null?l.context=f:l.pendingContext=f,l=ar(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=or(n,l,s),a!==null&&(Cn(a,n,s),_u(a,n,s))}function k0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Up(n,s){k0(n,s),(n=n.alternate)&&k0(n,s)}function L0(n){if(n.tag===13||n.tag===31){var s=Ta(n,67108864);s!==null&&Cn(s,n,67108864),Up(n,67108864)}}function P0(n){if(n.tag===13||n.tag===31){var s=zn();s=ca(s);var a=Ta(n,s);a!==null&&Cn(a,n,s),Up(n,s)}}var ff=!0;function eC(n,s,a,l){var f=q.T;q.T=null;var d=ae.p;try{ae.p=2,jp(n,s,a,l)}finally{ae.p=d,q.T=f}}function tC(n,s,a,l){var f=q.T;q.T=null;var d=ae.p;try{ae.p=8,jp(n,s,a,l)}finally{ae.p=d,q.T=f}}function jp(n,s,a,l){if(ff){var f=zp(l);if(f===null)wp(n,s,l,df,a),U0(n,l);else if(iC(f,n,s,a,l))l.stopPropagation();else if(U0(n,l),s&4&&-1<nC.indexOf(n)){for(;f!==null;){var d=Gn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xi(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var M=1<<31-wt(v);T.entanglements[1]|=M,v&=~M}$i(d),($e&6)===0&&(Yh=mn()+500,ku(0))}}break;case 31:case 13:T=Ta(d,2),T!==null&&Cn(T,d,2),Xh(),Up(d,2)}if(d=zp(l),d===null&&wp(n,s,l,df,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else wp(n,s,l,null,a)}}function zp(n){return n=Qn(n),Bp(n)}var df=null;function Bp(n){if(df=null,n=Li(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return df=n,null}function V0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case ql:return 2;case Hl:return 8;case Gs:case Kd:return 32;case Hc:return 268435456;default:return 32}default:return 32}}var Fp=!1,_r=null,vr=null,Er=null,Bu=new Map,Fu=new Map,br=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(n,s){switch(n){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Bu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(s.pointerId)}}function qu(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Gn(s),s!==null&&L0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function iC(n,s,a,l,f){switch(s){case"focusin":return _r=qu(_r,n,s,a,l,f),!0;case"dragenter":return vr=qu(vr,n,s,a,l,f),!0;case"mouseover":return Er=qu(Er,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Bu.set(d,qu(Bu.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fu.set(d,qu(Fu.get(d)||null,n,s,a,l,f)),!0}return!1}function j0(n){var s=Li(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,li(n.priority,function(){P0(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,li(n.priority,function(){P0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=zp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);nu=l,a.target.dispatchEvent(l),nu=null}else return s=Gn(a),s!==null&&L0(s),n.blockedOn=a,!1;s.shift()}return!0}function z0(n,s,a){mf(n)&&a.delete(s)}function sC(){Fp=!1,_r!==null&&mf(_r)&&(_r=null),vr!==null&&mf(vr)&&(vr=null),Er!==null&&mf(Er)&&(Er=null),Bu.forEach(z0),Fu.forEach(z0)}function pf(n,s){n.blockedOn===s&&(n.blockedOn=null,Fp||(Fp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sC)))}var gf=null;function B0(n){gf!==n&&(gf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gf===n&&(gf=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Bp(l||a)===null)continue;break}var d=Gn(a);d!==null&&(n.splice(s,3),s-=3,zm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function el(n){function s(M){return pf(M,n)}_r!==null&&pf(_r,n),vr!==null&&pf(vr,n),Er!==null&&pf(Er,n),Bu.forEach(s),Fu.forEach(s);for(var a=0;a<br.length;a++){var l=br[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<br.length&&(a=br[0],a.blockedOn===null);)j0(a),a.blockedOn===null&&br.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Yt]||null;if(typeof d=="function")v||B0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Yt]||null)T=v.formAction;else if(Bp(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),B0(a)}}}function F0(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function qp(n){this._internalRoot=n}yf.prototype.render=qp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=zn();M0(a,l,n,s,null,null)},yf.prototype.unmount=qp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;M0(n.current,2,null,n,null,null),Xh(),s[Mi]=null}};function yf(n){this._internalRoot=n}yf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<br.length&&s!==0&&s<br[a].priority;a++);br.splice(a,0,n),a===0&&j0(n)}};var q0=e.version;if(q0!=="19.2.0")throw Error(r(527,q0,"19.2.0"));ae.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var rC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ai=_f.inject(rC),Zt=_f}catch{}}return Gu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Xv,d=Wv,v=Jv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=D0(n,1,!1,null,null,a,l,null,f,d,v,F0),n[Mi]=s.current,Ap(n),new qp(s)},Gu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=Xv,v=Wv,T=Jv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=D0(n,1,!0,s,a??null,l,f,M,d,v,T,F0),s.context=O0(null),a=s.current,l=zn(),l=ca(l),f=ar(l),f.callback=null,or(a,f,l),a=l,s.current.lanes=a,la(s,a),$i(s),n[Mi]=s.current,Ap(n),new yf(s)},Gu.version="19.2.0",Gu}var eb;function pC(){if(eb)return Kp.exports;eb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Kp.exports=mC(),Kp.exports}var gC=pC();const yC=pS(gC);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tb="popstate";function _C(i={}){function e(r,o){let{pathname:u,search:c,hash:m}=r.location;return pg("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:cc(o)}return EC(e,t,null,i)}function gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vC(){return Math.random().toString(36).substring(2,10)}function nb(i,e){return{usr:i.state,key:i.key,idx:e}}function pg(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:t,key:e&&e.key||r||vC()}}function cc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function xl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function EC(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){m="POP";let L=_(),W=L==null?null:L-g;g=L,p&&p({action:m,location:V.location,delta:W})}function w(L,W){m="PUSH";let se=pg(V.location,L,W);g=_()+1;let X=nb(se,g),oe=V.createHref(se);try{c.pushState(X,"",oe)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(oe)}u&&p&&p({action:m,location:V.location,delta:1})}function D(L,W){m="REPLACE";let se=pg(V.location,L,W);g=_();let X=nb(se,g),oe=V.createHref(se);c.replaceState(X,"",oe),u&&p&&p({action:m,location:V.location,delta:0})}function z(L){return bC(L)}let V={get action(){return m},get location(){return i(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(tb,b),p=L,()=>{o.removeEventListener(tb,b),p=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let W=z(L);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:D,go(L){return c.go(L)}};return V}function bC(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:cc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function gS(i,e,t="/"){return TC(i,e,t,!1)}function TC(i,e,t,r){let o=typeof e=="string"?xl(e):e,u=js(o.pathname||"/",t);if(u==null)return null;let c=yS(i);SC(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=kC(u);m=OC(c[p],g,r)}return m}function yS(i,e=[],t=[],r="",o=!1){let u=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;gt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let b=Ps([r,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),yS(c.children,e,w,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:xC(b,c.index),routesMeta:w})};return i.forEach((c,m)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,m);else for(let g of _S(c.path))u(c,m,!0,g)}),e}function _S(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=_S(r.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function SC(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:DC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AC=/^:[\w-]+$/,wC=3,RC=2,CC=1,IC=10,NC=-2,ib=i=>i==="*";function xC(i,e){let t=i.split("/"),r=t.length;return t.some(ib)&&(r+=NC),e&&(r+=RC),t.filter(o=>!ib(o)).reduce((o,u)=>o+(AC.test(u)?wC:u===""?CC:IC),r)}function DC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function OC(i,e,t=!1){let{routesMeta:r}=i,o={},u="/",c=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=$f({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!b&&g&&t&&!r[r.length-1].route.index&&(b=$f({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Ps([u,b.pathname]),pathnameBase:UC(Ps([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Ps([u,b.pathnameBase]))}return c}function $f(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=MC(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:b},w)=>{if(_==="*"){let z=m[w]||"";c=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const D=m[w];return b&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function MC(i,e=!1,t=!0){Si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function kC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function js(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function LC(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?xl(i):i;return{pathname:t?t.startsWith("/")?t:PC(t,e):e,search:jC(r),hash:zC(o)}}function PC(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Wp(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ly(i){let e=VC(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function uy(i,e,t,r=!1){let o;typeof i=="string"?o=xl(i):(o={...i},gt(!o.pathname||!o.pathname.includes("?"),Wp("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Wp("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Wp("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=LC(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Ps=i=>i.join("/").replace(/\/\/+/g,"/"),UC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),jC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,zC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function BC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vS=["POST","PUT","PATCH","DELETE"];new Set(vS);var FC=["GET",...vS];new Set(FC);var Dl=Q.createContext(null);Dl.displayName="DataRouter";var _d=Q.createContext(null);_d.displayName="DataRouterState";Q.createContext(!1);var ES=Q.createContext({isTransitioning:!1});ES.displayName="ViewTransition";var qC=Q.createContext(new Map);qC.displayName="Fetchers";var HC=Q.createContext(null);HC.displayName="Await";var Ri=Q.createContext(null);Ri.displayName="Navigation";var Ic=Q.createContext(null);Ic.displayName="Location";var Ci=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var cy=Q.createContext(null);cy.displayName="RouteError";function GC(i,{relative:e}={}){gt(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(Ri),{hash:o,pathname:u,search:c}=Nc(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Ps([t,u])),r.createHref({pathname:m,search:c,hash:o})}function Ol(){return Q.useContext(Ic)!=null}function Jr(){return gt(Ol(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Ic).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(i){Q.useContext(Ri).static||Q.useLayoutEffect(i)}function vd(){let{isDataRoute:i}=Q.useContext(Ci);return i?sI():QC()}function QC(){gt(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(Dl),{basename:e,navigator:t}=Q.useContext(Ri),{matches:r}=Q.useContext(Ci),{pathname:o}=Jr(),u=JSON.stringify(ly(r)),c=Q.useRef(!1);return TS(()=>{c.current=!0}),Q.useCallback((p,g={})=>{if(Si(c.current,bS),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=uy(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ps([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}Q.createContext(null);function Ed(){let{matches:i}=Q.useContext(Ci),e=i[i.length-1];return e?e.params:{}}function Nc(i,{relative:e}={}){let{matches:t}=Q.useContext(Ci),{pathname:r}=Jr(),o=JSON.stringify(ly(t));return Q.useMemo(()=>uy(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function KC(i,e){return SS(i,e)}function SS(i,e,t,r,o){var se;gt(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Q.useContext(Ri),{matches:c}=Q.useContext(Ci),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";AS(g,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=Jr(),D;if(e){let X=typeof e=="string"?xl(e):e;gt(_==="/"||((se=X.pathname)==null?void 0:se.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=w;let z=D.pathname||"/",V=z;if(_!=="/"){let X=_.replace(/^\//,"").split("/");V="/"+z.replace(/^\//,"").split("/").slice(X.length).join("/")}let L=gS(i,{pathname:V});Si(b||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Si(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=JC(L&&L.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Ps([_,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:Ps([_,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,t,r,o);return e&&W?Q.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},W):W}function YC(){let i=iI(),e=BC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,c)}var $C=Q.createElement(YC,null),XC=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?Q.createElement(Ci.Provider,{value:this.props.routeContext},Q.createElement(cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WC({routeContext:i,match:e,children:t}){let r=Q.useContext(Dl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Ci.Provider,{value:i},t)}function JC(i,e=[],t=null,r=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,c=t==null?void 0:t.errors;if(c!=null){let g=u.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);gt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:b,errors:w}=t,D=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||D){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,b)=>{let w,D=!1,z=null,V=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,z=_.route.errorElement||$C,m&&(p<0&&b===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,V=null):p===b&&(D=!0,V=_.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,b+1)),W=()=>{let se;return w?se=z:D?se=V:_.route.Component?se=Q.createElement(_.route.Component,null):_.route.element?se=_.route.element:se=g,Q.createElement(WC,{match:_,routeContext:{outlet:g,matches:L,isDataRoute:t!=null},children:se})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?Q.createElement(XC,{location:t.location,revalidation:t.revalidation,component:z,error:w,children:W(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):W()},null)}function hy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(i){let e=Q.useContext(Dl);return gt(e,hy(i)),e}function eI(i){let e=Q.useContext(_d);return gt(e,hy(i)),e}function tI(i){let e=Q.useContext(Ci);return gt(e,hy(i)),e}function fy(i){let e=tI(i),t=e.matches[e.matches.length-1];return gt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function nI(){return fy("useRouteId")}function iI(){var r;let i=Q.useContext(cy),e=eI("useRouteError"),t=fy("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function sI(){let{router:i}=ZC("useNavigate"),e=fy("useNavigate"),t=Q.useRef(!1);return TS(()=>{t.current=!0}),Q.useCallback(async(o,u={})=>{Si(t.current,bS),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var sb={};function AS(i,e,t){!e&&!sb[i]&&(sb[i]=!0,Si(!1,t))}Q.memo(rI);function rI({routes:i,future:e,state:t,unstable_onError:r}){return SS(i,void 0,t,r,e)}function aI({to:i,replace:e,state:t,relative:r}){gt(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Ri);Si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(Ci),{pathname:c}=Jr(),m=vd(),p=uy(i,ly(u),c,r==="path"),g=JSON.stringify(p);return Q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:r})},[m,g,r,e,t]),null}function La(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oI({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:u=!1}){gt(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=xl(t));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:w="default"}=t,D=Q.useMemo(()=>{let z=js(p,c);return z==null?null:{location:{pathname:z,search:g,hash:_,state:b,key:w},navigationType:r}},[c,p,g,_,b,w,r]);return Si(D!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:Q.createElement(Ri.Provider,{value:m},Q.createElement(Ic.Provider,{children:e,value:D}))}function lI({children:i,location:e}){return KC(gg(i),e)}function gg(i,e=[]){let t=[];return Q.Children.forEach(i,(r,o)=>{if(!Q.isValidElement(r))return;let u=[...e,o];if(r.type===Q.Fragment){t.push.apply(t,gg(r.props.children,u));return}gt(r.type===La,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=gg(r.props.children,u)),t.push(c)}),t}var Pf="get",Vf="application/x-www-form-urlencoded";function bd(i){return i!=null&&typeof i.tagName=="string"}function uI(i){return bd(i)&&i.tagName.toLowerCase()==="button"}function cI(i){return bd(i)&&i.tagName.toLowerCase()==="form"}function hI(i){return bd(i)&&i.tagName.toLowerCase()==="input"}function fI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function dI(i,e){return i.button===0&&(!e||e==="_self")&&!fI(i)}var Ef=null;function mI(){if(Ef===null)try{new FormData(document.createElement("form"),0),Ef=!1}catch{Ef=!0}return Ef}var pI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jp(i){return i!=null&&!pI.has(i)?(Si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):i}function gI(i,e){let t,r,o,u,c;if(cI(i)){let m=i.getAttribute("action");r=m?js(m,e):null,t=i.getAttribute("method")||Pf,o=Jp(i.getAttribute("enctype"))||Vf,u=new FormData(i)}else if(uI(i)||hI(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?js(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Pf,o=Jp(i.getAttribute("formenctype"))||Jp(m.getAttribute("enctype"))||Vf,u=new FormData(m,i),!mI()){let{name:g,type:_,value:b}=i;if(_==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(bd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pf,r=null,o=Vf,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dy(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yI(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&js(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function _I(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function EI(i,e,t){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await _I(u,t);return c.links?c.links():[]}return[]}));return AI(r.flat(1).filter(vI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rb(i,e,t,r,o,u){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function bI(i,e,{includeHydrateFallback:t}={}){return TI(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function TI(i){return[...new Set(i)]}function SI(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function AI(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(SI(o));return t.has(u)||(t.add(u),r.push({key:u,link:o})),r},[])}function wS(){let i=Q.useContext(Dl);return dy(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function wI(){let i=Q.useContext(_d);return dy(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var my=Q.createContext(void 0);my.displayName="FrameworkContext";function RS(){let i=Q.useContext(my);return dy(i,"You must render this element inside a <HydratedRouter> element"),i}function RI(i,e){let t=Q.useContext(my),[r,o]=Q.useState(!1),[u,c]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,w=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let V=W=>{W.forEach(se=>{c(se.isIntersecting)})},L=new IntersectionObserver(V,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[i]),Q.useEffect(()=>{if(r){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[r]);let D=()=>{o(!0)},z=()=>{o(!1),c(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Qu(m,D),onBlur:Qu(p,z),onMouseEnter:Qu(g,D),onMouseLeave:Qu(_,z),onTouchStart:Qu(b,D)}]:[!1,w,{}]}function Qu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function CI({page:i,...e}){let{router:t}=wS(),r=Q.useMemo(()=>gS(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?Q.createElement(NI,{page:i,matches:r,...e}):null}function II(i){let{manifest:e,routeModules:t}=RS(),[r,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return EI(i,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,t]),r}function NI({page:i,matches:e,...t}){let r=Jr(),{manifest:o,routeModules:u}=RS(),{basename:c}=wS(),{loaderData:m,matches:p}=wI(),g=Q.useMemo(()=>rb(i,e,p,o,r,"data"),[i,e,p,o,r]),_=Q.useMemo(()=>rb(i,e,p,o,r,"assets"),[i,e,p,o,r]),b=Q.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let z=new Set,V=!1;if(e.forEach(W=>{var X;let se=o.routes[W.route.id];!se||!se.hasLoader||(!g.some(oe=>oe.route.id===W.route.id)&&W.route.id in m&&((X=u[W.route.id])!=null&&X.shouldRevalidate)||se.hasClientLoader?V=!0:z.add(W.route.id))}),z.size===0)return[];let L=yI(i,c,"data");return V&&z.size>0&&L.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[L.pathname+L.search]},[c,m,r,o,g,e,i,u]),w=Q.useMemo(()=>bI(_,o),[_,o]),D=II(_);return Q.createElement(Q.Fragment,null,b.map(z=>Q.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),w.map(z=>Q.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),D.map(({key:z,link:V})=>Q.createElement("link",{key:z,nonce:t.nonce,...V})))}function xI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CS&&(window.__reactRouterVersion="7.9.5")}catch{}function DI({basename:i,children:e,window:t}){let r=Q.useRef();r.current==null&&(r.current=_C({window:t,v5Compat:!0}));let o=r.current,[u,c]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>c(p))},[c]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(oI,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:b,...w},D){let{basename:z}=Q.useContext(Ri),V=typeof g=="string"&&IS.test(g),L,W=!1;if(typeof g=="string"&&V&&(L=g,CS))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),I=js(O.pathname,z);O.origin===R.origin&&I!=null?g=I+O.search+O.hash:W=!0}catch{Si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=GC(g,{relative:o}),[X,oe,re]=RI(r,w),me=LI(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function x(R){e&&e(R),R.defaultPrevented||me(R)}let S=Q.createElement("a",{...w,...re,href:L||se,onClick:W||u?e:x,ref:xI(D,oe),target:p,"data-discover":!V&&t==="render"?"true":void 0});return X&&!V?Q.createElement(Q.Fragment,null,S,Q.createElement(CI,{page:se})):S});bi.displayName="Link";var OI=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},_){let b=Nc(c,{relative:g.relative}),w=Jr(),D=Q.useContext(_d),{navigator:z,basename:V}=Q.useContext(Ri),L=D!=null&&zI(b)&&m===!0,W=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,se=w.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(se=se.toLowerCase(),X=X?X.toLowerCase():null,W=W.toLowerCase()),X&&V&&(X=js(X,V)||X);const oe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let re=se===W||!o&&se.startsWith(W)&&se.charAt(oe)==="/",me=X!=null&&(X===W||!o&&X.startsWith(W)&&X.charAt(W.length)==="/"),x={isActive:re,isPending:me,isTransitioning:L},S=re?e:void 0,R;typeof r=="function"?R=r(x):R=[r,re?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(x):u;return Q.createElement(bi,{...g,"aria-current":S,className:R,ref:_,style:O,to:c,viewTransition:m},typeof p=="function"?p(x):p)});OI.displayName="NavLink";var MI=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:u,method:c=Pf,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...w},D)=>{let z=UI(),V=jI(m,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&IS.test(m),se=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,re=(oe==null?void 0:oe.getAttribute("formmethod"))||c;z(oe||X.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return Q.createElement("form",{ref:D,method:L,action:V,onSubmit:r?p:se,...w,"data-discover":!W&&i==="render"?"true":void 0})});MI.displayName="Form";function kI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NS(i){let e=Q.useContext(Dl);return gt(e,kI(i)),e}function LI(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=vd(),p=Jr(),g=Nc(i,{relative:u});return Q.useCallback(_=>{if(dI(_,e)){_.preventDefault();let b=t!==void 0?t:cc(p)===cc(g);m(i,{replace:b,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,g,t,r,e,i,o,u,c])}var PI=0,VI=()=>`__${String(++PI)}__`;function UI(){let{router:i}=NS("useSubmit"),{basename:e}=Q.useContext(Ri),t=nI();return Q.useCallback(async(r,o={})=>{let{action:u,method:c,encType:m,formData:p,body:g}=gI(r,e);if(o.navigate===!1){let _=o.fetcherKey||VI();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function jI(i,{relative:e}={}){let{basename:t}=Q.useContext(Ri),r=Q.useContext(Ci);gt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Nc(i||".",{relative:e})},c=Jr();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ps([t,u.pathname])),cc(u)}function zI(i,{relative:e}={}){let t=Q.useContext(ES);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NS("useViewTransitionState"),o=Nc(i,{relative:e});if(!t.isTransitioning)return!1;let u=js(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=js(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $f(o.pathname,c)!=null||$f(o.pathname,u)!=null}var Ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},BI={setTimeout:(i,e)=>setTimeout(i,e),clearTimeout:i=>clearTimeout(i),setInterval:(i,e)=>setInterval(i,e),clearInterval:i=>clearInterval(i)},xr,ay,sS,FI=(sS=class{constructor(){_e(this,xr,BI);_e(this,ay,!1)}setTimeoutProvider(i){ce(this,xr,i)}setTimeout(i,e){return k(this,xr).setTimeout(i,e)}clearTimeout(i){k(this,xr).clearTimeout(i)}setInterval(i,e){return k(this,xr).setInterval(i,e)}clearInterval(i){k(this,xr).clearInterval(i)}},xr=new WeakMap,ay=new WeakMap,sS),Va=new FI;function qI(i){setTimeout(i,0)}var $a=typeof window>"u"||"Deno"in globalThis;function En(){}function HI(i,e){return typeof i=="function"?i(e):i}function yg(i){return typeof i=="number"&&i>=0&&i!==1/0}function xS(i,e){return Math.max(i+(e||0)-Date.now(),0)}function zr(i,e){return typeof i=="function"?i(e):i}function si(i,e){return typeof i=="function"?i(e):i}function ab(i,e){const{type:t="all",exact:r,fetchStatus:o,predicate:u,queryKey:c,stale:m}=i;if(c){if(r){if(e.queryHash!==py(c,e.options))return!1}else if(!hc(e.queryKey,c))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof m=="boolean"&&e.isStale()!==m||o&&o!==e.state.fetchStatus||u&&!u(e))}function ob(i,e){const{exact:t,status:r,predicate:o,mutationKey:u}=i;if(u){if(!e.options.mutationKey)return!1;if(t){if(Xa(e.options.mutationKey)!==Xa(u))return!1}else if(!hc(e.options.mutationKey,u))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function py(i,e){return((e==null?void 0:e.queryKeyHashFn)||Xa)(i)}function Xa(i){return JSON.stringify(i,(e,t)=>_g(t)?Object.keys(t).sort().reduce((r,o)=>(r[o]=t[o],r),{}):t)}function hc(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?Object.keys(e).every(t=>hc(i[t],e[t])):!1}var GI=Object.prototype.hasOwnProperty;function DS(i,e){if(i===e)return i;const t=lb(i)&&lb(e);if(!t&&!(_g(i)&&_g(e)))return e;const o=(t?i:Object.keys(i)).length,u=t?e:Object.keys(e),c=u.length,m=t?new Array(c):{};let p=0;for(let g=0;g<c;g++){const _=t?g:u[g],b=i[_],w=e[_];if(b===w){m[_]=b,(t?g<o:GI.call(i,_))&&p++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){m[_]=w;continue}const D=DS(b,w);m[_]=D,D===b&&p++}return o===c&&p===o?i:m}function Xf(i,e){if(!e||Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(i[t]!==e[t])return!1;return!0}function lb(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function _g(i){if(!ub(i))return!1;const e=i.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ub(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function ub(i){return Object.prototype.toString.call(i)==="[object Object]"}function QI(i){return new Promise(e=>{Va.setTimeout(e,i)})}function vg(i,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(i,e):t.structuralSharing!==!1?DS(i,e):e}function KI(i,e,t=0){const r=[...i,e];return t&&r.length>t?r.slice(1):r}function YI(i,e,t=0){const r=[e,...i];return t&&r.length>t?r.slice(0,-1):r}var gy=Symbol();function OS(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===gy?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function MS(i,e){return typeof i=="function"?i(...e):!!i}var ja,Dr,fl,rS,$I=(rS=class extends Ml{constructor(){super();_e(this,ja);_e(this,Dr);_e(this,fl);ce(this,fl,e=>{if(!$a&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){k(this,Dr)||this.setEventListener(k(this,fl))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Dr))==null||e.call(this),ce(this,Dr,void 0))}setEventListener(e){var t;ce(this,fl,e),(t=k(this,Dr))==null||t.call(this),ce(this,Dr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){k(this,ja)!==e&&(ce(this,ja,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof k(this,ja)=="boolean"?k(this,ja):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ja=new WeakMap,Dr=new WeakMap,fl=new WeakMap,rS),yy=new $I;function Eg(){let i,e;const t=new Promise((o,u)=>{i=o,e=u});t.status="pending",t.catch(()=>{});function r(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{r({status:"fulfilled",value:o}),i(o)},t.reject=o=>{r({status:"rejected",reason:o}),e(o)},t}var XI=qI;function WI(){let i=[],e=0,t=m=>{m()},r=m=>{m()},o=XI;const u=m=>{e?i.push(m):o(()=>{t(m)})},c=()=>{const m=i;i=[],m.length&&o(()=>{r(()=>{m.forEach(p=>{t(p)})})})};return{batch:m=>{let p;e++;try{p=m()}finally{e--,e||c()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{t=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{o=m}}}var Gt=WI(),dl,Or,ml,aS,JI=(aS=class extends Ml{constructor(){super();_e(this,dl,!0);_e(this,Or);_e(this,ml);ce(this,ml,e=>{if(!$a&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,Or)||this.setEventListener(k(this,ml))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Or))==null||e.call(this),ce(this,Or,void 0))}setEventListener(e){var t;ce(this,ml,e),(t=k(this,Or))==null||t.call(this),ce(this,Or,e(this.setOnline.bind(this)))}setOnline(e){k(this,dl)!==e&&(ce(this,dl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return k(this,dl)}},dl=new WeakMap,Or=new WeakMap,ml=new WeakMap,aS),Wf=new JI;function ZI(i){return Math.min(1e3*2**i,3e4)}function kS(i){return(i??"online")==="online"?Wf.isOnline():!0}var bg=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function LS(i){let e=!1,t=0,r;const o=Eg(),u=()=>o.status!=="pending",c=V=>{var L;if(!u()){const W=new bg(V);w(W),(L=i.onCancel)==null||L.call(i,W)}},m=()=>{e=!0},p=()=>{e=!1},g=()=>yy.isFocused()&&(i.networkMode==="always"||Wf.isOnline())&&i.canRun(),_=()=>kS(i.networkMode)&&i.canRun(),b=V=>{u()||(r==null||r(),o.resolve(V))},w=V=>{u()||(r==null||r(),o.reject(V))},D=()=>new Promise(V=>{var L;r=W=>{(u()||g())&&V(W)},(L=i.onPause)==null||L.call(i)}).then(()=>{var V;r=void 0,u()||(V=i.onContinue)==null||V.call(i)}),z=()=>{if(u())return;let V;const L=t===0?i.initialPromise:void 0;try{V=L??i.fn()}catch(W){V=Promise.reject(W)}Promise.resolve(V).then(b).catch(W=>{var me;if(u())return;const se=i.retry??($a?0:3),X=i.retryDelay??ZI,oe=typeof X=="function"?X(t,W):X,re=se===!0||typeof se=="number"&&t<se||typeof se=="function"&&se(t,W);if(e||!re){w(W);return}t++,(me=i.onFail)==null||me.call(i,t,W),QI(oe).then(()=>g()?void 0:D()).then(()=>{e?w(W):z()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(r==null||r(),o),cancelRetry:m,continueRetry:p,canStart:_,start:()=>(_()?z():D().then(z),o)}}var za,oS,PS=(oS=class{constructor(){_e(this,za)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yg(this.gcTime)&&ce(this,za,Va.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??($a?1/0:300*1e3))}clearGcTimeout(){k(this,za)&&(Va.clearTimeout(k(this,za)),ce(this,za,void 0))}},za=new WeakMap,oS),Ba,pl,ii,Fa,Wt,Sc,qa,_i,Ns,lS,e2=(lS=class extends PS{constructor(t){super();_e(this,_i);_e(this,Ba);_e(this,pl);_e(this,ii);_e(this,Fa);_e(this,Wt);_e(this,Sc);_e(this,qa);ce(this,qa,!1),ce(this,Sc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,Fa,t.client),ce(this,ii,k(this,Fa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Ba,cb(this.options)),this.state=t.state??k(this,Ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,Wt))==null?void 0:t.promise}setOptions(t){if(this.options={...k(this,Sc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ce(this,Ba,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,ii).remove(this)}setData(t,r){const o=vg(this.state.data,t,this.options);return Oe(this,_i,Ns).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(t,r){Oe(this,_i,Ns).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var o,u;const r=(o=k(this,Wt))==null?void 0:o.promise;return(u=k(this,Wt))==null||u.cancel(t),r?r.then(En).catch(En):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Ba))}isActive(){return this.observers.some(t=>si(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!xS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Wt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Wt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,ii).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,Wt)&&(k(this,qa)?k(this,Wt).cancel({revert:!0}):k(this,Wt).cancelRetry()),this.scheduleGc()),k(this,ii).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,_i,Ns).call(this,{type:"invalidate"})}async fetch(t,r){var g,_,b,w,D,z,V,L,W,se,X,oe;if(this.state.fetchStatus!=="idle"&&((g=k(this,Wt))==null?void 0:g.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,Wt))return k(this,Wt).continueRetry(),k(this,Wt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const re=this.observers.find(me=>me.options.queryFn);re&&this.setOptions(re.options)}const o=new AbortController,u=re=>{Object.defineProperty(re,"signal",{enumerable:!0,get:()=>(ce(this,qa,!0),o.signal)})},c=()=>{const re=OS(this.options,r),x=(()=>{const S={client:k(this,Fa),queryKey:this.queryKey,meta:this.meta};return u(S),S})();return ce(this,qa,!1),this.options.persister?this.options.persister(re,x,this):re(x)},p=(()=>{const re={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:k(this,Fa),state:this.state,fetchFn:c};return u(re),re})();(_=this.options.behavior)==null||_.onFetch(p,this),ce(this,pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=p.fetchOptions)==null?void 0:b.meta))&&Oe(this,_i,Ns).call(this,{type:"fetch",meta:(w=p.fetchOptions)==null?void 0:w.meta}),ce(this,Wt,LS({initialPromise:r==null?void 0:r.initialPromise,fn:p.fetchFn,onCancel:re=>{re instanceof bg&&re.revert&&this.setState({...k(this,pl),fetchStatus:"idle"}),o.abort()},onFail:(re,me)=>{Oe(this,_i,Ns).call(this,{type:"failed",failureCount:re,error:me})},onPause:()=>{Oe(this,_i,Ns).call(this,{type:"pause"})},onContinue:()=>{Oe(this,_i,Ns).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const re=await k(this,Wt).start();if(re===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(re),(z=(D=k(this,ii).config).onSuccess)==null||z.call(D,re,this),(L=(V=k(this,ii).config).onSettled)==null||L.call(V,re,this.state.error,this),re}catch(re){if(re instanceof bg){if(re.silent)return k(this,Wt).promise;if(re.revert){if(this.state.data===void 0)throw re;return this.state.data}}throw Oe(this,_i,Ns).call(this,{type:"error",error:re}),(se=(W=k(this,ii).config).onError)==null||se.call(W,re,this),(oe=(X=k(this,ii).config).onSettled)==null||oe.call(X,this.state.data,re,this),re}finally{this.scheduleGc()}}},Ba=new WeakMap,pl=new WeakMap,ii=new WeakMap,Fa=new WeakMap,Wt=new WeakMap,Sc=new WeakMap,qa=new WeakMap,_i=new WeakSet,Ns=function(t){const r=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...VS(o.data,this.options),fetchMeta:t.meta??null};case"success":const u={...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,pl,t.manual?u:void 0),u;case"error":const c=t.error;return{...o,error:c,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=r(this.state),Gt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),k(this,ii).notify({query:this,type:"updated",action:t})})},lS);function VS(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kS(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function cb(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,t=e!==void 0,r=t?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var In,ze,Ac,_n,Ha,gl,xs,Mr,wc,yl,_l,Ga,Qa,kr,vl,Xe,Wu,Tg,Sg,Ag,wg,Rg,Cg,Ig,US,uS,t2=(uS=class extends Ml{constructor(e,t){super();_e(this,Xe);_e(this,In);_e(this,ze);_e(this,Ac);_e(this,_n);_e(this,Ha);_e(this,gl);_e(this,xs);_e(this,Mr);_e(this,wc);_e(this,yl);_e(this,_l);_e(this,Ga);_e(this,Qa);_e(this,kr);_e(this,vl,new Set);this.options=t,ce(this,In,e),ce(this,Mr,null),ce(this,xs,Eg()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,ze).addObserver(this),hb(k(this,ze),this.options)?Oe(this,Xe,Wu).call(this):this.updateResult(),Oe(this,Xe,wg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ng(k(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ng(k(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Xe,Rg).call(this),Oe(this,Xe,Cg).call(this),k(this,ze).removeObserver(this)}setOptions(e){const t=this.options,r=k(this,ze);if(this.options=k(this,In).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof si(this.options.enabled,k(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,Xe,Ig).call(this),k(this,ze).setOptions(this.options),t._defaulted&&!Xf(this.options,t)&&k(this,In).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,ze),observer:this});const o=this.hasListeners();o&&fb(k(this,ze),r,this.options,t)&&Oe(this,Xe,Wu).call(this),this.updateResult(),o&&(k(this,ze)!==r||si(this.options.enabled,k(this,ze))!==si(t.enabled,k(this,ze))||zr(this.options.staleTime,k(this,ze))!==zr(t.staleTime,k(this,ze)))&&Oe(this,Xe,Tg).call(this);const u=Oe(this,Xe,Sg).call(this);o&&(k(this,ze)!==r||si(this.options.enabled,k(this,ze))!==si(t.enabled,k(this,ze))||u!==k(this,kr))&&Oe(this,Xe,Ag).call(this,u)}getOptimisticResult(e){const t=k(this,In).getQueryCache().build(k(this,In),e),r=this.createResult(t,e);return i2(this,r)&&(ce(this,_n,r),ce(this,gl,this.options),ce(this,Ha,k(this,ze).state)),r}getCurrentResult(){return k(this,_n)}trackResult(e,t){return new Proxy(e,{get:(r,o)=>(this.trackProp(o),t==null||t(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&k(this,xs).status==="pending"&&k(this,xs).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,o))})}trackProp(e){k(this,vl).add(e)}getCurrentQuery(){return k(this,ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=k(this,In).defaultQueryOptions(e),r=k(this,In).getQueryCache().build(k(this,In),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Oe(this,Xe,Wu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,_n)))}createResult(e,t){var R;const r=k(this,ze),o=this.options,u=k(this,_n),c=k(this,Ha),m=k(this,gl),g=e!==r?e.state:k(this,Ac),{state:_}=e;let b={..._},w=!1,D;if(t._optimisticResults){const O=this.hasListeners(),I=!O&&hb(e,t),j=O&&fb(e,r,t,o);(I||j)&&(b={...b,...VS(_.data,e.options)}),t._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:z,errorUpdatedAt:V,status:L}=b;D=b.data;let W=!1;if(t.placeholderData!==void 0&&D===void 0&&L==="pending"){let O;u!=null&&u.isPlaceholderData&&t.placeholderData===(m==null?void 0:m.placeholderData)?(O=u.data,W=!0):O=typeof t.placeholderData=="function"?t.placeholderData((R=k(this,_l))==null?void 0:R.state.data,k(this,_l)):t.placeholderData,O!==void 0&&(L="success",D=vg(u==null?void 0:u.data,O,t),w=!0)}if(t.select&&D!==void 0&&!W)if(u&&D===(c==null?void 0:c.data)&&t.select===k(this,wc))D=k(this,yl);else try{ce(this,wc,t.select),D=t.select(D),D=vg(u==null?void 0:u.data,D,t),ce(this,yl,D),ce(this,Mr,null)}catch(O){ce(this,Mr,O)}k(this,Mr)&&(z=k(this,Mr),D=k(this,yl),V=Date.now(),L="error");const se=b.fetchStatus==="fetching",X=L==="pending",oe=L==="error",re=X&&se,me=D!==void 0,S={status:L,fetchStatus:b.fetchStatus,isPending:X,isSuccess:L==="success",isError:oe,isInitialLoading:re,isLoading:re,data:D,dataUpdatedAt:b.dataUpdatedAt,error:z,errorUpdatedAt:V,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:se,isRefetching:se&&!X,isLoadingError:oe&&!me,isPaused:b.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:oe&&me,isStale:_y(e,t),refetch:this.refetch,promise:k(this,xs),isEnabled:si(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=N=>{S.status==="error"?N.reject(S.error):S.data!==void 0&&N.resolve(S.data)},I=()=>{const N=ce(this,xs,S.promise=Eg());O(N)},j=k(this,xs);switch(j.status){case"pending":e.queryHash===r.queryHash&&O(j);break;case"fulfilled":(S.status==="error"||S.data!==j.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==j.reason)&&I();break}}return S}updateResult(){const e=k(this,_n),t=this.createResult(k(this,ze),this.options);if(ce(this,Ha,k(this,ze).state),ce(this,gl,this.options),k(this,Ha).data!==void 0&&ce(this,_l,k(this,ze)),Xf(t,e))return;ce(this,_n,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!k(this,vl).size)return!0;const c=new Set(u??k(this,vl));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,_n)).some(m=>{const p=m;return k(this,_n)[p]!==e[p]&&c.has(p)})};Oe(this,Xe,US).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Xe,wg).call(this)}},In=new WeakMap,ze=new WeakMap,Ac=new WeakMap,_n=new WeakMap,Ha=new WeakMap,gl=new WeakMap,xs=new WeakMap,Mr=new WeakMap,wc=new WeakMap,yl=new WeakMap,_l=new WeakMap,Ga=new WeakMap,Qa=new WeakMap,kr=new WeakMap,vl=new WeakMap,Xe=new WeakSet,Wu=function(e){Oe(this,Xe,Ig).call(this);let t=k(this,ze).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(En)),t},Tg=function(){Oe(this,Xe,Rg).call(this);const e=zr(this.options.staleTime,k(this,ze));if($a||k(this,_n).isStale||!yg(e))return;const r=xS(k(this,_n).dataUpdatedAt,e)+1;ce(this,Ga,Va.setTimeout(()=>{k(this,_n).isStale||this.updateResult()},r))},Sg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,ze)):this.options.refetchInterval)??!1},Ag=function(e){Oe(this,Xe,Cg).call(this),ce(this,kr,e),!($a||si(this.options.enabled,k(this,ze))===!1||!yg(k(this,kr))||k(this,kr)===0)&&ce(this,Qa,Va.setInterval(()=>{(this.options.refetchIntervalInBackground||yy.isFocused())&&Oe(this,Xe,Wu).call(this)},k(this,kr)))},wg=function(){Oe(this,Xe,Tg).call(this),Oe(this,Xe,Ag).call(this,Oe(this,Xe,Sg).call(this))},Rg=function(){k(this,Ga)&&(Va.clearTimeout(k(this,Ga)),ce(this,Ga,void 0))},Cg=function(){k(this,Qa)&&(Va.clearInterval(k(this,Qa)),ce(this,Qa,void 0))},Ig=function(){const e=k(this,In).getQueryCache().build(k(this,In),this.options);if(e===k(this,ze))return;const t=k(this,ze);ce(this,ze,e),ce(this,Ac,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},US=function(e){Gt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(k(this,_n))}),k(this,In).getQueryCache().notify({query:k(this,ze),type:"observerResultsUpdated"})})},uS);function n2(i,e){return si(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function hb(i,e){return n2(i,e)||i.state.data!==void 0&&Ng(i,e,e.refetchOnMount)}function Ng(i,e,t){if(si(e.enabled,i)!==!1&&zr(e.staleTime,i)!=="static"){const r=typeof t=="function"?t(i):t;return r==="always"||r!==!1&&_y(i,e)}return!1}function fb(i,e,t,r){return(i!==e||si(r.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&_y(i,t)}function _y(i,e){return si(e.enabled,i)!==!1&&i.isStaleByTime(zr(e.staleTime,i))}function i2(i,e){return!Xf(i.getCurrentResult(),e)}function db(i){return{onFetch:(e,t)=>{var _,b,w,D,z;const r=e.options,o=(w=(b=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,u=((D=e.state.data)==null?void 0:D.pages)||[],c=((z=e.state.data)==null?void 0:z.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const g=async()=>{let V=!1;const L=X=>{Object.defineProperty(X,"signal",{enumerable:!0,get:()=>(e.signal.aborted?V=!0:e.signal.addEventListener("abort",()=>{V=!0}),e.signal)})},W=OS(e.options,e.fetchOptions),se=async(X,oe,re)=>{if(V)return Promise.reject();if(oe==null&&X.pages.length)return Promise.resolve(X);const x=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:oe,direction:re?"backward":"forward",meta:e.options.meta};return L(I),I})(),S=await W(x),{maxPages:R}=e.options,O=re?YI:KI;return{pages:O(X.pages,S,R),pageParams:O(X.pageParams,oe,R)}};if(o&&u.length){const X=o==="backward",oe=X?s2:mb,re={pages:u,pageParams:c},me=oe(r,re);m=await se(re,me,X)}else{const X=i??u.length;do{const oe=p===0?c[0]??r.initialPageParam:mb(r,m);if(p>0&&oe==null)break;m=await se(m,oe),p++}while(p<X)}return m};e.options.persister?e.fetchFn=()=>{var V,L;return(L=(V=e.options).persister)==null?void 0:L.call(V,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=g}}}function mb(i,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?i.getNextPageParam(e[r],e,t[r],t):void 0}function s2(i,{pages:e,pageParams:t}){var r;return e.length>0?(r=i.getPreviousPageParam)==null?void 0:r.call(i,e[0],e,t[0],t):void 0}var Rc,Wi,vn,Ka,Ji,Ar,cS,r2=(cS=class extends PS{constructor(t){super();_e(this,Ji);_e(this,Rc);_e(this,Wi);_e(this,vn);_e(this,Ka);ce(this,Rc,t.client),this.mutationId=t.mutationId,ce(this,vn,t.mutationCache),ce(this,Wi,[]),this.state=t.state||jS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Wi).includes(t)||(k(this,Wi).push(t),this.clearGcTimeout(),k(this,vn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,Wi,k(this,Wi).filter(r=>r!==t)),this.scheduleGc(),k(this,vn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():k(this,vn).remove(this))}continue(){var t;return((t=k(this,Ka))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var m,p,g,_,b,w,D,z,V,L,W,se,X,oe,re,me,x,S,R,O;const r=()=>{Oe(this,Ji,Ar).call(this,{type:"continue"})},o={client:k(this,Rc),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Ka,LS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,o):Promise.reject(new Error("No mutationFn found")),onFail:(I,j)=>{Oe(this,Ji,Ar).call(this,{type:"failed",failureCount:I,error:j})},onPause:()=>{Oe(this,Ji,Ar).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,vn).canRun(this)}));const u=this.state.status==="pending",c=!k(this,Ka).canStart();try{if(u)r();else{Oe(this,Ji,Ar).call(this,{type:"pending",variables:t,isPaused:c}),await((p=(m=k(this,vn).config).onMutate)==null?void 0:p.call(m,t,this,o));const j=await((_=(g=this.options).onMutate)==null?void 0:_.call(g,t,o));j!==this.state.context&&Oe(this,Ji,Ar).call(this,{type:"pending",context:j,variables:t,isPaused:c})}const I=await k(this,Ka).start();return await((w=(b=k(this,vn).config).onSuccess)==null?void 0:w.call(b,I,t,this.state.context,this,o)),await((z=(D=this.options).onSuccess)==null?void 0:z.call(D,I,t,this.state.context,o)),await((L=(V=k(this,vn).config).onSettled)==null?void 0:L.call(V,I,null,this.state.variables,this.state.context,this,o)),await((se=(W=this.options).onSettled)==null?void 0:se.call(W,I,null,t,this.state.context,o)),Oe(this,Ji,Ar).call(this,{type:"success",data:I}),I}catch(I){try{throw await((oe=(X=k(this,vn).config).onError)==null?void 0:oe.call(X,I,t,this.state.context,this,o)),await((me=(re=this.options).onError)==null?void 0:me.call(re,I,t,this.state.context,o)),await((S=(x=k(this,vn).config).onSettled)==null?void 0:S.call(x,void 0,I,this.state.variables,this.state.context,this,o)),await((O=(R=this.options).onSettled)==null?void 0:O.call(R,void 0,I,t,this.state.context,o)),I}finally{Oe(this,Ji,Ar).call(this,{type:"error",error:I})}}finally{k(this,vn).runNext(this)}}},Rc=new WeakMap,Wi=new WeakMap,vn=new WeakMap,Ka=new WeakMap,Ji=new WeakSet,Ar=function(t){const r=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gt.batch(()=>{k(this,Wi).forEach(o=>{o.onMutationUpdate(t)}),k(this,vn).notify({mutation:this,type:"updated",action:t})})},cS);function jS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ds,vi,Cc,hS,a2=(hS=class extends Ml{constructor(e={}){super();_e(this,Ds);_e(this,vi);_e(this,Cc);this.config=e,ce(this,Ds,new Set),ce(this,vi,new Map),ce(this,Cc,0)}build(e,t,r){const o=new r2({client:e,mutationCache:this,mutationId:++vf(this,Cc)._,options:e.defaultMutationOptions(t),state:r});return this.add(o),o}add(e){k(this,Ds).add(e);const t=bf(e);if(typeof t=="string"){const r=k(this,vi).get(t);r?r.push(e):k(this,vi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,Ds).delete(e)){const t=bf(e);if(typeof t=="string"){const r=k(this,vi).get(t);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&k(this,vi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=bf(e);if(typeof t=="string"){const r=k(this,vi).get(t),o=r==null?void 0:r.find(u=>u.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const t=bf(e);if(typeof t=="string"){const o=(r=k(this,vi).get(t))==null?void 0:r.find(u=>u!==e&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gt.batch(()=>{k(this,Ds).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,Ds).clear(),k(this,vi).clear()})}getAll(){return Array.from(k(this,Ds))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ob(t,r))}findAll(e={}){return this.getAll().filter(t=>ob(e,t))}notify(e){Gt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Gt.batch(()=>Promise.all(e.map(t=>t.continue().catch(En))))}},Ds=new WeakMap,vi=new WeakMap,Cc=new WeakMap,hS);function bf(i){var e;return(e=i.options.scope)==null?void 0:e.id}var Os,Lr,Nn,Ms,Us,Uf,xg,fS,o2=(fS=class extends Ml{constructor(t,r){super();_e(this,Us);_e(this,Os);_e(this,Lr);_e(this,Nn);_e(this,Ms);ce(this,Os,t),this.setOptions(r),this.bindMethods(),Oe(this,Us,Uf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const r=this.options;this.options=k(this,Os).defaultMutationOptions(t),Xf(this.options,r)||k(this,Os).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Xa(r.mutationKey)!==Xa(this.options.mutationKey)?this.reset():((o=k(this,Nn))==null?void 0:o.state.status)==="pending"&&k(this,Nn).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=k(this,Nn))==null||t.removeObserver(this)}onMutationUpdate(t){Oe(this,Us,Uf).call(this),Oe(this,Us,xg).call(this,t)}getCurrentResult(){return k(this,Lr)}reset(){var t;(t=k(this,Nn))==null||t.removeObserver(this),ce(this,Nn,void 0),Oe(this,Us,Uf).call(this),Oe(this,Us,xg).call(this)}mutate(t,r){var o;return ce(this,Ms,r),(o=k(this,Nn))==null||o.removeObserver(this),ce(this,Nn,k(this,Os).getMutationCache().build(k(this,Os),this.options)),k(this,Nn).addObserver(this),k(this,Nn).execute(t)}},Os=new WeakMap,Lr=new WeakMap,Nn=new WeakMap,Ms=new WeakMap,Us=new WeakSet,Uf=function(){var r;const t=((r=k(this,Nn))==null?void 0:r.state)??jS();ce(this,Lr,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},xg=function(t){Gt.batch(()=>{var r,o,u,c,m,p,g,_;if(k(this,Ms)&&this.hasListeners()){const b=k(this,Lr).variables,w=k(this,Lr).context,D={client:k(this,Os),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((o=(r=k(this,Ms)).onSuccess)==null||o.call(r,t.data,b,w,D),(c=(u=k(this,Ms)).onSettled)==null||c.call(u,t.data,null,b,w,D)):(t==null?void 0:t.type)==="error"&&((p=(m=k(this,Ms)).onError)==null||p.call(m,t.error,b,w,D),(_=(g=k(this,Ms)).onSettled)==null||_.call(g,void 0,t.error,b,w,D))}this.listeners.forEach(b=>{b(k(this,Lr))})})},fS),Zi,dS,l2=(dS=class extends Ml{constructor(e={}){super();_e(this,Zi);this.config=e,ce(this,Zi,new Map)}build(e,t,r){const o=t.queryKey,u=t.queryHash??py(o,t);let c=this.get(u);return c||(c=new e2({client:e,queryKey:o,queryHash:u,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(c)),c}add(e){k(this,Zi).has(e.queryHash)||(k(this,Zi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=k(this,Zi).get(e.queryHash);t&&(e.destroy(),t===e&&k(this,Zi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Zi).get(e)}getAll(){return[...k(this,Zi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ab(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ab(e,r)):t}notify(e){Gt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zi=new WeakMap,dS),Tt,Pr,Vr,El,bl,Ur,Tl,Sl,mS,u2=(mS=class{constructor(i={}){_e(this,Tt);_e(this,Pr);_e(this,Vr);_e(this,El);_e(this,bl);_e(this,Ur);_e(this,Tl);_e(this,Sl);ce(this,Tt,i.queryCache||new l2),ce(this,Pr,i.mutationCache||new a2),ce(this,Vr,i.defaultOptions||{}),ce(this,El,new Map),ce(this,bl,new Map),ce(this,Ur,0)}mount(){vf(this,Ur)._++,k(this,Ur)===1&&(ce(this,Tl,yy.subscribe(async i=>{i&&(await this.resumePausedMutations(),k(this,Tt).onFocus())})),ce(this,Sl,Wf.subscribe(async i=>{i&&(await this.resumePausedMutations(),k(this,Tt).onOnline())})))}unmount(){var i,e;vf(this,Ur)._--,k(this,Ur)===0&&((i=k(this,Tl))==null||i.call(this),ce(this,Tl,void 0),(e=k(this,Sl))==null||e.call(this),ce(this,Sl,void 0))}isFetching(i){return k(this,Tt).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return k(this,Pr).findAll({...i,status:"pending"}).length}getQueryData(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=k(this,Tt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),t=k(this,Tt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(i):(i.revalidateIfStale&&t.isStaleByTime(zr(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(i){return k(this,Tt).findAll(i).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(i,e,t){const r=this.defaultQueryOptions({queryKey:i}),o=k(this,Tt).get(r.queryHash),u=o==null?void 0:o.state.data,c=HI(e,u);if(c!==void 0)return k(this,Tt).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(i,e,t){return Gt.batch(()=>k(this,Tt).findAll(i).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=k(this,Tt).get(e.queryHash))==null?void 0:t.state}removeQueries(i){const e=k(this,Tt);Gt.batch(()=>{e.findAll(i).forEach(t=>{e.remove(t)})})}resetQueries(i,e){const t=k(this,Tt);return Gt.batch(()=>(t.findAll(i).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const t={revert:!0,...e},r=Gt.batch(()=>k(this,Tt).findAll(i).map(o=>o.cancel(t)));return Promise.all(r).then(En).catch(En)}invalidateQueries(i,e={}){return Gt.batch(()=>(k(this,Tt).findAll(i).forEach(t=>{t.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Gt.batch(()=>k(this,Tt).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,t);return t.throwOnError||(u=u.catch(En)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(En)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const t=k(this,Tt).build(this,e);return t.isStaleByTime(zr(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(En).catch(En)}fetchInfiniteQuery(i){return i.behavior=db(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(En).catch(En)}ensureInfiniteQueryData(i){return i.behavior=db(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Wf.isOnline()?k(this,Pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Tt)}getMutationCache(){return k(this,Pr)}getDefaultOptions(){return k(this,Vr)}setDefaultOptions(i){ce(this,Vr,i)}setQueryDefaults(i,e){k(this,El).set(Xa(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...k(this,El).values()],t={};return e.forEach(r=>{hc(i,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(i,e){k(this,bl).set(Xa(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...k(this,bl).values()],t={};return e.forEach(r=>{hc(i,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(i){if(i._defaulted)return i;const e={...k(this,Vr).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=py(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gy&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...k(this,Vr).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){k(this,Tt).clear(),k(this,Pr).clear()}},Tt=new WeakMap,Pr=new WeakMap,Vr=new WeakMap,El=new WeakMap,bl=new WeakMap,Ur=new WeakMap,Tl=new WeakMap,Sl=new WeakMap,mS),zS=Q.createContext(void 0),vy=i=>{const e=Q.useContext(zS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},c2=({client:i,children:e})=>(Q.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),C.jsx(zS.Provider,{value:i,children:e})),BS=Q.createContext(!1),h2=()=>Q.useContext(BS);BS.Provider;function f2(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var d2=Q.createContext(f2()),m2=()=>Q.useContext(d2),p2=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},g2=i=>{Q.useEffect(()=>{i.clearReset()},[i])},y2=({result:i,errorResetBoundary:e,throwOnError:t,query:r,suspense:o})=>i.isError&&!e.isReset()&&!i.isFetching&&r&&(o&&i.data===void 0||MS(t,[i.error,r])),_2=i=>{if(i.suspense){const t=o=>o==="static"?o:Math.max(o??1e3,1e3),r=i.staleTime;i.staleTime=typeof r=="function"?(...o)=>t(r(...o)):t(r),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},v2=(i,e)=>i.isLoading&&i.isFetching&&!e,E2=(i,e)=>(i==null?void 0:i.suspense)&&e.isPending,pb=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function b2(i,e,t){var b,w,D,z,V;const r=h2(),o=m2(),u=vy(),c=u.defaultQueryOptions(i);(w=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||w.call(b,c),c._optimisticResults=r?"isRestoring":"optimistic",_2(c),p2(c,o),g2(o);const m=!u.getQueryCache().get(c.queryHash),[p]=Q.useState(()=>new e(u,c)),g=p.getOptimisticResult(c),_=!r&&i.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(L=>{const W=_?p.subscribe(Gt.batchCalls(L)):En;return p.updateResult(),W},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Q.useEffect(()=>{p.setOptions(c)},[c,p]),E2(c,g))throw pb(c,p,o);if(y2({result:g,errorResetBoundary:o,throwOnError:c.throwOnError,query:u.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((z=(D=u.getDefaultOptions().queries)==null?void 0:D._experimental_afterQuery)==null||z.call(D,c,g),c.experimental_prefetchInRender&&!$a&&v2(g,r)){const L=m?pb(c,p,o):(V=u.getQueryCache().get(c.queryHash))==null?void 0:V.promise;L==null||L.catch(En).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?g:p.trackResult(g)}function Ey(i,e){return b2(i,t2)}function Zp(i,e){const t=vy(),[r]=Q.useState(()=>new o2(t,i));Q.useEffect(()=>{r.setOptions(i)},[r,i]);const o=Q.useSyncExternalStore(Q.useCallback(c=>r.subscribe(Gt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=Q.useCallback((c,m)=>{r.mutate(c,m).catch(En)},[r]);if(o.error&&MS(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const T2=()=>{};var gb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},S2=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],c=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,D=g&63;p||(D=64,c||(w=64)),r.push(t[_],t[b],t[w],t[D])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(FS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):S2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new A2;const w=u<<2|m>>4;if(r.push(w),g!==64){const D=m<<4&240|g>>2;if(r.push(D),b!==64){const z=g<<6&192|b;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class A2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w2=function(i){const e=FS(i);return qS.encodeByteArray(e,!0)},Jf=function(i){return w2(i).replace(/\./g,"")},HS=function(i){try{return qS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=()=>R2().__FIREBASE_DEFAULTS__,I2=()=>{if(typeof process>"u"||typeof gb>"u")return;const i=gb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},N2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&HS(i[1]);return e&&JSON.parse(e)},Td=()=>{try{return T2()||C2()||I2()||N2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},GS=i=>{var e,t;return(t=(e=Td())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},QS=i=>{const e=GS(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},KS=()=>{var i;return(i=Td())==null?void 0:i.config},YS=i=>{var e;return(e=Td())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function by(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Jf(JSON.stringify(t)),Jf(JSON.stringify(c)),""].join(".")}const ic={};function D2(){const i={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?i.emulator.push(e):i.prod.push(e);return i}function O2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let yb=!1;function Ty(i,e){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||ic[i]===e||ic[i]||yb)return;ic[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=D2().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{yb=!0,c()},w}function _(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=O2(r),D=t("text"),z=document.getElementById(D)||document.createElement("span"),V=t("learnmore"),L=document.getElementById(V)||document.createElement("a"),W=t("preprendIcon"),se=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;m(X),_(L,V);const oe=g();p(se,W),X.append(se,z,L,oe),document.body.appendChild(X)}u?(z.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function k2(){var e;const i=(e=Td())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function V2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U2(){const i=dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function j2(){return!k2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z2(){try{return typeof indexedDB=="object"}catch{return!1}}function B2(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="FirebaseError";class us extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=F2,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?q2(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new us(o,m,r)}}function q2(i,e){return i.replace(H2,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const H2=/\{\$([^}]+)}/g;function G2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Wa(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=i[o],c=e[o];if(_b(u)&&_b(c)){if(!Wa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function _b(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function Q2(i,e){const t=new K2(i,e);return t.subscribe.bind(t)}class K2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Y2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=eg),o.error===void 0&&(o.error=eg),o.complete===void 0&&(o.complete=eg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(i){return i&&i._delegate?i._delegate:i}let Zf=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new x2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W2(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X2(i){return i===Pa?void 0:i}function W2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ht||(ht={}));const Z2={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},eN=ht.INFO,tN={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},nN=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=tN[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let iN=class{constructor(e){this.name=e,this._logLevel=eN,this._logHandler=nN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}};const sN=(i,e)=>e.some(t=>i instanceof t);let vb,Eb;function rN(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aN(){return Eb||(Eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,Dg=new WeakMap,WS=new WeakMap,tg=new WeakMap,Sy=new WeakMap;function oN(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{t(Br(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&XS.set(t,i)}).catch(()=>{}),Sy.set(e,i),e}function lN(i){if(Dg.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Dg.set(i,e)}let Og={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Dg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||WS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Br(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uN(i){Og=i(Og)}function cN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(ng(this),e,...t);return WS.set(r,e.sort?e.sort():[e]),Br(r)}:aN().includes(i)?function(...e){return i.apply(ng(this),e),Br(XS.get(this))}:function(...e){return Br(i.apply(ng(this),e))}}function hN(i){return typeof i=="function"?cN(i):(i instanceof IDBTransaction&&lN(i),sN(i,rN())?new Proxy(i,Og):i)}function Br(i){if(i instanceof IDBRequest)return oN(i);if(tg.has(i))return tg.get(i);const e=hN(i);return e!==i&&(tg.set(i,e),Sy.set(e,i)),e}const ng=i=>Sy.get(i);function fN(i,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=Br(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Br(c.result),p.oldVersion,p.newVersion,Br(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const dN=["get","getKey","getAll","getAllKeys","count"],mN=["put","add","delete","clear"],ig=new Map;function bb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=mN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||dN.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return ig.set(e,u),u}uN(i=>({...i,get:(e,t,r)=>bb(e,t)||i.get(e,t,r),has:(e,t)=>!!bb(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function gN(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",Tb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new iN("@firebase/app"),yN="@firebase/app-compat",_N="@firebase/analytics-compat",vN="@firebase/analytics",EN="@firebase/app-check-compat",bN="@firebase/app-check",TN="@firebase/auth",SN="@firebase/auth-compat",AN="@firebase/database",wN="@firebase/data-connect",RN="@firebase/database-compat",CN="@firebase/functions",IN="@firebase/functions-compat",NN="@firebase/installations",xN="@firebase/installations-compat",DN="@firebase/messaging",ON="@firebase/messaging-compat",MN="@firebase/performance",kN="@firebase/performance-compat",LN="@firebase/remote-config",PN="@firebase/remote-config-compat",VN="@firebase/storage",UN="@firebase/storage-compat",jN="@firebase/firestore",zN="@firebase/ai",BN="@firebase/firestore-compat",FN="firebase",qN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",HN={[Mg]:"fire-core",[yN]:"fire-core-compat",[vN]:"fire-analytics",[_N]:"fire-analytics-compat",[bN]:"fire-app-check",[EN]:"fire-app-check-compat",[TN]:"fire-auth",[SN]:"fire-auth-compat",[AN]:"fire-rtdb",[wN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[CN]:"fire-fn",[IN]:"fire-fn-compat",[NN]:"fire-iid",[xN]:"fire-iid-compat",[DN]:"fire-fcm",[ON]:"fire-fcm-compat",[MN]:"fire-perf",[kN]:"fire-perf-compat",[LN]:"fire-rc",[PN]:"fire-rc-compat",[VN]:"fire-gcs",[UN]:"fire-gcs-compat",[jN]:"fire-fst",[BN]:"fire-fst-compat",[zN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,GN=new Map,Lg=new Map;function Sb(i,e){try{i.container.addComponent(e)}catch(t){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ja(i){const e=i.name;if(Lg.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,i);for(const t of ed.values())Sb(t,i);for(const t of GN.values())Sb(t,i);return!0}function Sd(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Bn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new xc("app","Firebase",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=qN;function JS(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:kg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(t||(t=KS()),!t)throw Fr.create("no-options");const u=ed.get(o);if(u){if(Wa(t,u.options)&&Wa(r,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const c=new J2(o);for(const p of Lg.values())c.addComponent(p);const m=new KN(t,r,c);return ed.set(o,m),m}function Ay(i=kg){const e=ed.get(i);if(!e&&i===kg&&KS())return JS();if(!e)throw Fr.create("no-app",{appName:i});return e}function ts(i,e,t){let r=HN[i]??i;t&&(r+=`-${t}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}Ja(new Zf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebase-heartbeat-database",$N=1,fc="firebase-heartbeat-store";let sg=null;function ZS(){return sg||(sg=fN(YN,$N,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),sg}async function XN(i){try{const t=(await ZS()).transaction(fc),r=await t.objectStore(fc).get(eA(i));return await t.done,r}catch(e){if(e instanceof us)zs.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(t.message)}}}async function Ab(i,e){try{const r=(await ZS()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,eA(i)),await r.done}catch(t){if(t instanceof us)zs.warn(t.message);else{const r=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zs.warn(r.message)}}}function eA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=1024,JN=30;class ZN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=wb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>JN){const c=nx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wb(),{heartbeatsToSend:r,unsentEntries:o}=ex(this._heartbeatsCache.heartbeats),u=Jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return zs.warn(t),""}}}function wb(){return new Date().toISOString().substring(0,10)}function ex(i,e=WN){const t=[];let r=i.slice();for(const o of i){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Rb(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Rb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class tx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z2()?B2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ab(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Rb(i){return Jf(JSON.stringify({version:2,heartbeats:i})).length}function nx(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(i){Ja(new Zf("platform-logger",e=>new pN(e),"PRIVATE")),Ja(new Zf("heartbeat",e=>new ZN(e),"PRIVATE")),ts(Mg,Tb,i),ts(Mg,Tb,"esm2020"),ts("fire-js","")}ix("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ot||(ot={}));const sx={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},rx=ot.INFO,ax={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},ox=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=ax[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let lx=class{constructor(e){this.name=e,this._logLevel=rx,this._logHandler=ox,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}},Cb=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ux=tA,nA=new xc("auth","Firebase",tA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new lx("@firebase/auth");function cx(i,...e){td.logLevel<=ot.WARN&&td.warn(`Auth (${ro}): ${i}`,...e)}function jf(i,...e){td.logLevel<=ot.ERROR&&td.error(`Auth (${ro}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(i,...e){throw wy(i,...e)}function ns(i,...e){return wy(i,...e)}function iA(i,e,t){const r={...ux(),[e]:t};return new xc("auth","Firebase",r).create(e,{appName:i.name})}function Vs(i){return iA(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wy(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return nA.create(i,...e)}function Te(i,e,...t){if(!i)throw wy(e,...t)}function ks(i){const e="INTERNAL ASSERTION FAILED: "+i;throw jf(e),new Error(e)}function Bs(i,e){i||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function hx(){return Ib()==="http:"||Ib()==="https:"}function Ib(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hx()||P2()||"connection"in navigator)?navigator.onLine:!0}function dx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bs(t>e,"Short delay should be less than long delay!"),this.isMobile=M2()||V2()}get(){return fx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(i,e){Bs(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gx=new Oc(3e4,6e4);function ea(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ta(i,e,t,r,o={}){return rA(i,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const m=Dc({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return L2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Zr(i.emulatorConfig.host)&&(g.credentials="include"),sA.fetch()(await aA(i,i.config.apiHost,t,m),g)})}async function rA(i,e,t){i._canInitEmulator=!1;const r={...mx,...e};try{const o=new _x(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Tf(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Tf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Tf(i,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw iA(i,_,g);Ai(i,_)}}catch(o){if(o instanceof us)throw o;Ai(i,"network-request-failed",{message:String(o)})}}async function Mc(i,e,t,r,o={}){const u=await ta(i,e,t,r,o);return"mfaPendingCredential"in u&&Ai(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function aA(i,e,t,r){const o=`${e}${t}?${r}`,u=i,c=u.config.emulator?Ry(i.config,o):`${i.config.apiScheme}://${o}`;return px.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function yx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _x{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),gx.get())})}}function Tf(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=ns(i,e,r);return o.customData._tokenResponse=t,o}function Nb(i){return i!==void 0&&i.enterprise!==void 0}class vx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ex(i,e){return ta(i,"GET","/v2/recaptchaConfig",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(i,e){return ta(i,"POST","/v1/accounts:delete",e)}async function nd(i,e){return ta(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tx(i,e=!1){const t=yt(i),r=await t.getIdToken(e),o=Cy(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:sc(rg(o.auth_time)),issuedAtTime:sc(rg(o.iat)),expirationTime:sc(rg(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function rg(i){return Number(i)*1e3}function Cy(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const o=HS(t);return o?JSON.parse(o):(jf("Failed to decode base64 JWT payload"),null)}catch(o){return jf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function xb(i){const e=Cy(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof us&&Sx(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Sx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(i){var b;const e=i.auth,t=await i.getIdToken(),r=await dc(i,nd(e,{idToken:t}));Te(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=(b=o.providerUserInfo)!=null&&b.length?oA(o.providerUserInfo):[],c=Rx(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(c!=null&&c.length),g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function wx(i){const e=yt(i);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rx(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function oA(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(i,e){const t=await rA(i,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await aA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Zr(i.emulatorConfig.host)&&(p.credentials="include"),sA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ix(i,e){return ta(i,"POST","/v2/accounts:revokeToken",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=xb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:u}=await Cx(e,t);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,c=new al;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Tx(this,e)}reload(){return wx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await dc(this,bx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:D,providerData:z,stsTokenManager:V}=t;Te(b&&V,e,"internal-error");const L=al.fromJSON(this.name,V);Te(typeof b=="string",e,"internal-error"),Sr(r,e.name),Sr(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof D=="boolean",e,"internal-error"),Sr(u,e.name),Sr(c,e.name),Sr(m,e.name),Sr(p,e.name),Sr(g,e.name),Sr(_,e.name);const W=new Ei({uid:b,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:_});return z&&Array.isArray(z)&&(W.providerData=z.map(se=>({...se}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,t,r=!1){const o=new al;o.updateFromServerResponse(t);const u=new Ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await id(u),u}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?oA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new al;m.updateFromIdToken(r);const p=new Ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function Ls(i){Bs(i instanceof Function,"Expected a class definition");let e=Db.get(i);return e?(Bs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Db.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lA.type="NONE";const Ob=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(i,e,t){return`firebase:${i}:${e}:${t}`}class ol{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=zf(this.userKey,o.apiKey,u),this.fullPersistenceKey=zf("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nd(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ol(Ls(Ob),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ls(Ob);const c=zf(r,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const w=await nd(e,{idToken:_}).catch(()=>{});if(!w)break;b=await Ei._fromGetAccountInfoResponse(e,w,_)}else b=Ei._fromJSON(e,_);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ol(u,e,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new ol(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mA(e))return"Blackberry";if(pA(e))return"Webos";if(cA(e))return"Safari";if((e.includes("chrome/")||hA(e))&&!e.includes("edge/"))return"Chrome";if(dA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uA(i=dn()){return/firefox\//i.test(i)}function cA(i=dn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hA(i=dn()){return/crios\//i.test(i)}function fA(i=dn()){return/iemobile/i.test(i)}function dA(i=dn()){return/android/i.test(i)}function mA(i=dn()){return/blackberry/i.test(i)}function pA(i=dn()){return/webos/i.test(i)}function Iy(i=dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Nx(i=dn()){var e;return Iy(i)&&!!((e=window.navigator)!=null&&e.standalone)}function xx(){return U2()&&document.documentMode===10}function gA(i=dn()){return Iy(i)||dA(i)||pA(i)||mA(i)||/windows phone/i.test(i)||fA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(i,e=[]){let t;switch(i){case"Browser":t=Mb(dn());break;case"Worker":t=`${Mb(dn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(i,e={}){return ta(i,"GET","/v2/passwordPolicy",ea(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=6;class kx{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Mx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kb(this),this.idTokenSubscription=new kb(this),this.beforeStateQueue=new Dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ls(t)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nd(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===m)&&(p!=null&&p.user)&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Vs(this));const t=e?yt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ox(this),t=new kx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ix(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ls(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[Ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&cx(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ao(i){return yt(i)}class kb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Px(i){Ad=i}function _A(i){return Ad.loadJS(i)}function Vx(){return Ad.recaptchaEnterpriseScript}function Ux(){return Ad.gapiScript}function jx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class zx{constructor(){this.enterprise=new Bx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Bx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Fx="recaptcha-enterprise",vA="NO_RECAPTCHA";class qx{constructor(e){this.type=Fx,this.auth=ao(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{Ex(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new vx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;Nb(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(vA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zx().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(m=>{if(!t&&Nb(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Vx();p.length!==0&&(p+=m),_A(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function Lb(i,e,t,r=!1,o=!1){const u=new qx(i);let c;if(o)c=vA;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ug(i,e,t,r,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Lb(i,e,t,t==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Lb(i,e,t,t==="getOobCode");return r(i,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i,e){const t=Sd(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Wa(u,e??{}))return o;Ai(o,"already-initialized")}return t.initialize({options:e})}function Gx(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ls);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Qx(i,e,t){const r=ao(i);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=EA(e),{host:c,port:m}=Kx(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Wa(g,r.config.emulator)&&Wa(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Zr(c)?(by(`${u}//${c}${p}`),Ty("Auth",!0)):Yx()}function EA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Kx(i){const e=EA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Pb(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:Pb(c)}}}function Pb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Yx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function $x(i,e){return ta(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(i,e){return Mc(i,"POST","/v1/accounts:signInWithPassword",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(i,e){return Mc(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}async function Jx(i,e){return Mc(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Ny{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new mc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new mc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,t,"signInWithPassword",Xx);case"emailLink":return Wx(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,r,"signUpPassword",$x);case"emailLink":return Jx(e,{idToken:t,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(i,e){return Mc(i,"POST","/v1/accounts:signInWithIdp",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="http://localhost";class Za extends Ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=t;if(!r||!o)return null;const c=new Za(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ll(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ll(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ll(e,t)}buildRequest(){const e={requestUri:Zx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tD(i){const e=Ju(Zu(i)).link,t=e?Ju(Zu(e)).deep_link_id:null,r=Ju(Zu(i)).deep_link_id;return(r?Ju(Zu(r)).link:null)||r||t||e||i}class xy{constructor(e){const t=Ju(Zu(e)),r=t.apiKey??null,o=t.oobCode??null,u=eD(t.mode??null);Te(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=tD(e);try{return new xy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,t){return mc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=xy.parseLink(t);return Te(r,"argument-error"),mc._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends kc{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Za._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Rr.credential(t,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends kc{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends kc{constructor(){super("twitter.com")}static credential(e,t){return Za._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ir.credential(t,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(i,e){return Mc(i,"POST","/v1/accounts:signUp",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const u=await Ei._fromIdTokenResponse(e,r,o),c=Vb(r);return new eo({user:u,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Vb(r);return new eo({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Vb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends us{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new sd(e,t,r,o)}}function TA(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(i,u,e,r):u})}async function iD(i,e,t=!1){const r=await dc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return eo._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(i,e,t=!1){const{auth:r}=i;if(Bn(r.app))return Promise.reject(Vs(r));const o="reauthenticate";try{const u=await dc(i,TA(r,o,e,i),t);Te(u.idToken,r,"internal-error");const c=Cy(u.idToken);Te(c,r,"internal-error");const{sub:m}=c;return Te(i.uid===m,r,"user-mismatch"),eo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ai(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(i,e,t=!1){if(Bn(i.app))return Promise.reject(Vs(i));const r="signIn",o=await TA(i,r,e),u=await eo._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(u.user),u}async function rD(i,e){return SA(ao(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(i){const e=ao(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aD(i,e,t){if(Bn(i.app))return Promise.reject(Vs(i));const r=ao(i),c=await Ug(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&AA(i),p}),m=await eo._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function oD(i,e,t){return Bn(i.app)?Promise.reject(Vs(i)):rD(yt(i),kl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AA(i),r})}function lD(i,e,t,r){return yt(i).onIdTokenChanged(e,t,r)}function uD(i,e,t){return yt(i).beforeAuthStateChanged(e,t)}function cD(i,e,t,r){return yt(i).onAuthStateChanged(e,t,r)}function hD(i){return yt(i).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=1e3,dD=10;class RA extends wA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);xx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dD):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},fD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RA.type="LOCAL";const mD=RA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends wA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CA.type="SESSION";const IA=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await pD(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Dy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function yD(i){is().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function _D(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function ED(){return NA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebaseLocalStorageDb",bD=1,ad="firebaseLocalStorage",DA="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rd(i,e){return i.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function TD(){const i=indexedDB.deleteDatabase(xA);return new Lc(i).toPromise()}function jg(){const i=indexedDB.open(xA,bD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(ad,{keyPath:DA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(ad)?e(r):(r.close(),await TD(),e(await jg()))})})}async function Ub(i,e,t){const r=Rd(i,!0).put({[DA]:e,value:t});return new Lc(r).toPromise()}async function SD(i,e){const t=Rd(i,!1).get(e),r=await new Lc(t).toPromise();return r===void 0?null:r.value}function jb(i,e){const t=Rd(i,!0).delete(e);return new Lc(t).toPromise()}const AD=800,wD=3;class OA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>wD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(ED()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await _D(),!this.activeServiceWorker)return;this.sender=new gD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await Ub(e,rd,"1"),await jb(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ub(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>SD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rd(o,!1).getAll();return new Lc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OA.type="LOCAL";const RD=OA;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i,e){return e?Ls(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ID(i){return SA(i.auth,new Oy(i),i.bypassAuthState)}function ND(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),sD(t,new Oy(i),i.bypassAuthState)}async function xD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),iD(t,new Oy(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return xD;case"reauthViaPopup":case"reauthViaRedirect":return ND;default:Ai(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Oc(2e3,1e4);class rl extends MA{constructor(e,t,r,o,u){super(e,t,o,u),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DD.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="pendingRedirect",Bf=new Map;class MD extends MA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const r=await kD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kD(i,e){const t=VD(e),r=PD(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function LD(i,e){Bf.set(i._key(),e)}function PD(i){return Ls(i._redirectPersistence)}function VD(i){return zf(OD,i.config.apiKey,i.name)}async function UD(i,e,t=!1){if(Bn(i.app))return Promise.reject(Vs(i));const r=ao(i),o=CD(r,e),c=await new MD(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=600*1e3;class zD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kA(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(ns(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jD&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(e))}saveEventToCache(e){this.cachedEventUids.add(zb(e)),this.lastProcessedEventTime=Date.now()}}function zb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function kA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(i,e={}){return ta(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HD=/^https?/;async function GD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await FD(i);for(const t of e)try{if(QD(t))return}catch{}Ai(i,"unauthorized-domain")}function QD(i){const e=Pg(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!HD.test(t))return!1;if(qD.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Oc(3e4,6e4);function Bb(){const i=is().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function YD(i){return new Promise((e,t)=>{var o,u,c;function r(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),t(ns(i,"network-request-failed"))},timeout:KD.get()})}if((u=(o=is().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((c=is().gapi)!=null&&c.load)r();else{const m=jx("iframefcb");return is()[m]=()=>{gapi.load?r():t(ns(i,"network-request-failed"))},_A(`${Ux()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function $D(i){return Ff=Ff||YD(i),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Oc(5e3,15e3),WD="__/auth/iframe",JD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tO(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Ry(e,JD):`https://${i.config.authDomain}/${WD}`,r={apiKey:e.apiKey,appName:i.name,v:ro},o=eO.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Dc(r).slice(1)}`}async function nO(i){const e=await $D(i),t=is().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:tO(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=ns(i,"network-request-failed"),m=is().setTimeout(()=>{u(c)},XD.get());function p(){is().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sO=500,rO=600,aO="_blank",oO="http://localhost";class Fb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lO(i,e,t,r=sO,o=rO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...iO,width:r.toString(),height:o.toString(),top:u,left:c},g=dn().toLowerCase();t&&(m=hA(g)?aO:t),uA(g)&&(e=e||oO,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[D,z])=>`${w}${D}=${z},`,"");if(Nx(g)&&m!=="_self")return uO(e||"",m),new Fb(null);const b=window.open(e||"",m,_);Te(b,i,"popup-blocked");try{b.focus()}catch{}return new Fb(b)}function uO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="__/auth/handler",hO="emulator/auth/handler",fO=encodeURIComponent("fac");async function qb(i,e,t,r,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:ro,eventId:o};if(e instanceof bA){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",G2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof kc){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${fO}=${encodeURIComponent(p)}`:"";return`${dO(i)}?${Dc(m).slice(1)}${g}`}function dO({config:i}){return i.emulator?Ry(i,hO):`https://${i.authDomain}/${cO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class mO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=UD,this._overrideRedirectResult=LD}async _openPopup(e,t,r,o){var c;Bs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await qb(e,t,r,Pg(),o);return lO(e,u,Dy())}async _openRedirect(e,t,r,o){await this._originValidation(e);const u=await qb(e,t,r,Pg(),o);return yD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Bs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await nO(e),r=new zD(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ag,{type:ag},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[ag];u!==void 0&&t(!!u),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=GD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gA()||cA()||Iy()}}const pO=mO;var Hb="@firebase/auth",Gb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _O(i){Ja(new Cb("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yA(i)},g=new Lx(r,o,u,p);return Gx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ja(new Cb("auth-internal",e=>{const t=ao(e.getProvider("auth").getImmediate());return(r=>new gO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Hb,Gb,yO(i)),ts(Hb,Gb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=300,EO=YS("authIdTokenMaxAge")||vO;let Qb=null;const bO=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>EO)return;const o=t==null?void 0:t.token;Qb!==o&&(Qb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TO(i=Ay()){const e=Sd(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Hx(i,{popupRedirectResolver:pO,persistence:[RD,mD,IA]}),r=YS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=bO(u.toString());uD(t,c,()=>c(t.currentUser)),lD(t,m=>c(m))}}const o=GS("auth");return o&&Qx(t,`http://${o}`),t}function SO(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}Px({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=ns("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",SO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_O("Browser");var AO="firebase",wO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(AO,wO,"app");let RO=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qe||(qe={}));const CO={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},IO=qe.INFO,NO={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},xO=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=NO[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class DO{constructor(e){this.name=e,this._logLevel=IO,this._logHandler=xO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,LA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.F=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(O,I,j){for(var N=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)N[Ke-2]=arguments[Ke];return S.prototype[I].apply(O,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);const O=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)O[I]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(I=0;I<16;++I)O[I]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],I=x.g[2];let j=x.g[3],N;N=S+(j^R&(I^j))+O[0]+3614090360&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+O[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+O[2]+606105819&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+O[3]+3250441966&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(j^R&(I^j))+O[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+O[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+O[6]+2821735955&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+O[7]+4249261313&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(j^R&(I^j))+O[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+O[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+O[10]+4294925233&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+O[11]+2304563134&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(j^R&(I^j))+O[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+O[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+O[14]+2792965006&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+O[15]+1236535329&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(I^j&(R^I))+O[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+O[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+O[11]+643717713&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+O[0]+3921069994&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^j&(R^I))+O[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+O[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+O[15]+3634488961&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+O[4]+3889429448&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^j&(R^I))+O[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+O[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+O[3]+4107603335&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+O[8]+1163531501&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^j&(R^I))+O[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+O[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+O[7]+1735328473&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+O[12]+2368359562&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(R^I^j)+O[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+O[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+O[11]+1839030562&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+O[14]+4259657740&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^j)+O[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+O[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+O[7]+4139469664&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+O[10]+3200236656&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^j)+O[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+O[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+O[3]+3572445317&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+O[6]+76029189&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^j)+O[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+O[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+O[15]+530742520&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+O[2]+3299628645&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(I^(R|~j))+O[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+O[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+O[14]+2878612391&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+O[5]+4237533241&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~j))+O[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+O[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+O[10]+4293915773&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+O[1]+2240044497&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~j))+O[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+O[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+O[6]+2734768916&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+O[13]+1309151649&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~j))+O[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+O[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+O[2]+718787259&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.v=function(x,S){S===void 0&&(S=x.length);const R=S-this.blockSize,O=this.C;let I=this.h,j=0;for(;j<S;){if(I==0)for(;j<=R;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<S;)if(O[I++]=x.charCodeAt(j++),I==this.blockSize){o(this,O),I=0;break}}else for(;j<S;)if(O[I++]=x[j++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=S},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)x[S++]=this.g[R]>>>O&255;return x};function u(x,S){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function c(x,S){this.h=S;const R=[];let O=!0;for(let I=x.length-1;I>=0;I--){const j=x[I]|0;O&&j==S||(R[I]=j,O=!1)}this.g=R}var m={};function p(x){return-128<=x&&x<128?u(x,function(S){return new c([S|0],S<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return L(g(-x));const S=[];let R=1;for(let O=0;x>=R;O++)S[O]=x/R|0,R*=4294967296;return new c(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return L(_(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(S,8));let O=b;for(let j=0;j<x.length;j+=8){var I=Math.min(8,x.length-j);const N=parseInt(x.substring(j,j+I),S);I<8?(I=g(Math.pow(S,I)),O=O.j(I).add(g(N))):(O=O.j(R),O=O.add(g(N)))}return O}var b=p(0),w=p(1),D=p(16777216);i=c.prototype,i.m=function(){if(V(this))return-L(this).m();let x=0,S=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);x+=(O>=0?O:4294967296+O)*S,S*=4294967296}return x},i.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(V(this))return"-"+L(this).toString(x);const S=g(Math.pow(x,6));var R=this;let O="";for(;;){const I=oe(R,S).g;R=W(R,I.j(S));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=I,z(R))return j+O;for(;j.length<6;)j="0"+j;O=j+O}},i.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function V(x){return x.h==-1}i.l=function(x){return x=W(this,x),V(x)?-1:z(x)?0:1};function L(x){const S=x.g.length,R=[];for(let O=0;O<S;O++)R[O]=~x.g[O];return new c(R,~x.h).add(w)}i.abs=function(){return V(this)?L(this):this},i.add=function(x){const S=Math.max(this.g.length,x.g.length),R=[];let O=0;for(let I=0;I<=S;I++){let j=O+(this.i(I)&65535)+(x.i(I)&65535),N=(j>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);O=N>>>16,j&=65535,N&=65535,R[I]=N<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function W(x,S){return x.add(L(S))}i.j=function(x){if(z(this)||z(x))return b;if(V(this))return V(x)?L(this).j(L(x)):L(L(this).j(x));if(V(x))return L(this.j(L(x)));if(this.l(D)<0&&x.l(D)<0)return g(this.m()*x.m());const S=this.g.length+x.g.length,R=[];for(var O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<x.g.length;I++){const j=this.i(O)>>>16,N=this.i(O)&65535,Ke=x.i(I)>>>16,vt=x.i(I)&65535;R[2*O+2*I]+=N*vt,se(R,2*O+2*I),R[2*O+2*I+1]+=j*vt,se(R,2*O+2*I+1),R[2*O+2*I+1]+=N*Ke,se(R,2*O+2*I+1),R[2*O+2*I+2]+=j*Ke,se(R,2*O+2*I+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new c(R,0)};function se(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function X(x,S){this.g=x,this.h=S}function oe(x,S){if(z(S))throw Error("division by zero");if(z(x))return new X(b,b);if(V(x))return S=oe(L(x),S),new X(L(S.g),L(S.h));if(V(S))return S=oe(x,L(S)),new X(L(S.g),S.h);if(x.g.length>30){if(V(x)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,O=S;O.l(x)<=0;)R=re(R),O=re(O);var I=me(R,1),j=me(O,1);for(O=me(O,2),R=me(R,2);!z(O);){var N=j.add(O);N.l(x)<=0&&(I=I.add(R),j=N),O=me(O,1),R=me(R,1)}return S=W(x,I.j(S)),new X(I,S)}for(I=b;x.l(S)>=0;){for(R=Math.max(1,Math.floor(x.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),j=g(R),N=j.j(S);V(N)||N.l(x)>0;)R-=O,j=g(R),N=j.j(S);z(j)&&(j=w),I=I.add(j),x=W(x,N)}return new X(I,x)}i.B=function(x){return oe(this,x).h},i.and=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)&x.i(O);return new c(R,this.h&x.h)},i.or=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)|x.i(O);return new c(R,this.h|x.h)},i.xor=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)^x.i(O);return new c(R,this.h^x.h)};function re(x){const S=x.g.length+1,R=[];for(let O=0;O<S;O++)R[O]=x.i(O)<<1|x.i(O-1)>>>31;return new c(R,x.h)}function me(x,S){const R=S>>5;S%=32;const O=x.g.length-R,I=[];for(let j=0;j<O;j++)I[j]=S>0?x.i(j+R)>>>S|x.i(j+R+1)<<32-S:x.i(j+R);return new c(I,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,qr=c}).apply(typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PA,ec,VA,qf,zg,UA,jA,zA;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(h,y){if(y)e:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in E))break e;E=E[F]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,F,Y){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return y.prototype[F].apply(A,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function z(h,y){for(let A=1;A<arguments.length;A++){const F=arguments[A];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const Y=F.length||0;h.length=E+Y;for(let le=0;le<Y;le++)h[E+le]=F[le]}else h.push(F)}}class V{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(h){c.setTimeout(()=>{throw h},0)}function W(){var h=x;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,E){const A=X.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new V(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,me=!1,x=new se,S=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(R)}};function R(){for(var h;h=W();){try{h.h.call(h.g)}catch(E){L(E)}var y=X;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}me=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ke(h,y){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(Ke,I),Ke.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),q=0;function ae(h,y,E,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=F,this.key=++q,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function He(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function Je(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function U(h){const y={};for(const E in h)y[E]=h[E];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)h[E]=A[E];for(let Y=0;Y<ne.length;Y++)E=ne[Y],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,y,E,A,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const le=xe(h,y,A,F);return le>-1?(y=h[le],E||(y.fa=!1)):(y=new ae(y,this.src,Y,!!A,F),y.fa=E,h.push(y)),y};function Ae(h,y){const E=y.type;if(E in h.g){var A=h.g[E],F=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(A,F,1),Y&&(ye(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xe(h,y,E,A){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return F}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ft={};function dt(h,y,E,A,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)dt(h,y[Y],E,A,F);return null}return E=Fl(E),h&&h[vt]?h.J(y,E,m(A)?!!A.capture:!1,F):sa(h,y,E,!1,A,F)}function sa(h,y,E,A,F,Y){if(!y)throw Error("Invalid event type");const le=m(F)?!!F.capture:!!F;let Ie=ra(h);if(Ie||(h[Be]=Ie=new de(h)),E=Ie.add(y,E,A,le,Y),E.proxy)return E;if(A=co(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)j||(F=le),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(Ii(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function co(){function h(E){return y.call(h.src,h.listener,E)}const y=zl;return h}function ho(h,y,E,A,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ho(h,y[Y],E,A,F);else A=m(A)?!!A.capture:!!A,E=Fl(E),h&&h[vt]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],E=xe(y,E,A,F),E>-1&&(ye(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ra(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xe(y,E,A,F)),(E=h>-1?y[h]:null)&&fo(E))}function fo(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[vt])Ae(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(Ii(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=ra(y))?(Ae(E,h),E.h==0&&(E.src=null,y[Be]=null)):ye(h)}}}function Ii(h){return h in Ft?Ft[h]:Ft[h]="on"+h}function zl(h,y){if(h.da)h=!0;else{y=new Ke(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&fo(h),h=E.call(A,y)}return h}function ra(h){return h=h[Be],h instanceof de?h:null}var Bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fl(h){return typeof h=="function"?h:(h[Bl]||(h[Bl]=function(y){return h.handleEvent(y)}),h[Bl])}function xt(){O.call(this),this.i=new de(this),this.M=this,this.G=null}b(xt,O),xt.prototype[vt]=!0,xt.prototype.removeEventListener=function(h,y,E,A){ho(this,h,y,E,A)};function qt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new I(y,h);else if(y instanceof I)y.target=y.target||h;else{var F=y;y=new I(A,h),ue(y,F)}F=!0;let Y,le;if(E)for(le=E.length-1;le>=0;le--)Y=y.g=E[le],F=Hs(Y,A,!0,y)&&F;if(Y=y.g=h,F=Hs(Y,A,!0,y)&&F,F=Hs(Y,A,!1,y)&&F,E)for(le=0;le<E.length;le++)Y=y.g=E[le],F=Hs(Y,A,!1,y)&&F}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)ye(E[A]);delete h.g[y],h.h--}}this.G=null},xt.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},xt.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Hs(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const le=y[Y];if(le&&!le.da&&le.capture==E){const Ie=le.listener,Rt=le.ha||le.src;le.fa&&Ae(h.i,le),F=Ie.call(Rt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Qd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function qc(h){h.g=Qd(()=>{h.g=null,h.i&&(h.i=!1,qc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class mn extends O{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(h){O.call(this),this.h=h,this.g={}}b(aa,O);var ql=[];function Hl(h){He(h.g,function(y,E){this.g.hasOwnProperty(E)&&fo(y)},h),h.g={}}aa.prototype.N=function(){aa.Z.N.call(this),Hl(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=c.JSON.stringify,Kd=c.JSON.parse,Hc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Gc(){}function Qc(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){I.call(this,"d")}b(Zt,I);function Hn(){I.call(this,"c")}b(Hn,I);var wt={},Kc=null;function mo(){return Kc=Kc||new xt}wt.Ia="serverreachability";function Yc(h){I.call(this,wt.Ia,h)}b(Yc,I);function Ni(h){const y=mo();qt(y,new Yc(y))}wt.STAT_EVENT="statevent";function oa(h,y){I.call(this,wt.STAT_EVENT,h),this.stat=y}b(oa,I);function Dt(h){const y=mo();qt(y,new oa(y,h))}wt.Ja="timingevent";function xi(h,y){I.call(this,wt.Ja,h),this.size=y}b(xi,I);function Di(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Yd(h,y,E,A,F,Y){h.info(function(){if(h.g)if(Y){var le="",Ie=Y.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var Rt=Ie[Ye].split("=");if(Rt.length>1){const mt=Rt[0];Rt=Rt[1];const Yn=mt.split("_");le=Yn.length>=2&&Yn[1]=="type"?le+(mt+"="+Rt+"&"):le+(mt+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+E+`
`+le})}function $c(h,y,E,A,F,Y,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+E+`
`+Y+" "+le})}function Oi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+$d(h,E)+(A?" "+A:"")})}function la(h,y){h.info(function(){return"TIMEOUT: "+y})}oi.prototype.info=function(){};function $d(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Gs(Y)}catch{return y}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ql;function ca(){}b(ca,Gc),ca.prototype.g=function(){return new XMLHttpRequest},Ql=new ca;function cs(h){return encodeURIComponent(String(h))}function Xc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function li(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Ot={},Yt={};function Mi(h,y,E){h.M=1,h.A=ha(kt(y)),h.u=E,h.R=!0,po(h,null)}function po(h,y){h.F=Date.now(),ki(h),h.B=kt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),vo(E.i,"t",A),h.C=0,E=h.j.L,h.h=new ui,h.g=hh(h.j,E?y:null,!h.u),h.P>0&&(h.O=new mn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(ql[0]=F.toString()),F=ql);for(let Y=0;Y<F.length;Y++){const le=dt(E,F[Y],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ni(),Yd(h.i,h.v,h.B,h.l,h.S,h.u)}li.prototype.ba=function(h){h=h.target;const y=this.O;y&&fi(h)==3?y.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=fi(this.g),Rt=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ie!=4||Rt==7||(Rt==8||Ye<=0?Ni(3):Ni(2)),Li(this);var y=this.g.ca();this.X=y;var E=Xd(this);if(this.o=y==200,$c(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break t}}Y=null}if(h=Y)Oi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pi(this,h);else{this.o=!1,this.m=3,Dt(12),On(this),Gn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<E.length;)if(mt=Jc(this,E),mt==Yt){Ie==4&&(this.m=4,Dt(14),h=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Ot){this.m=4,Dt(15),Oi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Oi(this.i,this.l,mt,null),Pi(this,mt);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,Dt(16),h=!1),this.o=this.o&&h,!h)Oi(this.i,this.l,E,"[Invalid Chunked Response]"),On(this),Gn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ou(le),le.P=!0,Dt(11))}}else Oi(this.i,this.l,E,null),Pi(this,E);Ie==4&&On(this),this.o&&!this.K&&(Ie==4?oh(this.j,this):(this.o=!1,ki(this)))}else fs(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),On(this),Gn(this)}}}catch{}finally{}};function Xd(h){if(!Wc(h))return h.g.la();const y=en(h.g);if(y==="")return"";let E="";const A=y.length,F=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return On(h),Gn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,E+=h.h.i.decode(y[Y],{stream:!(F&&Y==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Jc(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Yt:(E=Number(y.substring(E,A)),isNaN(E)?Ot:(A+=1,A+E>y.length?Yt:(y=y.slice(A,A+E),h.C=A+E,y)))}li.prototype.cancel=function(){this.K=!0,On(this)};function ki(h){h.T=Date.now()+h.H,go(h,h.H)}function go(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Di(g(h.aa,h),y)}function Li(h){h.D&&(c.clearTimeout(h.D),h.D=null)}li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(la(this.i,this.B),this.M!=2&&(Ni(),Dt(17)),On(this),this.m=2,Gn(this)):go(this,this.T-h)};function Gn(h){h.j.I==0||h.K||oh(h.j,h)}function On(h){Li(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Hl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Pi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ui(E.h,h))){if(!h.L&&Ui(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ao(E),Zs(E);else break e;_a(E),Dt(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Di(g(E.Va,E),6e3));Vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hi(E,11)}else if((h.L||E.g==h)&&Ao(E),!N(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let Ye=F[y];const mt=Ye[0];if(!(mt<=E.K))if(E.K=mt,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Yn=Ye[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const Gi=Ye[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const di=Ye[5];di!=null&&typeof di=="number"&&di>0&&(A=1.5*di,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const mi=h.g;if(mi){const va=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var Y=A.h;Y.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&($l(Y,Y.h),Y.h=null))}if(A.G){const wo=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(A.wa=wo,Ze(A.J,A.G,wo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var le=h;if(A.na=ch(A,A.L?A.ba:null,A.W),le.L){Xl(A.h,le);var Ie=le,Rt=A.O;Rt&&(Ie.H=Rt),Ie.D&&(Li(Ie),ki(Ie)),A.g=le}else rh(A);E.i.length>0&&qi(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Hi(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Hi(E,7):ru(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}Ni(4)}catch{}}var Mt=class{constructor(h,y){this.g=h,this.map=y}};function Kl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function Ui(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function $l(h,y){h.g?h.g.add(y):h.h=y}function Xl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Kl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return D(h.i)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let F,Y=null;A>=0?(F=h[E].substring(0,A),Y=h[E].substring(A+1)):F=h[E],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Mn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,Qs(this,h.u),this.h=h.h,Jl(this,ih(h.i)),this.m=h.m):h&&(y=String(h).match(Zc))?(this.l=!1,$t(this,y[1]||"",!0),this.o=ji(y[2]||""),this.g=ji(y[3]||"",!0),Qs(this,y[4]),this.h=ji(y[5]||"",!0),Jl(this,y[6]||"",!0),this.m=ji(y[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Mn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(fa(y,_o,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(fa(y,_o,!0),"@"),h.push(cs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(fa(E,E.charAt(0)=="/"?Zl:eh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",fa(E,th)),h.join("")},Mn.prototype.resolve=function(h){const y=kt(this);let E=!!h.j;E?$t(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Qs(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=y.h.lastIndexOf("/");F!=-1&&(A=y.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let le=0;le<F.length;){const Ie=F[le++];Ie=="."?A&&le==F.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&le==F.length&&Y.push("")):(Y.push(Ie),A=!0)}A=Y.join("/")}else A=F}return E?y.h=A:E=h.i.toString()!=="",E?Jl(y,ih(h.i)):E=!!h.m,E&&(y.m=h.m),y};function kt(h){return new Mn(h)}function $t(h,y,E){h.j=E?ji(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Qs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Jl(h,y,E){y instanceof Ys?(h.i=y,Eo(h.i,h.l)):(E||(y=fa(y,Ks)),h.i=new Ys(y,h.l))}function Ze(h,y,E){h.i.set(y,E)}function ha(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fa(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,bn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _o=/[#\/\?@]/g,eh=/[#\?:]/g,Zl=/[#\?]/g,Ks=/[#\?@]/g,th=/#/g;function Ys(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&yo(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Ys.prototype,i.add=function(h,y){Tn(this),this.i=null,h=$s(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function nh(h,y){Tn(h),y=$s(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function eu(h,y){return Tn(h),y=$s(h,y),h.g.has(y)}i.forEach=function(h,y){Tn(this),this.g.forEach(function(E,A){E.forEach(function(F){h.call(y,F,A,this)},this)},this)};function tu(h,y){Tn(h);let E=[];if(typeof y=="string")eu(h,y)&&(E=E.concat(h.g.get($s(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return Tn(this),this.i=null,h=$s(this,h),eu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=tu(this,h),h.length>0?String(h[0]):y):y};function vo(h,y,E){nh(h,y),E.length>0&&(h.i=null,h.g.set($s(h,y),D(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const F=cs(E);E=tu(this,E);for(let Y=0;Y<E.length;Y++){let le=F;E[Y]!==""&&(le+="="+cs(E[Y])),h.push(le)}}return this.i=h.join("&")};function ih(h){const y=new Ys;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function $s(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Eo(h,y){y&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(E,A){const F=A.toLowerCase();A!=F&&(nh(this,A),vo(this,F,E))},h)),h.j=y}function ci(h,y){const E=new oi;if(c.Image){const A=new Image;A.onload=_(Qn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Qn,E,"TestLoadImage: error",!1,y,A),A.onabort=_(Qn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Qn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function nu(h,y){const E=new oi,A=new AbortController,F=setTimeout(()=>{A.abort(),Qn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?Qn(E,"TestPingServer: ok",!0,y):Qn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Qn(E,"TestPingServer: error",!1,y)})}function Qn(h,y,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Xs(){this.g=new Hc}function zi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(zi,Gc),zi.prototype.g=function(){return new da(this.i,this.h)};function da(h,y){xt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(da,xt),i=da.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,hi(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ws(this):hi(this),this.readyState==3&&bo(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ws(this))},i.Na=function(h){this.g&&(this.response=h,Ws(this))},i.ga=function(){this.g&&Ws(this)};function Ws(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let y="";return He(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ma(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Kn(E),typeof h=="string"?E!=null&&cs(E):Ze(h,y,E))}function nt(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,xt);var Bi=/^https?$/i,iu=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ql.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){pa(this,Y);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(iu,y,void 0)>=0)||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){pa(this,Y)}};function pa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,su(h),hs(h)}function su(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qt(this,"complete"),qt(this,"abort"),hs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},i.Xa=function(){ga(this)};function ga(h){if(h.h&&typeof u<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(qt(h,"readystatechange"),fi(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Y===0){let le=String(h.D).match(Zc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!Bi.test(le?le.toLowerCase():"")}E=A}if(E)qt(h,"complete"),qt(h,"success");else{h.o=6;try{var F=fi(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",su(h)}}finally{hs(h)}}}}function hs(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||qt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}i.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Kd(y)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const y={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var E=Xc(h[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[F]||[];y[F]=Y,Y.push(E)}Je(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Js(h){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(h&&h.concurrentRequestLimit),this.Ba=new Xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Js.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){Dt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ch(this,null,this.W),qi(this)};function ru(h){if(To(h),h.I==3){var y=h.V++,E=kt(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",y),Ze(E,"TYPE","terminate"),ya(h,E),y=new li(h,h.j,y),y.M=2,y.A=ha(kt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=hh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ki(y)}uh(h)}function Zs(h){h.g&&(ou(h),h.g.cancel(),h.g=null)}function To(h){Zs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function qi(h){if(!Yl(h.h)&&!h.m){h.m=!0;var y=h.Ea;re||S(),me||(re(),me=!0),x.add(y,h),h.D=0}}function So(h,y){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Di(g(h.Ea,h,y),lh(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new li(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=U(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=sh(this,F,y),E=kt(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),ya(this,E),Y&&(this.R?y="headers="+cs(Kn(Y))+"&"+y:this.u&&ma(E,this.u,Y)),$l(this.h,F),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",y),Ze(E,"SID","null"),F.U=!0,Mi(F,E,null)):Mi(F,E,y),this.I=2}}else this.I==3&&(h?au(this,h):this.i.length==0||Yl(this.h)||au(this))};function au(h,y){var E;y?E=y.l:E=h.V++;const A=kt(h.J);Ze(A,"SID",h.M),Ze(A,"RID",E),Ze(A,"AID",h.K),ya(h,A),h.u&&h.o&&ma(A,h.u,h.o),E=new li(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=sh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),$l(h.h,E),Mi(E,A,y)}function ya(h,y){h.H&&He(h.H,function(E,A){Ze(y,A,E)}),h.l&&He({},function(E,A){Ze(y,A,E)})}function sh(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ie=-1;for(;;){const Rt=["count="+E];Ie==-1?E>0?(Ie=F[0].g,Rt.push("ofs="+Ie)):Ie=0:Rt.push("ofs="+Ie);let Ye=!0;for(let mt=0;mt<E;mt++){var Y=F[mt].g;const Yn=F[mt].map;if(Y-=Ie,Y<0)Ie=Math.max(0,F[mt].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var le=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Gi,di]of le){let mi=di;m(di)&&(mi=Gs(di)),Rt.push(Y+Gi+"="+encodeURIComponent(mi))}}catch(Gi){throw Rt.push(Y+"type="+encodeURIComponent("_badmap")),Gi}}catch{A&&A(Yn)}}if(Ye){le=Rt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),y.G=h,le}function rh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;re||S(),me||(re(),me=!0),x.add(y,h),h.A=0}}function _a(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Di(g(h.Da,h),lh(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,ah(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Di(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Zs(this),ah(this))};function ou(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ah(h){h.g=new li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=kt(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),ya(h,y),h.u&&h.o&&ma(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ha(kt(y)),E.u=null,E.R=!0,po(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Zs(this),_a(this),Dt(19))};function Ao(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function oh(h,y){var E=null;if(h.g==y){Ao(h),ou(h),h.g=null;var A=2}else if(Ui(h.h,y))E=y.G,Xl(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;A=mo(),qt(A,new xi(A,E)),qi(h)}else rh(h);else if(F=y.m,F==3||F==0&&y.X>0||!(A==1&&So(h,y)||A==2&&_a(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),F){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function lh(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Hi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const F=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(A,"https"),ha(A),F?ci(A.toString(),E):nu(A.toString(),E)}else Dt(2);h.I=0,h.l&&h.l.pa(y),uh(h),To(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const y=Wl(h.h);(y.length!=0||h.i.length!=0)&&(z(h.ja,y),z(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function ch(h,y,E){var A=E instanceof Mn?kt(E):new Mn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Qs(A,A.u);else{var F=c.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new Mn(null);A&&$t(Y,A),y&&(Y.g=y),F&&Qs(Y,F),E&&(Y.h=E),A=Y}return E=h.G,y=h.wa,E&&y&&Ze(A,E,y),Ze(A,"VER",h.ka),ya(h,A),A}function hh(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new nt(new zi({ab:E})):new nt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}i=fh.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function er(){}er.prototype.g=function(h,y){return new pn(h,y)};function pn(h,y){xt.call(this),this.g=new Js(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ds(this)}b(pn,xt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ru(this.g)},pn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Gs(h),h=E);y.i.push(new Mt(y.Ya++,h)),y.I==3&&qi(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,pn.Z.N.call(this)};function dh(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(dh,Zt);function mh(){Hn.call(this),this.status=1}b(mh,Hn);function ds(h){this.g=h}b(ds,fh),ds.prototype.ra=function(){qt(this.g,"a")},ds.prototype.qa=function(h){qt(this.g,new dh(h))},ds.prototype.pa=function(h){qt(this.g,new mh)},ds.prototype.oa=function(){qt(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,zA=function(){return new er},jA=function(){return mo()},UA=wt,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,qf=ua,Gl.COMPLETE="complete",VA=Gl,Qc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",xt.prototype.listen=xt.prototype.J,ec=Qc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,PA=nt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const Yb="@firebase/firestore",$b="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new DO("@firebase/firestore");function tl(){return to.logLevel}function fe(i,...e){if(to.logLevel<=qe.DEBUG){const t=e.map(My);to.debug(`Firestore (${Ll}): ${i}`,...t)}}function Fs(i,...e){if(to.logLevel<=qe.ERROR){const t=e.map(My);to.error(`Firestore (${Ll}): ${i}`,...t)}}function Al(i,...e){if(to.logLevel<=qe.WARN){const t=e.map(My);to.warn(`Firestore (${Ll}): ${i}`,...t)}}function My(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,BA(i,r,t)}function BA(i,e,t){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Fs(r),new Error(r)}function We(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||BA(e,o,r)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends us{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class MO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kO{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new FA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class LO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new LO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const r=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UO(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%62))}return r}}function Ve(i,e){return i<e?-1:i>e?1:0}function Bg(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return og(o)===og(u)?Ve(o,u):og(o)?1:-1}return Ve(i.length,e.length)}const jO=55296,zO=57343;function og(i){const e=i.charCodeAt(0);return e>=jO&&e<=zO}function wl(i,e,t){return i.length===e.length&&i.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="__name__";class Xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=Xi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Xi.isNumericId(e),o=Xi.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Xi.extractNumericId(e).compare(Xi.extractNumericId(t)):Bg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class lt extends Xi{construct(e,t,r){return new lt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const BO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Xi{construct(e,t,r){return new on(e,t,r)}static isValidIdentifier(e){return BO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wb}static keyField(){return new on([Wb])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(i,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FO(i,e,t,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Jb(i){if(!Ee.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zb(i){if(Ee.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function HA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Cd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function no(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cd(i);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pc(i,e){if(!HA(i))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=-62135596800,tT=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tT);return new ft(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eT)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Bt("string",ft._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ft(0,0))}static max(){return new we(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function qO(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Qr(o,Ee.empty(),e)}function HO(i){return new Qr(i.readTime,i.key,pc)}class Qr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qr(we.min(),Ee.empty(),pc)}static max(){return new Qr(we.max(),Ee.empty(),pc)}}function GO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==QO)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>r(p)))})),c=!0,u===o&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((o=>o?ie.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,u)=>{r.push(t.call(this,o,u))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++m,m===u&&r(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ie(((r,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):r()};u()}))}}function YO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Id.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function Nd(i){return i==null}function od(i){return i===0&&1/i==-1/0}function $O(i){return typeof i=="number"&&Number.isInteger(i)&&!od(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="";function XO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=nT(e)),e=WO(i.get(t),e);return nT(e)}function WO(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case GA:t+="";break;default:t+=u}}return t}function nT(i){return i+GA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function na(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function QA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new an(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,o,u){return this}insert(e,t,r){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Kt(on.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new KA("Invalid base64 string: "+u):u}})(e);return new ln(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const JO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(We(!!i,39018),typeof i=="string"){let e=0;const t=JO.exec(i);if(We(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yr(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="server_timestamp",$A="__type__",XA="__previous_value__",WA="__local_write_time__";function Py(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[$A])==null?void 0:r.stringValue)===YA}function xd(i){const e=i.mapValue.fields[XA];return Py(e)?xd(e):e}function gc(i){const e=Kr(i.mapValue.fields[WA].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,r,o,u,c,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const ld="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||ld}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__type__",eM="__max__",wf={mapValue:{}},ZA="__vector__",ud="value";function $r(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Py(i)?4:nM(i)?9007199254740991:tM(i)?10:11:Se(28295,{value:i})}function ls(i,e){if(i===e)return!0;const t=$r(i);if(t!==$r(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gc(i).isEqual(gc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Kr(o.timestampValue),m=Kr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Nt(o.doubleValue),m=Nt(u.doubleValue);return c===m?od(c)===od(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return wl(i.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(iT(c)!==iT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!ls(c[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function _c(i,e){return(i.values||[]).find((t=>ls(t,e)))!==void 0}function Rl(i,e){if(i===e)return 0;const t=$r(i),r=$r(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Nt(u.integerValue||u.doubleValue),p=Nt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return rT(i.timestampValue,e.timestampValue);case 4:return rT(gc(i),gc(e));case 5:return Bg(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Yr(u),p=Yr(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ve(m[g],p[g]);if(_!==0)return _}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ve(Nt(u.latitude),Nt(c.latitude));return m!==0?m:Ve(Nt(u.longitude),Nt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return aT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){var w,D,z,V;const m=u.fields||{},p=c.fields||{},g=(w=m[ud])==null?void 0:w.arrayValue,_=(D=p[ud])==null?void 0:D.arrayValue,b=Ve(((z=g==null?void 0:g.values)==null?void 0:z.length)||0,((V=_==null?void 0:_.values)==null?void 0:V.length)||0);return b!==0?b:aT(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===wf.mapValue&&c===wf.mapValue)return 0;if(u===wf.mapValue)return 1;if(c===wf.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const w=Bg(p[b],_[b]);if(w!==0)return w;const D=Rl(m[p[b]],g[_[b]]);if(D!==0)return D}return Ve(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function rT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=Kr(i),r=Kr(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function aT(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const u=Rl(t[o],r[o]);if(u)return u}return Ve(t.length,r.length)}function Cl(i){return Fg(i)}function Fg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Kr(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Yr(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Ee.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",o=!0;for(const u of t.values||[])o?o=!1:r+=",",r+=Fg(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Fg(t.fields[c])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function Hf(i){switch($r(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(i);return e?16+Hf(e):16;case 5:return 2*i.stringValue.length;case 6:return Yr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Hf(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return na(r.fields,((u,c)=>{o+=u.length+Hf(c)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function oT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qg(i){return!!i&&"integerValue"in i}function Vy(i){return!!i&&"arrayValue"in i}function lT(i){return!!i&&"nullValue"in i}function uT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gf(i){return!!i&&"mapValue"in i}function tM(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[JA])==null?void 0:r.stringValue)===ZA}function rc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return na(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=rc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rc(i.arrayValue.values[t]);return e}return{...i}}function nM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===eM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(t)}setAll(e){let t=on.emptyPath(),r={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=m.popLast()}c?r[m.lastSegment()]=rc(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Gf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){na(t,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Dn(rc(this.value))}}function ew(i){const e=[];return na(i.fields,((t,r)=>{const o=new on([t]);if(Gf(r)){const u=ew(r.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,r,o,u,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,we.min(),we.min(),we.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,o){return new fn(e,1,t,we.min(),r,o,0)}static newNoDocument(e,t){return new fn(e,2,t,we.min(),we.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,we.min(),we.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t){this.position=e,this.inclusive=t}}function cT(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),t.key):r=Rl(c,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function hT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ls(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function iM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class zt extends tw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rM(e,t,r):t==="array-contains"?new lM(e,r):t==="in"?new uM(e,r):t==="not-in"?new cM(e,r):t==="array-contains-any"?new hM(e,r):new zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aM(e,r):new oM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Rl(t,this.value)):t!==null&&$r(this.value)===$r(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends tw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wi(e,t)}matches(e){return nw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nw(i){return i.op==="and"}function iw(i){return sM(i)&&nw(i)}function sM(i){for(const e of i.filters)if(e instanceof wi)return!1;return!0}function Hg(i){if(i instanceof zt)return i.field.canonicalString()+i.op.toString()+Cl(i.value);if(iw(i))return i.filters.map((e=>Hg(e))).join(",");{const e=i.filters.map((t=>Hg(t))).join(",");return`${i.op}(${e})`}}function sw(i,e){return i instanceof zt?(function(r,o){return o instanceof zt&&r.op===o.op&&r.field.isEqual(o.field)&&ls(r.value,o.value)})(i,e):i instanceof wi?(function(r,o){return o instanceof wi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&sw(c,o.filters[m])),!0):!1})(i,e):void Se(19439)}function rw(i){return i instanceof zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cl(t.value)}`})(i):i instanceof wi?(function(t){return t.op.toString()+" {"+t.getFilters().map(rw).join(" ,")+"}"})(i):"Filter"}class rM extends zt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class aM extends zt{constructor(e,t){super(e,"in",t),this.keys=aw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class oM extends zt{constructor(e,t){super(e,"not-in",t),this.keys=aw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aw(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class lM extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vy(t)&&_c(t.arrayValue,this.value)}}class uM extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class cM extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_c(this.value.arrayValue,t)}}class hM extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t=null,r=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function fT(i,e=null,t=[],r=[],o=null,u=null,c=null){return new fM(i,e,t,r,o,u,c)}function Uy(i){const e=Ce(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Hg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Nd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Cl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Cl(r))).join(",")),e.Te=t}return e.Te}function jy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!iM(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!sw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hT(i.startAt,e.startAt)&&hT(i.endAt,e.endAt)}function Gg(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dM(i,e,t,r,o,u,c,m){return new Ul(i,e,t,r,o,u,c,m)}function ow(i){return new Ul(i)}function dT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function lw(i){return i.collectionGroup!==null}function ac(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Kt(on.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new vc(u,r))})),t.has(on.keyField().canonicalString())||e.Ie.push(new vc(on.keyField(),r))}return e.Ie}function ss(i){const e=Ce(i);return e.Ee||(e.Ee=mM(e,ac(i))),e.Ee}function mM(i,e){if(i.limitType==="F")return fT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new vc(o.field,u)}));const t=i.endAt?new cd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new cd(i.startAt.position,i.startAt.inclusive):null;return fT(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Qg(i,e){const t=i.filters.concat([e]);return new Ul(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Kg(i,e,t){return new Ul(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Dd(i,e){return jy(ss(i),ss(e))&&i.limitType===e.limitType}function uw(i){return`${Uy(ss(i))}|lt:${i.limitType}`}function nl(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>rw(o))).join(", ")}]`),Nd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Cl(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Cl(o))).join(",")),`Target(${r})`})(ss(i))}; limitType=${i.limitType})`}function Od(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ee.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of ac(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=cT(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,ac(r),o)||r.endAt&&!(function(c,m,p){const g=cT(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,ac(r),o))})(i,e)}function pM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function cw(i){return(e,t)=>{let r=!1;for(const o of ac(i)){const u=gM(o,e,t);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function gM(i,e,t){const r=i.field.isKeyField()?Ee.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Rl(p,g):Se(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((t,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return QA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new _t(Ee.comparator);function qs(){return yM}const hw=new _t(Ee.comparator);function tc(...i){let e=hw;for(const t of i)e=e.insert(t.key,t);return e}function fw(i){let e=hw;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ua(){return oc()}function dw(){return oc()}function oc(){return new oo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const _M=new _t(Ee.comparator),vM=new Kt(Ee.comparator);function Ue(...i){let e=vM;for(const t of i)e=e.add(t);return e}const EM=new Kt(Ve);function bM(){return EM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function mw(i){return{integerValue:""+i}}function TM(i,e){return $O(e)?mw(e):zy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function SM(i,e,t){return i instanceof Ec?(function(o,u){const c={fields:{[$A]:{stringValue:YA},[WA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Py(u)&&(u=xd(u)),u&&(c.fields[XA]=u),{mapValue:c}})(t,e):i instanceof bc?gw(i,e):i instanceof Tc?yw(i,e):(function(o,u){const c=pw(o,u),m=mT(c)+mT(o.Ae);return qg(c)&&qg(o.Ae)?mw(m):zy(o.serializer,m)})(i,e)}function AM(i,e,t){return i instanceof bc?gw(i,e):i instanceof Tc?yw(i,e):t}function pw(i,e){return i instanceof hd?(function(r){return qg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Ec extends Md{}class bc extends Md{constructor(e){super(),this.elements=e}}function gw(i,e){const t=_w(e);for(const r of i.elements)t.some((o=>ls(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Tc extends Md{constructor(e){super(),this.elements=e}}function yw(i,e){let t=_w(e);for(const r of i.elements)t=t.filter((o=>!ls(o,r)));return{arrayValue:{values:t}}}class hd extends Md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function mT(i){return Nt(i.integerValue||i.doubleValue)}function _w(i){return Vy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,t){this.field=e,this.transform=t}}function RM(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof bc&&o instanceof bc||r instanceof Tc&&o instanceof Tc?wl(r.elements,o.elements,ls):r instanceof hd&&o instanceof hd?ls(r.Ae,o.Ae):r instanceof Ec&&o instanceof Ec})(i.transform,e.transform)}class CM{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class kd{}function vw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new By(i.key,Ti.none()):new Vc(i.key,i.data,Ti.none());{const t=i.data,r=Dn.empty();let o=new Kt(on.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ia(i.key,r,new Fn(o.toArray()),Ti.none())}}function IM(i,e,t){i instanceof Vc?(function(o,u,c){const m=o.value.clone(),p=gT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof ia?(function(o,u,c){if(!Qf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=gT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Ew(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function lc(i,e,t,r){return i instanceof Vc?(function(u,c,m,p){if(!Qf(u.precondition,c))return m;const g=u.value.clone(),_=yT(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,r):i instanceof ia?(function(u,c,m,p){if(!Qf(u.precondition,c))return m;const g=yT(u.fieldTransforms,p,c),_=c.data;return _.setAll(Ew(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,t,r):(function(u,c,m){return Qf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function NM(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=pw(r.transform,o||null);u!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,u))}return t||null}function pT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wl(r,o,((u,c)=>RM(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vc extends kd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends kd{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ew(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function gT(i,e,t){const r=new Map;We(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);r.set(u.field,AM(c,m,t[o]))}return r}function yT(i,e,t){const r=new Map;for(const o of i){const u=o.transform,c=t.data.field(o.field);r.set(o.field,SM(u,c,e))}return r}class By extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xM extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IM(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dw();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=vw(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((t,r)=>pT(t,r)))&&wl(this.baseMutations,e.baseMutations,((t,r)=>pT(t,r)))}}class Fy{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _M})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Fy(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Fe;function kM(i){switch(i){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function bw(i){if(i===void 0)return Fs("GRPC error has no .code"),te.UNKNOWN;switch(i){case jt.OK:return te.OK;case jt.CANCELLED:return te.CANCELLED;case jt.UNKNOWN:return te.UNKNOWN;case jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case jt.INTERNAL:return te.INTERNAL;case jt.UNAVAILABLE:return te.UNAVAILABLE;case jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case jt.NOT_FOUND:return te.NOT_FOUND;case jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case jt.ABORTED:return te.ABORTED;case jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case jt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:i})}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new qr([4294967295,4294967295],0);function _T(i){const e=LM().encode(i),t=new LA;return t.update(e),new Uint8Array(t.digest())}function vT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([t,r],0),new qr([o,u],0)]}class qy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qr.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(qr.fromNumber(r)));return o.compare(PM)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_T(e),[r,o]=vT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new qy(u,o,t);return r.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=_T(e),[r,o]=vT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ld(we.min(),o,new _t(Ve),qs(),Ue())}}class Uc{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uc(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class Tw{constructor(e,t){this.targetId=e,this.Ce=t}}class Sw{constructor(e,t,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ET{constructor(){this.ve=0,this.Fe=bT(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),r=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:u})}})),new Uc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=bT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VM{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=Rf(),this.He=Rf(),this.Ye=new _t(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Gg(u))if(r===0){const c=new Ee(u.path);this.et(t,c,fn.newNoDocument(c,we.min()))}else We(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=Yr(r).toUint8Array()}catch(p){if(p instanceof KA)return Al("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new qy(c,o,u)}catch(p){return Al(p instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Gg(m.target)){const p=new Ee(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,fn.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let r=Ue();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Ld(e,t,this.Ye,this.je,r);return this.je=qs(),this.Je=Rf(),this.He=Rf(),this.Ye=new _t(Ve),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ET,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ET),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rf(){return new _t(Ee.comparator)}function bT(){return new _t(Ee.comparator)}const UM={asc:"ASCENDING",desc:"DESCENDING"},jM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zM={and:"AND",or:"OR"};class BM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yg(i,e){return i.useProto3Json||Nd(e)?e:{value:e}}function fd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function FM(i,e){return fd(i,e.toTimestamp())}function rs(i){return We(!!i,49232),we.fromTimestamp((function(t){const r=Kr(t);return new ft(r.seconds,r.nanos)})(i))}function Hy(i,e){return $g(i,e).canonicalString()}function $g(i,e){const t=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function ww(i){const e=lt.fromString(i);return We(xw(e),10190,{key:e.toString()}),e}function Xg(i,e){return Hy(i.databaseId,e.path)}function lg(i,e){const t=ww(e);if(t.get(1)!==i.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ee(Cw(t))}function Rw(i,e){return Hy(i.databaseId,e)}function qM(i){const e=ww(i);return e.length===4?lt.emptyPath():Cw(e)}function Wg(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Cw(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function TT(i,e,t){return{name:Xg(i,e),fields:t.value.mapValue.fields}}function HM(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(We(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?te.UNKNOWN:bw(g.code);return new he(_,g.message||"")})(c);t=new Sw(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=lg(i,r.document.name),u=rs(r.document.updateTime),c=r.document.createTime?rs(r.document.createTime):we.min(),m=new Dn({mapValue:{fields:r.document.fields}}),p=fn.newFoundDocument(o,u,c,m),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Kf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=lg(i,r.document),u=r.readTime?rs(r.readTime):we.min(),c=fn.newNoDocument(o,u),m=r.removedTargetIds||[];t=new Kf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=lg(i,r.document),u=r.removedTargetIds||[];t=new Kf([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new MM(o,u),m=r.targetId;t=new Tw(m,c)}}return t}function GM(i,e){let t;if(e instanceof Vc)t={update:TT(i,e.key,e.value)};else if(e instanceof By)t={delete:Xg(i,e.key)};else if(e instanceof ia)t={update:TT(i,e.key,e.data),updateMask:e4(e.fieldMask)};else{if(!(e instanceof xM))return Se(16599,{Vt:e.type});t={verify:Xg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Ec)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hd)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),t}function QM(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((t=>(function(o,u){let c=o.updateTime?rs(o.updateTime):rs(u);return c.isEqual(we.min())&&(c=rs(u)),new CM(c,o.transformResults||[])})(t,e)))):[]}function KM(i,e){return{documents:[Rw(i,e.path)]}}function YM(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Rw(i,o);const u=(function(g){if(g.length!==0)return Nw(wi.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:il(w.field),direction:WM(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Yg(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function $M(i){let e=qM(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){We(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(b){const w=Iw(b);return w instanceof wi&&iw(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((w=>(function(z){return new vc(sl(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Nd(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(b){const w=!!b.before,D=b.values||[];return new cd(D,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const w=!b.before,D=b.values||[];return new cd(D,w)})(t.endAt)),dM(e,o,c,u,m,"F",p,g)}function XM(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Iw(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sl(t.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sl(t.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sl(t.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(t){return zt.create(sl(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return wi.create(t.compositeFilter.filters.map((r=>Iw(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(i):Se(30097,{filter:i})}function WM(i){return UM[i]}function JM(i){return jM[i]}function ZM(i){return zM[i]}function il(i){return{fieldPath:i.canonicalString()}}function sl(i){return on.fromServerFormat(i.fieldPath)}function Nw(i){return i instanceof zt?(function(t){if(t.op==="=="){if(uT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(lT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(lT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:JM(t.op),value:t.value}}})(i):i instanceof wi?(function(t){const r=t.getFilters().map((o=>Nw(o)));return r.length===1?r[0]:{compositeFilter:{op:ZM(t.op),filters:r}}})(i):Se(54877,{filter:i})}function e4(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,r,o,u=we.min(),c=we.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.yt=e}}function n4(i){const e=$M({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.Cn=new s4}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Qr.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class s4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Kt(lt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dw=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(Dw,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Il(0)}static cr(){return new Il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",r4=1048576;function wT([i,e],[t,r]){const o=Ve(i,t);return o===0?Ve(e,r):o}class a4{constructor(e){this.Ir=e,this.buffer=new Kt(wT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vl(t)?fe(AT,"Ignoring IndexedDB error during garbage collection: ",t):await Pl(t)}await this.Vr(3e5)}))}}class l4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Id.ce);const r=new a4(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(ST)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,t)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(g=Date.now(),tl()<=qe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function u4(i,e){return new l4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.changes=new oo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&lc(r.mutation,o,Fn.empty(),ft.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ue()){const o=Ua();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((u=>{let c=tc();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ua();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ue())))}populateOverlays(e,t,r){const o=[];return r.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,r,o){let u=qs();const c=oc(),m=(function(){return oc()})();return t.forEach(((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ia)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),lc(_.mutation,g,_.mutation.getFieldMask(),ft.now())):c.set(g.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>m.set(g,new h4(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=oc();let o=new _t(((c,m)=>c-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||Fn.empty();_=m.applyToLocalView(g,_),r.set(p,_);const b=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,b=dw();_.forEach((w=>{if(!u.has(w)){const D=vw(t.get(w),r.get(w));D!==null&&b.set(w,D),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ie.resolve(Ua());let m=pc,p=u;return c.next((g=>ie.forEach(g,((_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((_=>({batchId:m,changes:fw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let o=tc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const u=t.collectionGroup;let c=tc();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(b,w){return new Ul(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((_=>{_.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,fn.newInvalidDocument(_)))}));let m=tc();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&lc(_.mutation,g,Fn.empty(),ft.now()),Od(t,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:rs(o.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:n4(o.bundledQuery),readTime:rs(o.readTime)}})(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ua();return ie.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,u)=>{this.St(e,t,u)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const o=Ua(),u=t.length+1,c=new Ee(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new _t(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=Ua(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new OM(t,r));let u=this.qr.get(t);u===void 0&&(u=Ue(),this.qr.set(t,u)),this.qr.set(t,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Qr=new Kt(Jt.$r),this.Ur=new Kt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Jt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new lt([])),r=new Jt(t,e),o=new Jt(t,e+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new lt([])),r=new Jt(t,e),o=new Jt(t,e+1);let u=Ue();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Jt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Jt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new DM(u,t,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ly:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Jt(t,0),o=new Jt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kt(Ve);return t.forEach((o=>{const u=new Jt(o,0),c=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ee.isDocumentKey(u)||(u=u.child(""));const c=new Jt(new Ee(u),0);let m=new Kt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(t.mutations,(o=>{const u=new Jt(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Jt(t,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=qs();return t.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=qs();const c=t.path,m=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||GO(HO(_),r)<=0||(o.has(_.key)||Od(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,r,o){Se(9500)}ii(e,t){return ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _4(this)}getSize(e){return ie.resolve(this.size)}}class _4 extends c4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.persistence=e,this.si=new oo((t=>Uy(t)),jy),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Gy,this.targetCount=0,this.ai=Il.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.ui={},this.overlays={},this.ci=new Id(0),this.li=!1,this.li=!0,this.hi=new p4,this.referenceDelegate=e(this),this.Pi=new v4(this),this.indexManager=new i4,this.remoteDocumentCache=(function(o){return new y4(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new t4(t),this.Ii=new d4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new g4(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const o=new E4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class E4 extends KO{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Ri=new Gy,this.Vi=null}static mi(e){return new Qy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((u=>{u||t.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class dd{constructor(e,t){this.persistence=e,this.pi=new oo((r=>XO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=u4(this,t)}static mi(e,t){return new dd(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ie.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(r++,u.removeEntry(c,we.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hf(e.data.value)),t}br(e,t,r){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ky(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return j2()?8:YO(dn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new b4;return this.Ss(e,t,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>u.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(tl()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(tl()<=qe.DEBUG&&fe("QueryEngine","Query:",nl(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(tl()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(t))):ie.resolve())}ys(e,t){if(dT(t))return ie.resolve(null);let r=ss(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Kg(t,null,"F"),r=ss(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const c=Ue(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,Kg(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,o){return dT(t)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,r,o)?ie.resolve(null):(tl()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(t)),this.vs(e,c,t,qO(o,pc)).next((m=>m)))}))}Ds(e,t){let r=new Kt(cw(e));return t.forEach(((o,u)=>{Od(e,u)&&(r=r.add(u))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,r){return tl()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",nl(t)),this.ps.getDocumentsMatchingQuery(e,t,Qr.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LocalStore",S4=3e8;class A4{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(Ve),this.xs=new oo((u=>Uy(u)),jy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function w4(i,e,t,r){return new A4(i,e,t,r)}async function Mw(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ue();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function R4(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const b=g.batch,w=b.keys();let D=ie.resolve();return w.forEach((z=>{D=D.next((()=>_.getEntry(p,z))).next((V=>{const L=g.docVersions.get(z);We(L!==null,48541),V.version.compareTo(L)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),_.addEntry(V)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(t,r,e,u).next((()=>u.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function kw(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function C4(i,e){const t=Ce(i),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((_,b)=>{const w=o.get(b);if(!w)return;m.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,b))));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(ln.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,r)),o=o.insert(b,D),(function(V,L,W){return V.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=S4?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(w,D,_)&&m.push(t.Pi.updateTargetData(u,D))}));let p=qs(),g=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(I4(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(we.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(_)}return ie.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function I4(i,e,t){let r=Ue(),o=Ue();return t.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let c=qs();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):fe(Yy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function N4(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ly),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function x4(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((u=>u?(o=u,ie.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new jr(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Jg(i,e,t){const r=Ce(i),o=r.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Vl(c))throw c;fe(Yy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function RT(i,e,t){const r=Ce(i);let o=we.min(),u=Ue();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const b=Ce(p),w=b.xs.get(_);return w!==void 0?ie.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,_)})(r,c,ss(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:we.min(),t?u:Ue()))).next((m=>(D4(r,pM(e),m),{documents:m,Qs:u})))))}function D4(i,e,t){let r=i.Os.get(e)||we.min();t.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class CT{constructor(){this.activeTargetIds=bM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.Mo=new CT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="ConnectivityMonitor";class NT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(IT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(IT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function Zg(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="RestConnection",k4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ld?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,u){const c=Zg(),m=this.zo(e,t.toUriEncodedString());fe(ug,`Sending RPC '${e}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Zr(g);return this.Jo(e,m,p,r,_).then((b=>(fe(ug,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Al(ug,`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(e,t,r,o,u,c){return this.Go(e,t,r,o,u)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const r=k4[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class V4 extends L4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,u){const c=Zg();return new Promise(((m,p)=>{const g=new PA;g.setWithCredentials(!0),g.listenOnce(VA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case qf.NO_ERROR:const b=g.getResponseJson();fe(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),m(b);break;case qf.TIMEOUT:fe(cn,`RPC '${e}' ${c} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const w=g.getStatus();if(fe(cn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const z=D==null?void 0:D.error;if(z&&z.status&&z.message){const V=(function(W){const se=W.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(se)>=0?se:te.UNKNOWN})(z.status);p(new he(V,z.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(cn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe(cn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const o=Zg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zA(),m=jA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(cn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=c.createWebChannel(_,p);this.I_(b);let w=!1,D=!1;const z=new P4({Yo:L=>{D?fe(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(w||(fe(cn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),fe(cn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),V=(L,W,se)=>{L.listen(W,(X=>{try{se(X)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return V(b,ec.EventType.OPEN,(()=>{D||(fe(cn,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),V(b,ec.EventType.CLOSE,(()=>{D||(D=!0,fe(cn,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(b))})),V(b,ec.EventType.ERROR,(L=>{D||(D=!0,Al(cn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),z.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),V(b,ec.EventType.MESSAGE,(L=>{var W;if(!D){const se=L.data[0];We(!!se,16349);const X=se,oe=(X==null?void 0:X.error)||((W=X[0])==null?void 0:W.error);if(oe){fe(cn,`RPC '${e}' stream ${o} received error:`,oe);const re=oe.status;let me=(function(R){const O=jt[R];if(O!==void 0)return bw(O)})(re),x=oe.message;me===void 0&&(me=te.INTERNAL,x="Unknown error status: "+re+" with message "+oe.message),D=!0,z.a_(new he(me,x)),b.close()}else fe(cn,`RPC '${e}' stream ${o} received:`,se),z.u_(se)}})),V(m,UA.STAT_EVENT,(L=>{L.stat===zg.PROXY?fe(cn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===zg.NOPROXY&&fe(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(i){return new BM(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class Pw{constructor(e,t,r,o,u,c,m,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U4 extends Pw{constructor(e,t,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=HM(this.serializer,e),r=(function(u){if(!("targetChange"in u))return we.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?rs(c.readTime):we.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Wg(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=Gg(p)?{documents:KM(u,p)}:{query:YM(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Aw(u,c.resumeToken);const g=Yg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=fd(u,c.snapshotVersion.toTimestamp());const g=Yg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=XM(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Wg(this.serializer),t.removeTarget=e,this.q_(t)}}class j4 extends Pw{constructor(e,t,r,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=QM(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Wg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>GM(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{}class B4 extends z4{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,$g(t,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())}))}Ho(e,t,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,$g(t,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class F4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class q4{constructor(e,t,r,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{lo(this)&&(fe(io,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await jc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Vd(g)})(this))}))})),this.Ra=new F4(r,o)}}async function Vd(i){if(lo(i))for(const e of i.da)await e(!0)}async function jc(i){for(const e of i.da)await e(!1)}function Vw(i,e){const t=Ce(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Jy(t)?Wy(t):jl(t).O_()&&Xy(t,e))}function $y(i,e){const t=Ce(i),r=jl(t);t.Ia.delete(e),r.O_()&&Uw(t,e),t.Ia.size===0&&(r.O_()?r.L_():lo(t)&&t.Ra.set("Unknown"))}function Xy(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jl(i).Y_(e)}function Uw(i,e){i.Va.Ue(e),jl(i).Z_(e)}function Wy(i){i.Va=new VM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jl(i).start(),i.Ra.ua()}function Jy(i){return lo(i)&&!jl(i).x_()&&i.Ia.size>0}function lo(i){return Ce(i).Ea.size===0}function jw(i){i.Va=void 0}async function H4(i){i.Ra.set("Online")}async function G4(i){i.Ia.forEach(((e,t)=>{Xy(i,e)}))}async function Q4(i,e){jw(i),Jy(i)?(i.Ra.ha(e),Wy(i)):i.Ra.set("Unknown")}async function K4(i,e,t){if(i.Ra.set("Online"),e instanceof Sw&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(r){fe(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(i,r)}else if(e instanceof Kf?i.Va.Ze(e):e instanceof Tw?i.Va.st(e):i.Va.tt(e),!t.isEqual(we.min()))try{const r=await kw(i.localStore);t.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),Uw(u,p);const b=new jr(_.target,p,g,_.sequenceNumber);Xy(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(r){fe(io,"Failed to raise snapshot:",r),await md(i,r)}}async function md(i,e,t){if(!Vl(e))throw e;i.Ea.add(1),await jc(i),i.Ra.set("Offline"),t||(t=()=>kw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(io,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Vd(i)}))}function zw(i,e){return e().catch((t=>md(i,t,e)))}async function Ud(i){const e=Ce(i),t=Xr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ly;for(;Y4(e);)try{const o=await N4(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,$4(e,o)}catch(o){await md(e,o)}Bw(e)&&Fw(e)}function Y4(i){return lo(i)&&i.Ta.length<10}function $4(i,e){i.Ta.push(e);const t=Xr(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Bw(i){return lo(i)&&!Xr(i).x_()&&i.Ta.length>0}function Fw(i){Xr(i).start()}async function X4(i){Xr(i).ra()}async function W4(i){const e=Xr(i);for(const t of i.Ta)e.ea(t.mutations)}async function J4(i,e,t){const r=i.Ta.shift(),o=Fy.from(r,e,t);await zw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ud(i)}async function Z4(i,e){e&&Xr(i).X_&&await(async function(r,o){if((function(c){return kM(c)&&c!==te.ABORTED})(o.code)){const u=r.Ta.shift();Xr(r).B_(),await zw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ud(r)}})(i,e),Bw(i)&&Fw(i)}async function DT(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),fe(io,"RemoteStore received new credentials");const r=lo(t);t.Ea.add(3),await jc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vd(t)}async function ek(i,e){const t=Ce(i);e?(t.Ea.delete(2),await Vd(t)):e||(t.Ea.add(2),await jc(t),t.Ra.set("Unknown"))}function jl(i){return i.ma||(i.ma=(function(t,r,o){const u=Ce(t);return u.sa(),new U4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:H4.bind(null,i),t_:G4.bind(null,i),r_:Q4.bind(null,i),H_:K4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Jy(i)?Wy(i):i.Ra.set("Unknown")):(await i.ma.stop(),jw(i))}))),i.ma}function Xr(i){return i.fa||(i.fa=(function(t,r,o){const u=Ce(t);return u.sa(),new j4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:X4.bind(null,i),r_:Z4.bind(null,i),ta:W4.bind(null,i),na:J4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ud(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(io,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){const c=Date.now()+r,m=new Zy(e,t,c,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(i,e){if(Fs("AsyncQueue",`${e}: ${i}`),Vl(i))return new he(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=tc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.ga=new _t(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Nl{constructor(e,t,r,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new Nl(e,t,ul.emptySet(t),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nk{constructor(){this.queries=MT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ce(t),u=o.queries;o.queries=MT(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function MT(){return new oo((i=>uw(i)),Dd)}async function ik(i,e){const t=Ce(i);let r=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new tk,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=e_(c,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&t_(t)}async function sk(i,e){const t=Ce(i),r=e.query;let o=3;const u=t.queries.get(r);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function rk(i,e){const t=Ce(i);let r=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&t_(t)}function ak(i,e,t){const r=Ce(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);r.queries.delete(e)}function t_(i){i.Ca.forEach((e=>{e.next()}))}var ey,kT;(kT=ey||(ey={})).Ma="default",kT.Cache="cache";class ok{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.key=e}}class Hw{constructor(e){this.key=e}}class lk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=cw(e),this.tu=new ul(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new OT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const w=o.get(_),D=Od(this.query,b)?b:null,z=!!w&&this.mutatedKeys.has(w.key),V=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;w&&D?w.data.isEqual(D.data)?z!==V&&(r.track({type:3,doc:D}),L=!0):this.su(w,D)||(r.track({type:2,doc:D}),L=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!w&&D?(r.track({type:0,doc:D}),L=!0):w&&!D&&(r.track({type:1,doc:w}),L=!0,(p||g)&&(m=!0)),L&&(D?(c=c.add(D),u=V?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,b)=>(function(D,z){const V=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:L})}};return V(D)-V(z)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(r),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Nl(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Hw(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new qw(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const n_="SyncEngine";class uk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ck{constructor(e){this.key=e,this.hu=!1}}class hk{constructor(e,t,r,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oo((m=>uw(m)),Dd),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new Gy,this.Vu={},this.mu=new Map,this.fu=Il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fk(i,e,t=!0){const r=Xw(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Gw(r,e,t,!0),o}async function dk(i,e){const t=Xw(i);await Gw(t,e,!0,!1)}async function Gw(i,e,t,r){const o=await x4(i.localStore,ss(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,t);let m;return r&&(m=await mk(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&Vw(i.remoteStore,o),m}async function mk(i,e,t,r,o){i.pu=(b,w,D)=>(async function(V,L,W,se){let X=L.view.ru(W);X.Cs&&(X=await RT(V.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,X))));const oe=se&&se.targetChanges.get(L.targetId),re=se&&se.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(X,V.isPrimaryClient,oe,re);return PT(V,L.targetId,me.au),me.snapshot})(i,b,w,D);const u=await RT(i.localStore,e,!0),c=new lk(e,u.Qs),m=c.ru(u.documents),p=Uc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);PT(i,t,g.au);const _=new uk(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function pk(i,e,t){const r=Ce(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Dd(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&$y(r.remoteStore,o.targetId),ty(r,o.targetId)})).catch(Pl)):(ty(r,o.targetId),await Jg(r.localStore,o.targetId,!0))}async function gk(i,e){const t=Ce(i),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$y(t.remoteStore,r.targetId))}async function yk(i,e,t){const r=Ak(i);try{const o=await(function(c,m){const p=Ce(c),g=ft.now(),_=m.reduce(((D,z)=>D.add(z.key)),Ue());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let z=qs(),V=Ue();return p.Ns.getEntries(D,_).next((L=>{z=L,z.forEach(((W,se)=>{se.isValidDocument()||(V=V.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,z))).next((L=>{b=L;const W=[];for(const se of m){const X=NM(se,b.get(se.key).overlayedDocument);X!=null&&W.push(new ia(se.key,X,ew(X.value.mapValue),Ti.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,W,m)})).next((L=>{w=L;const W=L.applyToLocalDocumentSet(b,V);return p.documentOverlayCache.saveOverlays(D,L.batchId,W)}))})).then((()=>({batchId:w.batchId,changes:fw(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(Ve)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,t),await zc(r,o.changes),await Ud(r.remoteStore)}catch(o){const u=e_(o,"Failed to persist write");t.reject(u)}}async function Qw(i,e){const t=Ce(i);try{const r=await C4(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await zc(t,r,e)}catch(r){await Pl(r)}}function LT(i,e,t){const r=Ce(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ce(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,b)=>{for(const w of b.Sa)w.va(m)&&(g=!0)})),g&&t_(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _k(i,e,t){const r=Ce(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),u=o&&o.key;if(u){let c=new _t(Ee.comparator);c=c.insert(u,fn.newNoDocument(u,we.min()));const m=Ue().add(u),p=new Ld(we.min(),new Map,new _t(Ve),c,m);await Qw(r,p),r.du=r.du.remove(u),r.Au.delete(e),i_(r)}else await Jg(r.localStore,e,!1).then((()=>ty(r,e,t))).catch(Pl)}async function vk(i,e){const t=Ce(i),r=e.batch.batchId;try{const o=await R4(t.localStore,e);Yw(t,r,null),Kw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zc(t,o)}catch(o){await Pl(o)}}async function Ek(i,e,t){const r=Ce(i);try{const o=await(function(c,m){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(We(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);Yw(r,e,t),Kw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zc(r,o)}catch(o){await Pl(o)}}function Kw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Yw(i,e,t){const r=Ce(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ty(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||$w(i,r)}))}function $w(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&($y(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),i_(i))}function PT(i,e,t){for(const r of t)r instanceof qw?(i.Ru.addReference(r.key,e),bk(i,r)):r instanceof Hw?(fe(n_,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||$w(i,r.key)):Se(19791,{wu:r})}function bk(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(fe(n_,"New document in limbo: "+t),i.Eu.add(r),i_(i))}function i_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Ee(lt.fromString(e)),r=i.fu.next();i.Au.set(r,new ck(t)),i.du=i.du.insert(t,r),Vw(i.remoteStore,new jr(ss(ow(t.path)),r,"TargetPurposeLimboResolution",Id.ce))}}async function zc(i,e,t){const r=Ce(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,e,t).then((g=>{var _;if((g||t)&&r.isPrimaryClient){const b=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Ky.As(p.targetId,g);u.push(b)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(w=>ie.forEach(w.Es,(D=>_.persistence.referenceDelegate.addReference(b,w.targetId,D))).next((()=>ie.forEach(w.ds,(D=>_.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))))))}catch(b){if(!Vl(b))throw b;fe(Yy,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const D=_.Ms.get(w),z=D.snapshotVersion,V=D.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(w,V)}}})(r.localStore,u))}async function Tk(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){fe(n_,"User change. New user:",e.toKey());const r=await Mw(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(te.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(t,r.Ls)}}function Sk(i,e){const t=Ce(i),r=t.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Xw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_k.bind(null,e),e.Pu.H_=rk.bind(null,e.eventManager),e.Pu.yu=ak.bind(null,e.eventManager),e}function Ak(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ek.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return w4(this.persistence,new T4,e.initialUser,this.serializer)}Cu(e){return new Ow(Qy.mi,this.serializer)}Du(e){return new O4}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class wk extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof dd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new o4(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Ow((r=>dd.mi(r,t)),this.serializer)}}class ny{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tk.bind(null,this.syncEngine),await ek(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nk})()}createDatastore(e){const t=Pd(e.databaseInfo.databaseId),r=(function(u){return new V4(u)})(e.databaseInfo);return(function(u,c,m,p){return new B4(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,u,c,m){return new q4(r,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>LT(this.syncEngine,t,0)),(function(){return NT.v()?new NT:new M4})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,_){const b=new hk(o,u,c,m,p,g);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=Ce(o);fe(io,"RemoteStore shutting down."),u.Ea.add(5),await jc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}ny.provider={build:()=>new ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class Ck{constructor(e,t,r,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=ky.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{fe(Wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(fe(Wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=e_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hg(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Wr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Mw(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function VT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Ik(i);fe(Wr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>DT(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>DT(e.remoteStore,o))),i._onlineComponents=e}async function Ik(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Wr,"Using user provided OfflineComponentProvider");try{await hg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),await hg(i,new pd)}}else fe(Wr,"Using default OfflineComponentProvider"),await hg(i,new wk(void 0));return i._offlineComponents}async function Ww(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Wr,"Using user provided OnlineComponentProvider"),await VT(i,i._uninitializedComponentsProvider._online)):(fe(Wr,"Using default OnlineComponentProvider"),await VT(i,new ny))),i._onlineComponents}function Nk(i){return Ww(i).then((e=>e.syncEngine))}async function xk(i){const e=await Ww(i),t=e.eventManager;return t.onListen=fk.bind(null,e.syncEngine),t.onUnlisten=pk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gk.bind(null,e.syncEngine),t}function Dk(i,e,t={}){const r=new Hr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new Rk({next:w=>{_.Nu(),c.enqueueAndForget((()=>sk(u,b))),w.fromCache&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new ok(m,_,{includeMetadataChanges:!0,qa:!0});return ik(u,b)})(await xk(i),i.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="firestore.googleapis.com",jT=!0;class zT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zw,this.ssl=jT}else this.host=e.host,this.ssl=e.ssl??jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r4)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OO;switch(r.type){case"firstParty":return new PO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=UT.get(t);r&&(fe("ComponentProvider","Removing Datastore"),UT.delete(t),r.terminate())})(this),Promise.resolve()}}function Ok(i,e,t,r={}){var g;i=no(i,jd);const o=Zr(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(by(`https://${m}`),Ty("Firestore",!0)),u.host!==Zw&&u.host!==m&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Wa(p,c)&&(i._setSettings(p),r.mockUserToken)){let _,b;if(typeof r.mockUserToken=="string")_=r.mockUserToken,b=hn.MOCK_USER;else{_=$S(r.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(w)}i._authCredentials=new MO(new FA(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Qt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Pc(t,Qt._jsonSchema))return new Qt(e,r||null,new Ee(lt.fromString(t.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Bt("string",Qt._jsonSchemaVersion),referencePath:Bt("string")};class Gr extends uo{constructor(e,t,r){super(e,t,ow(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Ee(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function BT(i,e,...t){if(i=yt(i),qA("collection","path",e),i instanceof jd){const r=lt.fromString(e,...t);return Zb(r),new Gr(i,null,r)}{if(!(i instanceof Qt||i instanceof Gr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return Zb(r),new Gr(i.firestore,null,r)}}function iy(i,e,...t){if(i=yt(i),arguments.length===1&&(e=ky.newId()),qA("doc","path",e),i instanceof jd){const r=lt.fromString(e,...t);return Jb(r),new Qt(i,null,new Ee(r))}{if(!(i instanceof Qt||i instanceof Gr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return Jb(r),new Qt(i.firestore,i instanceof Gr?i.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lw(this,"async_queue_retry"),this._c=()=>{const r=cg();r&&fe(FT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=cg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=cg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;fe(FT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",HT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Zy.createAndSchedule(this,e,t,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:HT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function HT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Bc extends jd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new qT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function Mk(i,e){const t=typeof i=="object"?i:Ay(),r=typeof i=="string"?i:ld,o=Sd(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=QS("firestore");u&&Ok(o,...u)}return o}function eR(i){if(i._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kk(i),i._firestoreClient}function kk(i){var r,o,u;const e=i._freezeSettings(),t=(function(m,p,g,_){return new ZO(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Jw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(i._databaseId,((r=i._app)==null?void 0:r.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Ck(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(ln.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ri(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Bt("string",ri._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Bt("string",as._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new os(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Bt("string",os._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=/^__.*__$/;class Pk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vc(e,this.data,t,this.fieldTransforms)}}class tR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nR(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class s_{constructor(e,t,r,o,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new s_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nR(this.Ac)&&Lk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Vk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pd(e)}Cc(e,t,r,o=!1){return new s_({Ac:e,methodName:t,Dc:r,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r_(i){const e=i._freezeSettings(),t=Pd(i._databaseId);return new Vk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Uk(i,e,t,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);o_("Data must be an object, but it was:",c,r);const m=iR(r,c);let p,g;if(u.merge)p=new Fn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const w=sy(e,b,t);if(!c.contains(w))throw new he(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);rR(_,w)||_.push(w)}p=new Fn(_),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new Pk(new Dn(m),p,g)}class Fd extends Bd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}class a_ extends Bd{_toFieldTransform(e){return new wM(e.path,new Ec)}isEqual(e){return e instanceof a_}}function jk(i,e,t,r){const o=i.Cc(1,e,t);o_("Data must be an object, but it was:",o,r);const u=[],c=Dn.empty();na(r,((p,g)=>{const _=l_(e,p,t);g=yt(g);const b=o.yc(_);if(g instanceof Fd)u.push(_);else{const w=Fc(g,b);w!=null&&(u.push(_),c.set(_,w))}}));const m=new Fn(u);return new tR(c,m,o.fieldTransforms)}function zk(i,e,t,r,o,u){const c=i.Cc(1,e,t),m=[sy(e,r,t)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(sy(e,u[w])),p.push(u[w+1]);const g=[],_=Dn.empty();for(let w=m.length-1;w>=0;--w)if(!rR(g,m[w])){const D=m[w];let z=p[w];z=yt(z);const V=c.yc(D);if(z instanceof Fd)g.push(D);else{const L=Fc(z,V);L!=null&&(g.push(D),_.set(D,L))}}const b=new Fn(g);return new tR(_,b,c.fieldTransforms)}function Bk(i,e,t,r=!1){return Fc(t,i.Cc(r?4:3,e))}function Fc(i,e){if(sR(i=yt(i)))return o_("Unsupported field value:",e,i),iR(i,e);if(i instanceof Bd)return(function(r,o){if(!nR(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Fc(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ft.fromDate(r);return{timestampValue:fd(o.serializer,u)}}if(r instanceof ft){const u=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(o.serializer,u)}}if(r instanceof as)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:Aw(o.serializer,r._byteString)};if(r instanceof Qt){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof os)return(function(c,m){return{mapValue:{fields:{[JA]:{stringValue:ZA},[ud]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return zy(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Cd(r)}`)})(i,e)}function iR(i,e){const t={};return QA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(i,((r,o)=>{const u=Fc(o,e.mc(r));u!=null&&(t[r]=u)})),{mapValue:{fields:t}}}function sR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof as||i instanceof ri||i instanceof Qt||i instanceof Bd||i instanceof os)}function o_(i,e,t){if(!sR(t)||!HA(t)){const r=Cd(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function sy(i,e,t){if((e=yt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return l_(i,e);throw gd("Field path arguments must be of type string or ",i,!1,void 0,t)}const Fk=new RegExp("[~\\*/\\[\\]]");function l_(i,e,t){if(e.search(Fk)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function gd(i,e,t,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+i+p)}function rR(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qk extends aR{data(){return super.data()}}function u_(i,e){return typeof e=="string"?l_(i,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c_{}class oR extends c_{}function Gk(i,e,...t){let r=[];e instanceof c_&&r.push(e),r=r.concat(t),(function(u){const c=u.filter((p=>p instanceof f_)).length,m=u.filter((p=>p instanceof h_)).length;if(c>1||c>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class h_ extends oR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new h_(e,t,r)}_apply(e){const t=this._parse(e);return lR(e._query,t),new uo(e.firestore,e.converter,Qg(e._query,t))}_parse(e){const t=r_(e.firestore);return(function(u,c,m,p,g,_,b){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){QT(b,_);const z=[];for(const V of b)z.push(GT(p,u,V));w={arrayValue:{values:z}}}else w=GT(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||QT(b,_),w=Bk(m,c,b,_==="in"||_==="not-in");return zt.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class f_ extends c_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new f_(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:wi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)lR(c,p),c=Qg(c,p)})(e._query,t),new uo(e.firestore,e.converter,Qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class d_ extends oR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new d_(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(u,c)})(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Ul(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Qk(i,e="asc"){const t=e,r=u_("orderBy",i);return d_._create(r,t)}function GT(i,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(lt.fromString(t));if(!Ee.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oT(i,new Ee(r))}if(t instanceof Qt)return oT(i,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(t)}.`)}function QT(i,e){if(!Array.isArray(i)||i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lR(i,e){const t=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Kk{convertValue(e,t="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return na(e,((o,u)=>{r[o]=this.convertValue(u,t)})),r}convertVectorValue(e){var r,o,u;const t=(u=(o=(r=e.fields)==null?void 0:r[ud].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>Nt(c.doubleValue)));return new os(t)}convertGeoPoint(e){return new as(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const t=Kr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lt.fromString(e);We(xw(r),9688,{name:e});const o=new yc(r.get(1),r.get(3)),u=new Ee(r.popFirst(5));return o.isEqual(t)||Fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class If{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends aR{constructor(e,t,r,o,u,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(u_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:Bt("string",cl._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Yf extends cl{data(e={}){return super.data(e)}}class hl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new If(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Yf(this._firestore,this._userDataWriter,r.key,r,new If(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Yf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new If(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Yf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new If(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:$k(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ky.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $k(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Bt("string",hl._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Xk extends Kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}}function Wk(i){i=no(i,uo);const e=no(i.firestore,Bc),t=eR(e),r=new Xk(e);return Hk(i._query),Dk(t,i._query).then((o=>new hl(e,r,i,o)))}function Jk(i,e,t,...r){i=no(i,Qt);const o=no(i.firestore,Bc),u=r_(o);let c;return c=typeof(e=yt(e))=="string"||e instanceof zd?zk(u,"updateDoc",i._key,e,t,r):jk(u,"updateDoc",i._key,e),m_(o,[c.toMutation(i._key,Ti.exists(!0))])}function Zk(i){return m_(no(i.firestore,Bc),[new By(i._key,Ti.none())])}function eL(i,e){const t=no(i.firestore,Bc),r=iy(i),o=Yk(i.converter,e);return m_(t,[Uk(r_(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function m_(i,e){return(function(r,o){const u=new Hr;return r.asyncQueue.enqueueAndForget((async()=>yk(await Nk(r),o,u))),u.promise})(eR(i),e)}function fg(){return new a_("serverTimestamp")}(function(e,t=!0){(function(o){Ll=o})(ro),Ja(new RO("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Bc(new kO(r.getProvider("auth-internal")),new VO(c,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ts(Yb,$b,e),ts(Yb,$b,"esm2020")})();class tL{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebasestorage.googleapis.com",cR="storageBucket",nL=120*1e3,iL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends us{constructor(e,t,r=0){super(dg(e),`Firebase Storage: ${t} (${dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function dg(i){return"storage/"+i}function p_(){const i="An unknown error occurred, please check the error payload for server response.";return new At(St.UNKNOWN,i)}function sL(i){return new At(St.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function rL(i){return new At(St.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aL(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(St.UNAUTHENTICATED,i)}function oL(){return new At(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lL(i){return new At(St.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function uL(){return new At(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cL(){return new At(St.CANCELED,"User canceled the upload/download.")}function hL(i){return new At(St.INVALID_URL,"Invalid URL '"+i+"'.")}function fL(i){return new At(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function dL(){return new At(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cR+"' property when initializing the app?")}function mL(){return new At(St.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pL(){return new At(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gL(i){return new At(St.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ry(i){return new At(St.INVALID_ARGUMENT,i)}function hR(){return new At(St.APP_DELETED,"The Firebase app was deleted.")}function yL(i){return new At(St.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uc(i,e){return new At(St.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ku(i){throw new At(St.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qn.makeFromUrl(e,t)}catch{return new qn(e,"")}if(r.path==="")return r;throw fL(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const _="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${_}/b/${o}/o${w}`,"i"),z={bucket:1,path:3},V=t===uR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",W=new RegExp(`^https?://${V}/${o}/${L}`,"i"),X=[{regex:m,indices:p,postModify:u},{regex:D,indices:z,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<X.length;oe++){const re=X[oe],me=re.regex.exec(e);if(me){const x=me[re.indices.bucket];let S=me[re.indices.path];S||(S=""),r=new qn(x,S),re.postModify(r);break}}if(r==null)throw hL(e);return r}}class _L{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(i,e,t){let r=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function _(...L){g||(g=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,i(D,p())},L)}function w(){u&&clearTimeout(u)}function D(L,...W){if(g){w();return}if(L){w(),_.call(null,L,...W);return}if(p()||c){w(),_.call(null,L,...W);return}r<64&&(r*=2);let X;m===1?(m=2,X=0):X=(r+Math.random())*1e3,b(X)}let z=!1;function V(L){z||(z=!0,w(),!g&&(o!==null?(L||(m=2),clearTimeout(o),b(0)):L||(m=1)))}return b(0),u=setTimeout(()=>{c=!0,V(!0)},t),V}function EL(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(i){return i!==void 0}function TL(i){return typeof i=="object"&&!Array.isArray(i)}function g_(i){return typeof i=="string"||i instanceof String}function KT(i){return y_()&&i instanceof Blob}function y_(){return typeof Blob<"u"}function YT(i,e,t,r){if(r<e)throw ry(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw ry(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(i,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${i}`}function fR(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ya;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ya||(Ya={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,t,r,o,u,c,m,p,g,_,b,w=!0,D=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,V)=>{this.resolve_=z,this.reject_=V,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Nf(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===Ya.NO_ERROR,p=u.getStatus();if(!m||SL(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Ya.ABORT;r(!1,new Nf(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Nf(g,u))})},t=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());bL(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=p_();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?hR():cL();c(p)}else{const p=uL();c(p)}};this.canceled_?t(!1,new Nf(!1,null,!0)):this.backoffId_=vL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function wL(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function RL(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CL(i,e){e&&(i["X-Firebase-GMPID"]=e)}function IL(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function NL(i,e,t,r,o,u,c=!0,m=!1){const p=fR(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return CL(_,e),wL(_,t),RL(_,u),IL(_,r),new AL(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DL(...i){const e=xL();if(e!==void 0){const t=new e;for(let r=0;r<i.length;r++)t.append(i[r]);return t.getBlob()}else{if(y_())return new Blob(i);throw new At(St.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function OL(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(i){if(typeof atob>"u")throw gL("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mg{constructor(e,t){this.data=e,this.contentType=t||null}}function kL(i,e){switch(i){case es.RAW:return new mg(dR(e));case es.BASE64:case es.BASE64URL:return new mg(mR(i,e));case es.DATA_URL:return new mg(PL(e),VL(e))}throw p_()}function dR(i){const e=[];for(let t=0;t<i.length;t++){let r=i.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=r,c=i.charCodeAt(++t);r=65536|(u&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function LL(i){let e;try{e=decodeURIComponent(i)}catch{throw uc(es.DATA_URL,"Malformed data URL.")}return dR(e)}function mR(i,e){switch(i){case es.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw uc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case es.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw uc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ML(e)}catch(o){throw o.message.includes("polyfill")?o:uc(i,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class pR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw uc(es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=UL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PL(i){const e=new pR(i);return e.base64?mR(es.BASE64,e.rest):LL(e.rest)}function VL(i){return new pR(i).contentType}function UL(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t){let r=0,o="";KT(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(KT(this.data_)){const r=this.data_,o=OL(r,e,t);return o===null?null:new Nr(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Nr(r,!0)}}static getBlob(...e){if(y_()){const t=e.map(r=>r instanceof Nr?r.data_:r);return new Nr(DL.apply(null,t))}else{const t=e.map(c=>g_(c)?kL(es.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new Nr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(i){let e;try{e=JSON.parse(i)}catch{return null}return TL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function zL(i,e){const t=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?t:i+"/"+t}function yR(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(i,e){return e}class yn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||BL}}let xf=null;function FL(i){return!g_(i)||i.length<2?i:yR(i)}function _R(){if(xf)return xf;const i=[];i.push(new yn("bucket")),i.push(new yn("generation")),i.push(new yn("metageneration")),i.push(new yn("name","fullPath",!0));function e(u,c){return FL(c)}const t=new yn("name");t.xform=e,i.push(t);function r(u,c){return c!==void 0?Number(c):c}const o=new yn("size");return o.xform=r,i.push(o),i.push(new yn("timeCreated")),i.push(new yn("updated")),i.push(new yn("md5Hash",null,!0)),i.push(new yn("cacheControl",null,!0)),i.push(new yn("contentDisposition",null,!0)),i.push(new yn("contentEncoding",null,!0)),i.push(new yn("contentLanguage",null,!0)),i.push(new yn("contentType",null,!0)),i.push(new yn("metadata","customMetadata",!0)),xf=i,xf}function qL(i,e){function t(){const r=i.bucket,o=i.fullPath,u=new qn(r,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function HL(i,e,t){const r={};r.type="file";const o=t.length;for(let u=0;u<o;u++){const c=t[u];r[c.local]=c.xform(r,e[c.server])}return qL(r,i),r}function vR(i,e,t){const r=gR(e);return r===null?null:HL(i,r,t)}function GL(i,e,t,r){const o=gR(e);if(o===null||!g_(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const _=i.bucket,b=i.fullPath,w="/b/"+c(_)+"/o/"+c(b),D=qd(w,t,r),z=fR({alt:"media",token:g});return D+z})[0]}function QL(i,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class __{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(i){if(!i)throw p_()}function KL(i,e){function t(r,o){const u=vR(i,o,e);return ER(u!==null),u}return t}function YL(i,e){function t(r,o){const u=vR(i,o,e);return ER(u!==null),GL(u,o,i.host,i._protocol)}return t}function bR(i){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=oL():o=aL():t.getStatus()===402?o=rL(i.bucket):t.getStatus()===403?o=lL(i.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function TR(i){const e=bR(i);function t(r,o){let u=e(r,o);return r.getStatus()===404&&(u=sL(i.path)),u.serverResponse=o.serverResponse,u}return t}function $L(i,e,t){const r=e.fullServerUrl(),o=qd(r,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,m=new __(o,u,YL(i,t),c);return m.errorHandler=TR(e),m}function XL(i,e){const t=e.fullServerUrl(),r=qd(t,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function c(p,g){}const m=new __(r,o,c,u);return m.successCodes=[200,204],m.errorHandler=TR(e),m}function WL(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function JL(i,e,t){const r=Object.assign({},t);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=WL(null,e)),r}function ZL(i,e,t,r,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let oe=0;oe<2;oe++)X=X+Math.random().toString().slice(2);return X}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=JL(e,r,o),_=QL(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",D=Nr.getBlob(b,r,w);if(D===null)throw mL();const z={name:g.fullPath},V=qd(u,i.host,i._protocol),L="POST",W=i.maxUploadRetryTime,se=new __(V,L,KL(i,t),W);return se.urlParams=z,se.headers=c,se.body=D.uploadData(),se.errorHandler=bR(e),se}class eP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ya.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ya.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ya.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,u){if(this.sent_)throw Ku("cannot .send() more than once");if(Zr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tP extends eP{initXhr(){this.xhr_.responseType="text"}}function v_(){return new tP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this._service=e,t instanceof qn?this._location=t:this._location=qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new so(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yR(this._location.path)}get storage(){return this._service}get parent(){const e=jL(this._location.path);if(e===null)return null;const t=new qn(this._location.bucket,e);return new so(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw yL(e)}}function nP(i,e,t){i._throwIfRoot("uploadBytes");const r=ZL(i.storage,i._location,_R(),new Nr(e,!0),t);return i.storage.makeRequestWithTokens(r,v_).then(o=>({metadata:o,ref:i}))}function iP(i){i._throwIfRoot("getDownloadURL");const e=$L(i.storage,i._location,_R());return i.storage.makeRequestWithTokens(e,v_).then(t=>{if(t===null)throw pL();return t})}function sP(i){i._throwIfRoot("deleteObject");const e=XL(i.storage,i._location);return i.storage.makeRequestWithTokens(e,v_)}function rP(i,e){const t=zL(i._location.path,e),r=new qn(i._location.bucket,t);return new so(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(i){return/^[A-Za-z]+:\/\//.test(i)}function oP(i,e){return new so(i,e)}function SR(i,e){if(i instanceof E_){const t=i;if(t._bucket==null)throw dL();const r=new so(t,t._bucket);return e!=null?SR(r,e):r}else return e!==void 0?rP(i,e):i}function lP(i,e){if(e&&aP(e)){if(i instanceof E_)return oP(i,e);throw ry("To use ref(service, url), the first argument must be a Storage instance.")}else return SR(i,e)}function $T(i,e){const t=e==null?void 0:e[cR];return t==null?null:qn.makeFromBucketSpec(t,i)}function uP(i,e,t,r={}){i.host=`${e}:${t}`;const o=Zr(e);o&&(by(`https://${i.host}/b`),Ty("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:$S(u,i.app.options.projectId))}class E_{constructor(e,t,r,o,u,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=uR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nL,this._maxUploadRetryTime=iL,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=$T(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=$T(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new so(this,e)}_makeRequest(e,t,r,o,u=!0){if(this._deleted)return new _L(hR());{const c=NL(e,this._appId,r,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const XT="@firebase/storage",WT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="storage";function cP(i,e,t){return i=yt(i),nP(i,e,t)}function hP(i){return i=yt(i),iP(i)}function fP(i){return i=yt(i),sP(i)}function JT(i,e){return i=yt(i),lP(i,e)}function dP(i=Ay(),e){i=yt(i);const r=Sd(i,AR).getImmediate({identifier:e}),o=QS("storage");return o&&mP(r,...o),r}function mP(i,e,t,r={}){uP(i,e,t,r)}function pP(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new E_(t,r,o,e,ro)}function gP(){Ja(new tL(AR,pP,"PUBLIC").setMultipleInstances(!0)),ts(XT,WT,""),ts(XT,WT,"esm2020")}gP();const yP={apiKey:"AIzaSyDsI6Nh0HvRe6olQtS93zFAzNI1e-Jepe0",authDomain:"song-practise.firebaseapp.com",projectId:"song-practise",storageBucket:"song-practise.firebasestorage.app",messagingSenderId:"756608057127",appId:"1:756608057127:web:8e385bccd1c60fe2ebf302"},b_=JS(yP),Df=TO(b_),Of=Mk(b_),ZT=dP(b_),wR=Q.createContext(void 0);function Hd(){const i=Q.useContext(wR);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}function _P({children:i}){const[e,t]=Q.useState(null),[r,o]=Q.useState(!0);Q.useEffect(()=>cD(Df,_=>{t(_),o(!1)}),[]);const p={user:e,loading:r,signInWithEmail:async(g,_)=>{await oD(Df,g,_)},signUpWithEmail:async(g,_)=>{await aD(Df,g,_)},signOut:async()=>{await hD(Df)}};return C.jsx(wR.Provider,{value:p,children:!r&&i})}const vP=new u2({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:1}}}),EP="24e5318628dd479b8a0b323a2737cd6c",bP="fe9407e3dbe644efa0c8dc9d9bbd7496";let Mf=null,eS=0;async function RR(){if(Mf&&Date.now()<eS)return Mf;const i=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${btoa(`${EP}:${bP}`)}`},body:"grant_type=client_credentials"});if(!i.ok)throw new Error("Failed to get Spotify access token");const e=await i.json();return Mf=e.access_token,eS=Date.now()+e.expires_in*1e3-6e4,Mf}const Yu=new Map,$u=new Map;async function TP(i){var t;const e=i.toLowerCase();if(Yu.has(e))return Yu.get(e);try{const r=await RR(),o=await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(i)}&type=artist&limit=1`,{headers:{Authorization:`Bearer ${r}`}});if(!o.ok)throw new Error("Failed to search Spotify artist");const u=await o.json();if(u.artists.items.length===0)return Yu.set(e,null),null;const c=u.artists.items[0],m={id:c.id,name:c.name,images:c.images||[],genres:c.genres||[],followers:((t=c.followers)==null?void 0:t.total)||0};return Yu.set(e,m),m}catch(r){return console.error("Error fetching Spotify artist:",r),Yu.set(e,null),null}}function yd(i,e="large"){var t,r,o,u,c,m;return!i||!i.images.length?null:e==="large"?((t=i.images[0])==null?void 0:t.url)||null:e==="medium"?((r=i.images[1])==null?void 0:r.url)||((o=i.images[0])==null?void 0:o.url)||null:((u=i.images[2])==null?void 0:u.url)||((c=i.images[1])==null?void 0:c.url)||((m=i.images[0])==null?void 0:m.url)||null}async function SP(i,e){var r,o;const t=`${i.toLowerCase()}-${e.toLowerCase()}`;if($u.has(t))return $u.get(t);try{const u=await RR(),c=await fetch(`https://api.spotify.com/v1/search?q=track:${encodeURIComponent(i)}%20artist:${encodeURIComponent(e)}&type=track&limit=1`,{headers:{Authorization:`Bearer ${u}`}});if(!c.ok)throw new Error("Failed to search Spotify track");const m=await c.json();if(m.tracks.items.length===0)return $u.set(t,null),null;const p=m.tracks.items[0],g={id:p.id,name:p.name,albumImage:((r=p.album.images[0])==null?void 0:r.url)||null,albumName:p.album.name,artistName:((o=p.artists[0])==null?void 0:o.name)||e};return $u.set(t,g),g}catch(u){return console.error("Error fetching Spotify track:",u),$u.set(t,null),null}}function CR(i){return Ey({queryKey:["spotify-artist",i.toLowerCase()],queryFn:()=>TP(i),staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!i})}function IR(i,e){return Ey({queryKey:["spotify-track",i.toLowerCase(),e.toLowerCase()],queryFn:()=>SP(i,e),staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!i&&!!e})}function NR({song:i,onEdit:e,onDelete:t,onUpdateProgress:r}){var b,w,D,z;const o=vd(),[u,c]=Q.useState(i.progress||0),m=Q.useRef(),{data:p,isLoading:g}=IR(i.title,i.artist);Q.useEffect(()=>{c(i.progress||0)},[i.progress]);const _=V=>{const L=Number.parseInt(V.target.value);c(L),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{r(i.id,L)},500)};return Q.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),C.jsxs("div",{className:"bg-slate-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition flex flex-col md:flex-row relative group cursor-pointer",onClick:()=>o(`/song/${i.id}`),children:[C.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 z-10",children:[C.jsx("button",{onClick:V=>{V.stopPropagation(),e(i)},className:"p-2 bg-slate-700/80 hover:bg-blue-600 rounded-full transition backdrop-blur-sm",title:"Edit song",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),C.jsx("button",{onClick:V=>{V.stopPropagation(),confirm(`Delete "${i.title}"?`)&&t(i.id)},className:"p-2 bg-slate-700/80 hover:bg-red-600 rounded-full transition backdrop-blur-sm",title:"Delete song",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),C.jsxs("div",{className:"w-full md:w-40 h-40 flex-shrink-0 bg-gradient-to-br from-slate-700 to-slate-800 relative",children:[g&&C.jsx("div",{className:"absolute inset-0 bg-slate-700 animate-pulse"}),!g&&(p==null?void 0:p.albumImage)&&C.jsx("img",{src:p.albumImage,alt:`${i.title} album art`,className:"w-full h-full object-cover"}),!g&&!(p!=null&&p.albumImage)&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-4xl text-slate-600",children:""})]}),C.jsxs("div",{className:"flex-1 p-4 pr-20",children:[C.jsxs("div",{className:"mb-3",children:[C.jsx("h3",{className:"text-xl font-bold text-white",children:i.title}),C.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[C.jsx(bi,{to:`/artist/${encodeURIComponent(i.artist)}`,className:"text-slate-400 hover:text-blue-400 transition",onClick:V=>V.stopPropagation(),children:i.artist}),i.tuning&&i.tuning!=="Standard (E A D G B E)"&&C.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-300",children:[" ",i.tuning]})]})]}),C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{className:"flex justify-between items-center mb-1",children:[C.jsx("span",{className:"text-sm text-slate-400",children:"Progress"}),C.jsxs("span",{className:"text-sm font-medium text-blue-400",children:[u,"%"]})]}),C.jsx("input",{type:"range",min:"0",max:"100",value:u,onChange:_,onClick:V=>V.stopPropagation(),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),(i.lessonLink||((b=i.lessonLinks)==null?void 0:b.length)||i.songLinkYoutube||i.songLinkSpotify||i.tabsLink||((w=i.tabsLinks)==null?void 0:w.length))&&C.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[i.lessonLink&&C.jsx("a",{href:i.lessonLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-red-600 hover:bg-red-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" Lesson"}),(D=i.lessonLinks)==null?void 0:D.map((V,L)=>C.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-red-600 hover:bg-red-700 rounded-full transition",onClick:W=>W.stopPropagation(),children:[" ",V.label]},L)),i.songLinkYoutube&&C.jsx("a",{href:i.songLinkYoutube,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-red-600 hover:bg-red-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" YouTube"}),i.songLinkSpotify&&C.jsx("a",{href:i.songLinkSpotify,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-green-600 hover:bg-green-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" Spotify"}),i.tabsLink&&C.jsx("a",{href:i.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-orange-600 hover:bg-orange-700 rounded-full transition",onClick:V=>V.stopPropagation(),children:" Tabs"}),(z=i.tabsLinks)==null?void 0:z.map((V,L)=>C.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-3 py-1 bg-orange-600 hover:bg-orange-700 rounded-full transition",onClick:W=>W.stopPropagation(),children:[" ",V.label]},L))]}),i.notes&&C.jsxs("div",{className:"p-3 bg-slate-900 rounded text-sm text-slate-300",children:[C.jsx("p",{className:"font-medium text-slate-400 mb-1",children:"Notes:"}),C.jsx("p",{className:"whitespace-pre-wrap",children:i.notes})]})]})]})}function AP({songs:i,onEdit:e,onDelete:t,onUpdateProgress:r}){return i.length===0?C.jsxs("div",{className:"text-center py-12 text-slate-400",children:[C.jsx("p",{className:"text-xl",children:"No songs in this category yet"}),C.jsx("p",{className:"text-sm mt-2",children:"Add your first song to get started!"})]}):C.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(o=>C.jsx(NR,{song:o,onEdit:e,onDelete:t,onUpdateProgress:r},o.id))})}const wP=[{value:"Standard (E A D G B E)",label:"Standard (E A D G B E)"},{value:"Drop D (D A D G B E)",label:"Drop D (D A D G B E)"},{value:"Half Step Down (Eb Ab Db Gb Bb Eb)",label:"Half Step Down (Eb Ab Db Gb Bb Eb)"},{value:"Whole Step Down (D G C F A D)",label:"Whole Step Down (D G C F A D)"},{value:"Drop C (C G C F A D)",label:"Drop C (C G C F A D)"},{value:"Drop C# (C# G# C# F# A# D#)",label:"Drop C# (C# G# C# F# A# D#)"},{value:"Open D (D A D F# A D)",label:"Open D (D A D F# A D)"},{value:"Open G (D G D G B D)",label:"Open G (D G D G B D)"},{value:"DADGAD (D A D G A D)",label:"DADGAD (D A D G A D)"},{value:"Drop B (B F# B E G# C#)",label:"Drop B (B F# B E G# C#)"},{value:"Drop A (A E A D F# B)",label:"Drop A (A E A D F# B)"},{value:"Open E (E B E G# B E)",label:"Open E (E B E G# B E)"},{value:"Open C (C G C G C E)",label:"Open C (C G C G C E)"}],kf={WORKING:"currently-working",BACKLOG:"backlog",LEARNED:"learned"};function T_({song:i,onSubmit:e,onCancel:t}){const{user:r}=Hd(),[o,u]=Q.useState(i||{id:Date.now(),title:"",artist:"",lessonLink:"",lessonLinks:[],songLinkYoutube:"",songLinkSpotify:"",tabsLink:"",tabsLinks:[],notes:"",progress:0,category:kf.WORKING,tuning:"Standard (E A D G B E)"}),[c,m]=Q.useState(null),[p,g]=Q.useState(!1),[_,b]=Q.useState(!1),w=async S=>{if(S.preventDefault(),c&&r){g(!0);try{const R=`${r.uid}/${Date.now()}_${c.name}`,O=JT(ZT,`tabs/${R}`);await cP(O,c);const I=await hP(O);e({...o,tabsPdfUrl:I})}catch(R){console.error("Error uploading PDF:",R),alert("Failed to upload PDF. Please try again.")}finally{g(!1)}}else e(o)},D=S=>{S.preventDefault(),S.stopPropagation(),b(!1);const R=S.dataTransfer.files;R&&R[0]&&R[0].type==="application/pdf"?m(R[0]):alert("Please drop a PDF file")},z=S=>{const R=S.target.files;R&&R[0]&&R[0].type==="application/pdf"?m(R[0]):alert("Please select a PDF file")},V=async()=>{if(o.tabsPdfUrl&&r)try{const S=JT(ZT,o.tabsPdfUrl);await fP(S)}catch(S){console.error("Error deleting PDF:",S)}m(null),u(S=>({...S,tabsPdfUrl:void 0}))},L=S=>{const{name:R,value:O}=S.target;u(I=>({...I,[R]:O}))},W=()=>{u(S=>({...S,lessonLinks:[...S.lessonLinks||[],{url:"",label:""}]}))},se=(S,R,O)=>{u(I=>{var j;return{...I,lessonLinks:(j=I.lessonLinks)==null?void 0:j.map((N,Ke)=>Ke===S?{...N,[R]:O}:N)}})},X=S=>{u(R=>{var O;return{...R,lessonLinks:(O=R.lessonLinks)==null?void 0:O.filter((I,j)=>j!==S)}})},oe=()=>{u(S=>({...S,tabsLinks:[...S.tabsLinks||[],{url:"",label:""}]}))},re=(S,R,O)=>{u(I=>{var j;return{...I,tabsLinks:(j=I.tabsLinks)==null?void 0:j.map((N,Ke)=>Ke===S?{...N,[R]:O}:N)}})},me=S=>{u(R=>{var O;return{...R,tabsLinks:(O=R.tabsLinks)==null?void 0:O.filter((I,j)=>j!==S)}})},x=S=>{S.target===S.currentTarget&&t()};return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/50",onClick:x,children:C.jsxs("div",{className:"bg-slate-800 w-full h-full md:h-auto md:max-h-[90vh] md:max-w-3xl md:rounded-lg shadow-2xl flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-slate-700",children:[C.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Song":"Add New Song"}),C.jsx("button",{type:"button",onClick:t,className:"text-slate-400 hover:text-white text-2xl leading-none","aria-label":"Close",children:""})]}),C.jsx("form",{id:"song-form",onSubmit:w,className:"flex-1 overflow-y-auto p-4 md:p-6",children:C.jsxs("div",{className:"grid gap-4",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Title *"}),C.jsx("input",{type:"text",name:"title",value:o.title,onChange:L,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Artist *"}),C.jsx("input",{type:"text",name:"artist",value:o.artist,onChange:L,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Main Lesson Link (YouTube)"}),C.jsx("input",{type:"url",name:"lessonLink",value:o.lessonLink,onChange:L,placeholder:"https://youtube.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("label",{className:"block text-sm font-medium",children:"Additional Lesson Links"}),C.jsx("button",{type:"button",onClick:W,className:"text-xs px-2 py-1 bg-blue-600 hover:bg-blue-700 rounded transition",children:"+ Add Link"})]}),o.lessonLinks&&o.lessonLinks.length>0&&C.jsx("div",{className:"space-y-2",children:o.lessonLinks.map((S,R)=>C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:S.label,onChange:O=>se(R,"label",O.target.value),placeholder:"Label (e.g., Solo, Part 2)",className:"w-1/3 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("input",{type:"url",value:S.url,onChange:O=>se(R,"url",O.target.value),placeholder:"https://youtube.com/...",className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("button",{type:"button",onClick:()=>X(R),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:""})]},R))})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Link (YouTube)"}),C.jsx("input",{type:"url",name:"songLinkYoutube",value:o.songLinkYoutube,onChange:L,placeholder:"https://youtube.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Link (Spotify)"}),C.jsx("input",{type:"url",name:"songLinkSpotify",value:o.songLinkSpotify,onChange:L,placeholder:"https://open.spotify.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Main Tabs/Chords Link"}),C.jsx("input",{type:"url",name:"tabsLink",value:o.tabsLink,onChange:L,placeholder:"https://...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("label",{className:"block text-sm font-medium",children:"Additional Tabs/Chords Links"}),C.jsx("button",{type:"button",onClick:oe,className:"text-xs px-2 py-1 bg-orange-600 hover:bg-orange-700 rounded transition",children:"+ Add Link"})]}),o.tabsLinks&&o.tabsLinks.length>0&&C.jsx("div",{className:"space-y-2",children:o.tabsLinks.map((S,R)=>C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:S.label,onChange:O=>re(R,"label",O.target.value),placeholder:"Label (e.g., Solo, Simplified)",className:"w-1/3 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("input",{type:"url",value:S.url,onChange:O=>re(R,"url",O.target.value),placeholder:"https://...",className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),C.jsx("button",{type:"button",onClick:()=>me(R),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:""})]},R))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-2",children:"Upload Tabs PDF"}),C.jsxs("div",{onDrop:D,onDragOver:S=>{S.preventDefault(),b(!0)},onDragLeave:()=>b(!1),className:`border-2 border-dashed rounded-lg p-6 text-center transition ${_?"border-blue-500 bg-blue-500/10":"border-slate-600"}`,children:[!c&&!o.tabsPdfUrl&&C.jsxs(C.Fragment,{children:[C.jsx("p",{className:"text-slate-400 mb-2",children:"Drag & drop a PDF file here or"}),C.jsxs("label",{className:"inline-block px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded cursor-pointer transition",children:["Browse Files",C.jsx("input",{type:"file",accept:"application/pdf",onChange:z,className:"hidden"})]})]}),(c||o.tabsPdfUrl)&&C.jsxs("div",{className:"flex items-center justify-between bg-slate-700 p-3 rounded",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-2xl",children:""}),C.jsx("span",{className:"text-sm",children:(c==null?void 0:c.name)||"Uploaded PDF"})]}),C.jsx("button",{type:"button",onClick:V,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:"Remove"})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),C.jsxs("select",{name:"category",value:o.category,onChange:L,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[C.jsx("option",{value:kf.WORKING,children:"Currently Working"}),C.jsx("option",{value:kf.BACKLOG,children:"Backlog"}),C.jsx("option",{value:kf.LEARNED,children:"Learned"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Guitar Tuning"}),C.jsx("select",{name:"tuning",value:o.tuning,onChange:L,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:wP.map(S=>C.jsx("option",{value:S.value,children:S.label},S.value))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),C.jsx("textarea",{name:"notes",value:o.notes,onChange:L,rows:4,placeholder:"Additional tips, capo position, etc...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})}),C.jsx("div",{className:"p-4 md:p-6 border-t border-slate-700 bg-slate-800",children:C.jsxs("div",{className:"flex gap-2 justify-end",children:[C.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition",children:"Cancel"}),C.jsx("button",{type:"submit",form:"song-form",disabled:p,className:`px-6 py-2 rounded-lg transition ${p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?"Uploading...":(i?"Update":"Add")+" Song"})]})})]})})}const RP=[{value:"currently-working",label:"Currently Working"},{value:"backlog",label:"Backlog"},{value:"learned",label:"Learned"}];function CP(){const{category:i="currently-working"}=Ed();return C.jsx("div",{className:"mb-6 flex gap-2 justify-center flex-wrap",children:RP.map(({value:e,label:t})=>C.jsx(bi,{to:`/${e}`,className:`px-6 py-2 rounded-lg font-medium transition ${i===e?"bg-blue-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:t},e))})}function Gd(){const{user:i}=Hd(),e=vy(),{data:t=[],isLoading:r,isFetching:o}=Ey({queryKey:["songs",i==null?void 0:i.uid],queryFn:async()=>{if(!i)return[];const p=BT(Of,"users",i.uid,"songs"),g=Gk(p,Qk("createdAt","desc"));return(await Wk(g)).docs.map(b=>({...b.data(),id:b.id}))},enabled:!!i,refetchOnMount:!1,refetchOnWindowFocus:!1}),u=Zp({mutationFn:async p=>{if(!i)throw new Error("Not authenticated");const g=BT(Of,"users",i.uid,"songs");return(await eL(g,{...p,createdAt:fg(),updatedAt:fg()})).id},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}}),c=Zp({mutationFn:async({songId:p,updates:g})=>{if(!i)throw new Error("Not authenticated");const _=iy(Of,"users",i.uid,"songs",p);await Jk(_,{...g,updatedAt:fg()})},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}}),m=Zp({mutationFn:async p=>{if(!i)throw new Error("Not authenticated");const g=iy(Of,"users",i.uid,"songs",p);await Zk(g)},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}});return{songs:t,loading:r,addSong:p=>u.mutateAsync(p),updateSong:(p,g)=>c.mutateAsync({songId:p,updates:g}),deleteSong:p=>m.mutateAsync(p)}}const tS=i=>{let e;const t=new Set,r=(g,_)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const w=e;e=_??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(D=>D(e,w))}},o=()=>e,m={setState:r,getState:o,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=i(r,o,m);return m},IP=(i=>i?tS(i):tS),NP=i=>i;function xP(i,e=NP){const t=Xu.useSyncExternalStore(i.subscribe,Xu.useCallback(()=>e(i.getState()),[i,e]),Xu.useCallback(()=>e(i.getInitialState()),[i,e]));return Xu.useDebugValue(t),t}const nS=i=>{const e=IP(i),t=r=>xP(e,r);return Object.assign(t,e),t},DP=(i=>i?nS(i):nS),S_=DP(i=>({showForm:!1,editingSong:null,openForm:()=>i({showForm:!0,editingSong:null}),openEditForm:e=>i({showForm:!0,editingSong:e}),closeForm:()=>i({showForm:!1,editingSong:null})}));function OP(){const{category:i="currently-working"}=Ed(),{songs:e,addSong:t,updateSong:r,deleteSong:o}=Gd(),{showForm:u,editingSong:c,openForm:m,openEditForm:p,closeForm:g}=S_(),_=async z=>{const{id:V,...L}=z;await t(L),g()},b=async z=>{const{id:V,...L}=z;await r(String(V),L),g()},w=async z=>{await o(String(z))},D=e.filter(z=>z.category===i);return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:C.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[C.jsxs("header",{className:"mb-8",children:[C.jsx("h1",{className:"text-4xl font-bold text-center mb-2",children:" Guitar Learning Tracker"}),C.jsx("p",{className:"text-slate-400 text-center",children:"Track your guitar journey"}),C.jsx("div",{className:"flex justify-center mt-4",children:C.jsxs(bi,{to:"/artists",className:"text-blue-400 hover:text-blue-300 transition flex items-center gap-2",children:[C.jsx("span",{children:""})," Browse by Artist"]})})]}),C.jsx(CP,{}),!u&&C.jsx("button",{onClick:m,className:"w-full mb-6 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition",children:"+ Add New Song"}),u&&C.jsx(T_,{song:c,onSubmit:c?b:_,onCancel:g}),C.jsx(AP,{songs:D,onEdit:p,onDelete:w,onUpdateProgress:async(z,V)=>{await r(String(z),{progress:V})}})]})})}function MP({name:i,count:e}){const{data:t,isLoading:r}=CR(i);return C.jsxs(bi,{to:`/artist/${encodeURIComponent(i)}`,className:"group bg-slate-800 hover:bg-slate-750 rounded-lg p-6 transition border border-slate-700 hover:border-slate-600",children:[C.jsxs("div",{className:"w-full h-32 mb-4 rounded bg-gradient-to-br from-slate-700 to-slate-800 overflow-hidden relative",children:[r&&C.jsx("div",{className:"absolute inset-0 bg-slate-700 animate-pulse"}),!r&&yd(t,"medium")&&C.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${yd(t,"medium")})`}})]}),C.jsx("h2",{className:"text-xl font-bold mb-1 group-hover:text-blue-400 transition",children:i}),C.jsxs("p",{className:"text-slate-400 text-sm",children:[e," ",e===1?"song":"songs"]}),t&&t.genres.length>0&&C.jsx("p",{className:"text-slate-500 text-xs mt-1 truncate",children:t.genres[0]})]})}function kP(){const{songs:i}=Gd(),e=Q.useMemo(()=>{const t=i.reduce((r,o)=>{const u=o.artist;return r[u]||(r[u]={name:u,count:0}),r[u].count++,r},{});return Object.values(t).sort((r,o)=>r.name.localeCompare(o.name))},[i]);return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:C.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[C.jsxs("header",{className:"mb-8",children:[C.jsx(bi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:" Back to songs"}),C.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Artists"}),C.jsx("p",{className:"text-slate-400",children:"Browse songs by artist"})]}),e.length===0?C.jsx("div",{className:"text-center py-12 text-slate-400",children:C.jsx("p",{children:"No artists yet. Add some songs to get started!"})}):C.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>C.jsx(MP,{name:t.name,count:t.count},t.name))})]})})}function LP(){const{artist:i}=Ed(),{songs:e,updateSong:t,deleteSong:r}=Gd(),{showForm:o,editingSong:u,openEditForm:c,closeForm:m}=S_(),p=decodeURIComponent(i||""),g=e.filter(V=>V.artist.toLowerCase()===p.toLowerCase()),{data:_,isLoading:b}=CR(p),w=async V=>{const{id:L,...W}=V;await t(String(L),W),m()},D=async V=>{await r(String(V))},z=async(V,L)=>{await t(String(V),{progress:L})};return C.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:[C.jsxs("div",{className:"relative h-64 md:h-96 bg-gradient-to-b from-slate-800 to-slate-900 overflow-hidden",children:[!b&&yd(_,"large")&&C.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:`url(${yd(_,"large")})`}}),b&&C.jsx("div",{className:"absolute inset-0 bg-slate-800 animate-pulse"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"}),C.jsxs("div",{className:"relative h-full max-w-6xl mx-auto px-4 flex flex-col justify-end pb-8",children:[C.jsx(bi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:" Back to songs"}),C.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-2",children:p}),C.jsxs("p",{className:"text-slate-400 text-lg",children:[g.length," ",g.length===1?"song":"songs"]}),_&&_.genres.length>0&&C.jsx("p",{className:"text-slate-500 text-sm mt-1",children:_.genres.slice(0,3).join(", ")})]})]}),C.jsx("div",{className:"max-w-6xl mx-auto p-4",children:g.length===0?C.jsx("div",{className:"text-center py-12 text-slate-400",children:C.jsx("p",{children:"No songs found for this artist."})}):C.jsx("div",{className:"grid gap-4",children:g.map(V=>C.jsx(NR,{song:V,onEdit:c,onDelete:D,onUpdateProgress:z},V.id))})}),o&&C.jsx(T_,{song:u,onSubmit:w,onCancel:m})]})}function PP(){var R,O,I,j,N,Ke,vt;const{id:i}=Ed(),e=vd(),{songs:t,loading:r,updateSong:o,deleteSong:u}=Gd(),{showForm:c,editingSong:m,openEditForm:p,closeForm:g}=S_(),_=t.find(q=>q.id===i),[b,w]=Q.useState((_==null?void 0:_.progress)||0),D=Q.useRef(),{data:z,isLoading:V}=IR((_==null?void 0:_.title)||"",(_==null?void 0:_.artist)||"");Q.useEffect(()=>{w((_==null?void 0:_.progress)||0)},[_==null?void 0:_.progress]);const L=async q=>{const{id:ae,...ye}=q;await o(String(ae),ye),g()},W=async()=>{confirm(`Delete "${_==null?void 0:_.title}"?`)&&(await u(String(_==null?void 0:_.id)),e("/currently-working"))},se=q=>{w(q),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{_&&o(String(_.id),{progress:q})},500)};Q.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]);const X=q=>{const ae=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ye=q.match(ae);return ye&&ye[2].length===11?ye[2]:null},oe=q=>{const ae=q.match(/track\/([a-zA-Z0-9]+)/);return ae?ae[1]:null},re=q=>q.includes("ultimate-guitar.com")||q.includes("tabs.ultimate-guitar.com");if(r&&t.length===0)return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),C.jsx("p",{className:"text-slate-400",children:"Loading..."})]})});if(!_)return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center",children:C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Song not found"}),C.jsx(bi,{to:"/currently-working",className:"text-blue-400 hover:text-blue-300",children:" Back to songs"})]})});const me=_.lessonLink?X(_.lessonLink):_.songLinkYoutube?X(_.songLinkYoutube):null,x=((R=_.lessonLinks)==null?void 0:R.map(q=>({id:X(q.url),label:q.label})).filter(q=>q.id))||[],S=_.songLinkSpotify?oe(_.songLinkSpotify):null;return C.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:[C.jsxs("div",{className:"relative bg-gradient-to-b from-slate-800 to-slate-900",children:[(z==null?void 0:z.albumImage)&&C.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-xl",style:{backgroundImage:`url(${z.albumImage})`}}),C.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 py-8",children:[C.jsx(bi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:" Back to songs"}),C.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start mt-4",children:[C.jsxs("div",{className:"w-full md:w-64 h-64 flex-shrink-0 bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg overflow-hidden shadow-2xl",children:[V&&C.jsx("div",{className:"w-full h-full bg-slate-700 animate-pulse"}),!V&&(z==null?void 0:z.albumImage)&&C.jsx("img",{src:z.albumImage,alt:`${_.title} album art`,className:"w-full h-full object-cover"}),!V&&!(z!=null&&z.albumImage)&&C.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl text-slate-600",children:""})]}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:_.title}),C.jsx(bi,{to:`/artist/${encodeURIComponent(_.artist)}`,className:"text-2xl text-slate-400 hover:text-blue-400 transition inline-block mb-3",children:_.artist}),_.tuning&&C.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-700 rounded-lg text-sm mb-4 ml-3",children:[" ",_.tuning]}),z&&C.jsxs("p",{className:"text-slate-400 mb-4",children:["Album: ",z.albumName]}),C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsx("span",{className:"text-sm text-slate-400",children:"Learning Progress"}),C.jsxs("span",{className:"text-lg font-bold text-blue-400",children:[b,"%"]})]}),C.jsx("input",{type:"range",min:"0",max:"100",value:b,onChange:q=>se(Number.parseInt(q.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),C.jsxs("div",{className:"flex gap-2 mt-6",children:[C.jsxs("button",{onClick:()=>p(_),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition flex items-center gap-2",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),C.jsxs("button",{onClick:W,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})]})]})]}),C.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(_.lessonLink||((O=_.lessonLinks)==null?void 0:O.length)||_.songLinkYoutube||_.songLinkSpotify||_.tabsLink||((I=_.tabsLinks)==null?void 0:I.length))&&C.jsxs("div",{className:"mb-8",children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Resources"}),C.jsxs("div",{className:"flex flex-wrap gap-3",children:[_.lessonLink&&C.jsx("a",{href:_.lessonLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:" Lesson Video"}),(j=_.lessonLinks)==null?void 0:j.map((q,ae)=>C.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:[" ",q.label]},ae)),_.songLinkYoutube&&C.jsx("a",{href:_.songLinkYoutube,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition flex items-center gap-2",children:" YouTube"}),_.songLinkSpotify&&C.jsx("a",{href:_.songLinkSpotify,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition flex items-center gap-2",children:" Spotify"}),_.tabsLink&&C.jsx("a",{href:_.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg transition flex items-center gap-2",children:" Tabs/Chords"}),(N=_.tabsLinks)==null?void 0:N.map((q,ae)=>C.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg transition flex items-center gap-2",children:[" ",q.label]},ae))]})]}),C.jsxs("div",{className:"space-y-6 mb-8",children:[me&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:_.lessonLink&&X(_.lessonLink)===me?"Main Lesson Video":"Song Video"}),C.jsx("div",{className:"relative pb-[56.25%] h-0 bg-slate-800 rounded-lg overflow-hidden",children:C.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${me}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),x.length>0&&C.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x.map((q,ae)=>C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:q.label}),C.jsx("div",{className:"relative pb-[56.25%] h-0 bg-slate-800 rounded-lg overflow-hidden",children:C.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${q.id}`,title:`${q.label} video player`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]},ae))}),S&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Listen on Spotify"}),C.jsx("div",{className:"bg-slate-800 rounded-lg overflow-hidden",style:{height:"352px"},children:C.jsx("iframe",{className:"w-full h-full",src:`https://open.spotify.com/embed/track/${S}?utm_source=generator`,frameBorder:"0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})})]})]}),(_.tabsLink||!!((Ke=_.tabsLinks)!=null&&Ke.length)||_.tabsPdfUrl)&&C.jsxs("div",{className:"mb-8 space-y-6",children:[_.tabsPdfUrl&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tabs PDF"}),C.jsx("div",{className:"bg-slate-800 rounded-lg overflow-hidden",style:{height:"800px"},children:C.jsx("iframe",{src:_.tabsPdfUrl,className:"w-full h-full",title:"Tabs PDF"})})]}),_.tabsLink&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tabs & Chords"}),C.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 text-center border-2 border-slate-700",children:[C.jsx("p",{className:"text-slate-400 mb-4",children:re(_.tabsLink)?"Ultimate Guitar tabs work best in their own tab":"Tabs are best viewed on the original site"}),C.jsx("a",{href:_.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded-lg transition text-lg font-medium",children:" Open Tabs in Ultimate Guitar"})]})]}),(vt=_.tabsLinks)==null?void 0:vt.map((q,ae)=>C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:q.label}),C.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 text-center border-2 border-slate-700",children:[C.jsx("p",{className:"text-slate-400 mb-4",children:re(q.url)?"Ultimate Guitar tabs work best in their own tab":`${q.label} tabs are best viewed on the original site`}),C.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded-lg transition text-lg font-medium",children:[" Open ",q.label]})]})]},ae))]}),_.notes&&C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Notes"}),C.jsx("div",{className:"p-6 bg-slate-800 rounded-lg",children:C.jsx("p",{className:"whitespace-pre-wrap text-slate-300",children:_.notes})})]})]}),c&&C.jsx(T_,{song:m,onSubmit:L,onCancel:g})]})}function xR(){const{signInWithEmail:i,signUpWithEmail:e}=Hd(),[t,r]=Q.useState(!1),[o,u]=Q.useState(""),[c,m]=Q.useState(""),[p,g]=Q.useState(""),[_,b]=Q.useState(!1),w=async D=>{D.preventDefault();try{g(""),b(!0),t?await e(o,c):await i(o,c)}catch(z){g(z.message)}finally{b(!1)}};return C.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center p-4",children:C.jsxs("div",{className:"max-w-md w-full",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Guitar Learning Tracker"}),C.jsx("p",{className:"text-slate-400",children:"Sign in to sync your songs across devices"})]}),C.jsxs("div",{className:"bg-slate-800 rounded-lg p-8 shadow-xl",children:[p&&C.jsx("div",{className:"mb-4 p-3 bg-red-600/20 border border-red-600 rounded text-red-400 text-sm",children:p}),C.jsxs("form",{onSubmit:w,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),C.jsx("input",{type:"email",value:o,onChange:D=>u(D.target.value),required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),C.jsx("input",{type:"password",value:c,onChange:D=>m(D.target.value),required:!0,minLength:6,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),C.jsx("button",{type:"submit",disabled:_,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition disabled:opacity-50",children:_?"Please wait...":t?"Sign Up":"Sign In"})]}),C.jsx("div",{className:"mt-4 text-center",children:C.jsx("button",{onClick:()=>r(!t),className:"text-blue-400 hover:text-blue-300 text-sm",children:t?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})}const VP="modulepreload",UP=function(i){return"/tune-book/"+i},iS={},jP=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=c(t.map(g=>{if(g=UP(g),g in iS)return;iS[g]=!0;const _=g.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":VP,_||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),_)return new Promise((D,z)=>{w.addEventListener("load",D),w.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};function zP(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:u,onRegisterError:c}=i;let m,p;const g=async(b=!0)=>{await p};async function _(){if("serviceWorker"in navigator){if(m=await jP(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/tune-book/sw.js",{scope:"/tune-book/",type:"classic"})).catch(b=>{c==null||c(b)}),!m)return;m.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),m.addEventListener("installed",b=>{b.isUpdate||r==null||r()}),m.register({immediate:e}).then(b=>{u?u("/tune-book/sw.js",b):o==null||o(b)}).catch(b=>{c==null||c(b)})}}return p=_(),g}zP({onNeedRefresh(){console.log("New content available, refresh to update.")},onOfflineReady(){console.log("App ready to work offline.")}});function Lf({children:i}){const{user:e}=Hd();return e?C.jsx(C.Fragment,{children:i}):C.jsx(xR,{})}yC.createRoot(document.getElementById("root")).render(C.jsx(Xu.StrictMode,{children:C.jsx(c2,{client:vP,children:C.jsx(DI,{children:C.jsx(_P,{children:C.jsxs(lI,{children:[C.jsx(La,{path:"/login",element:C.jsx(xR,{})}),C.jsx(La,{path:"/artists",element:C.jsx(Lf,{children:C.jsx(kP,{})})}),C.jsx(La,{path:"/artist/:artist",element:C.jsx(Lf,{children:C.jsx(LP,{})})}),C.jsx(La,{path:"/song/:id",element:C.jsx(Lf,{children:C.jsx(PP,{})})}),C.jsx(La,{path:"/:category",element:C.jsx(Lf,{children:C.jsx(OP,{})})}),C.jsx(La,{path:"/",element:C.jsx(aI,{to:"/currently-working",replace:!0})})]})})})})}));
