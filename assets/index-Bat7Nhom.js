var GE=i=>{throw TypeError(i)};var Gp=(i,e,t)=>e.has(i)||GE("Cannot "+t);var L=(i,e,t)=>(Gp(i,e,"read from private field"),t?t.call(i):e.get(i)),ye=(i,e,t)=>e.has(i)?GE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),ce=(i,e,t,r)=>(Gp(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),Oe=(i,e,t)=>(Gp(i,e,"access private method"),t);var vf=(i,e,t,r)=>({set _(o){ce(i,e,o,t)},get _(){return L(i,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function gS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qp={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function lC(){if(QE)return Hu;QE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Hu.Fragment=e,Hu.jsx=t,Hu.jsxs=t,Hu}var KE;function uC(){return KE||(KE=1,Qp.exports=lC()),Qp.exports}var R=uC(),Kp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function cC(){if(YE)return Re;YE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function O(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,V={};function X(U,ne,ue){this.props=U,this.context=ne,this.refs=V,this.updater=ue||B}X.prototype.isReactComponent={},X.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},X.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function se(){}se.prototype=X.prototype;function $(U,ne,ue){this.props=U,this.context=ne,this.refs=V,this.updater=ue||B}var ae=$.prototype=new se;ae.constructor=$,j(ae,X.prototype),ae.isPureReactComponent=!0;var re=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(U,ne,ue){var de=ue.ref;return{$$typeof:i,type:U,key:ne,ref:de!==void 0?de:null,props:ue}}function D(U,ne){return C(U.type,ne,U.props)}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function k(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var I=/\/+/g;function Be(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):ne.toString(36)}function Bt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(me,me):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,ne,ue,de,Ae){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(Ne){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case i:case e:Fe=!0;break;case _:return Fe=U._init,J(Fe(U._payload),ne,ue,de,Ae)}}if(Fe)return Ae=Ae(U),Fe=de===""?"."+Be(U,0):de,re(Ae)?(ue="",Fe!=null&&(ue=Fe.replace(I,"$&/")+"/"),J(Ae,ne,ue,"",function(sa){return sa})):Ae!=null&&(x(Ae)&&(Ae=D(Ae,ue+(Ae.key==null||U&&U.key===Ae.key?"":(""+Ae.key).replace(I,"$&/")+"/")+Fe)),ne.push(Ae)),1;Fe=0;var Ft=de===""?".":de+":";if(re(U))for(var dt=0;dt<U.length;dt++)de=U[dt],Ne=Ft+Be(de,dt),Fe+=J(de,ne,ue,Ne,Ae);else if(dt=O(U),typeof dt=="function")for(U=dt.call(U),dt=0;!(de=U.next()).done;)de=de.value,Ne=Ft+Be(de,dt++),Fe+=J(de,ne,ue,Ne,Ae);else if(Ne==="object"){if(typeof U.then=="function")return J(Bt(U),ne,ue,de,Ae);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function le(U,ne,ue){if(U==null)return U;var de=[],Ae=0;return J(U,de,"","",function(Ne){return ne.call(ue,Ne,Ae++)}),de}function Ee(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var Ge=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Je={map:le,forEach:function(U,ne,ue){le(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return le(U,function(){ne++}),ne},toArray:function(U){return le(U,function(ne){return ne})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Re.Activity=b,Re.Children=Je,Re.Component=X,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=$,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Re.cache=function(U){return function(){return U.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=j({},U.props),Ae=U.key;if(ne!=null)for(Ne in ne.key!==void 0&&(Ae=""+ne.key),ne)!S.call(ne,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ne.ref===void 0||(de[Ne]=ne[Ne]);var Ne=arguments.length-2;if(Ne===1)de.children=ue;else if(1<Ne){for(var Fe=Array(Ne),Ft=0;Ft<Ne;Ft++)Fe[Ft]=arguments[Ft+2];de.children=Fe}return C(U.type,Ae,de)},Re.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Re.createElement=function(U,ne,ue){var de,Ae={},Ne=null;if(ne!=null)for(de in ne.key!==void 0&&(Ne=""+ne.key),ne)S.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ae[de]=ne[de]);var Fe=arguments.length-2;if(Fe===1)Ae.children=ue;else if(1<Fe){for(var Ft=Array(Fe),dt=0;dt<Fe;dt++)Ft[dt]=arguments[dt+2];Ae.children=Ft}if(U&&U.defaultProps)for(de in Fe=U.defaultProps,Fe)Ae[de]===void 0&&(Ae[de]=Fe[de]);return C(U,Ne,Ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:m,render:U}},Re.isValidElement=x,Re.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Ee}},Re.memo=function(U,ne){return{$$typeof:g,type:U,compare:ne===void 0?null:ne}},Re.startTransition=function(U){var ne=N.T,ue={};N.T=ue;try{var de=U(),Ae=N.S;Ae!==null&&Ae(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(me,Ge)}catch(Ne){Ge(Ne)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),N.T=ne}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(U){return N.H.use(U)},Re.useActionState=function(U,ne,ue){return N.H.useActionState(U,ne,ue)},Re.useCallback=function(U,ne){return N.H.useCallback(U,ne)},Re.useContext=function(U){return N.H.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U,ne){return N.H.useDeferredValue(U,ne)},Re.useEffect=function(U,ne){return N.H.useEffect(U,ne)},Re.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(U,ne,ue){return N.H.useImperativeHandle(U,ne,ue)},Re.useInsertionEffect=function(U,ne){return N.H.useInsertionEffect(U,ne)},Re.useLayoutEffect=function(U,ne){return N.H.useLayoutEffect(U,ne)},Re.useMemo=function(U,ne){return N.H.useMemo(U,ne)},Re.useOptimistic=function(U,ne){return N.H.useOptimistic(U,ne)},Re.useReducer=function(U,ne,ue){return N.H.useReducer(U,ne,ue)},Re.useRef=function(U){return N.H.useRef(U)},Re.useState=function(U){return N.H.useState(U)},Re.useSyncExternalStore=function(U,ne,ue){return N.H.useSyncExternalStore(U,ne,ue)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var $E;function ly(){return $E||($E=1,Kp.exports=cC()),Kp.exports}var G=ly();const Xu=gS(G);var Yp={exports:{}},Gu={},$p={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function hC(){return XE||(XE=1,(function(i){function e(J,le){var Ee=J.length;J.push(le);e:for(;0<Ee;){var Ge=Ee-1>>>1,Je=J[Ge];if(0<o(Je,le))J[Ge]=le,J[Ee]=Je,Ee=Ge;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],Ee=J.pop();if(Ee!==le){J[0]=Ee;e:for(var Ge=0,Je=J.length,U=Je>>>1;Ge<U;){var ne=2*(Ge+1)-1,ue=J[ne],de=ne+1,Ae=J[de];if(0>o(ue,Ee))de<Je&&0>o(Ae,ue)?(J[Ge]=Ae,J[de]=Ee,Ge=de):(J[Ge]=ue,J[ne]=Ee,Ge=ne);else if(de<Je&&0>o(Ae,Ee))J[Ge]=Ae,J[de]=Ee,Ge=de;else break e}}return le}function o(J,le){var Ee=J.sortIndex-le.sortIndex;return Ee!==0?Ee:J.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,b=null,w=3,O=!1,B=!1,j=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ae(J){for(var le=t(g);le!==null;){if(le.callback===null)r(g);else if(le.startTime<=J)r(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function re(J){if(j=!1,ae(J),!B)if(t(p)!==null)B=!0,me||(me=!0,k());else{var le=t(g);le!==null&&Bt(re,le.startTime-J)}}var me=!1,N=-1,S=5,C=-1;function D(){return V?!0:!(i.unstable_now()-C<S)}function x(){if(V=!1,me){var J=i.unstable_now();C=J;var le=!0;try{e:{B=!1,j&&(j=!1,se(N),N=-1),O=!0;var Ee=w;try{t:{for(ae(J),b=t(p);b!==null&&!(b.expirationTime>J&&D());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,w=b.priorityLevel;var Je=Ge(b.expirationTime<=J);if(J=i.unstable_now(),typeof Je=="function"){b.callback=Je,ae(J),le=!0;break t}b===t(p)&&r(p),ae(J)}else r(p);b=t(p)}if(b!==null)le=!0;else{var U=t(g);U!==null&&Bt(re,U.startTime-J),le=!1}}break e}finally{b=null,w=Ee,O=!1}le=void 0}}finally{le?k():me=!1}}}var k;if(typeof $=="function")k=function(){$(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Be=I.port2;I.port1.onmessage=x,k=function(){Be.postMessage(null)}}else k=function(){X(x,0)};function Bt(J,le){N=X(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(J){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var Ee=w;w=le;try{return J()}finally{w=Ee}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ee=w;w=J;try{return le()}finally{w=Ee}},i.unstable_scheduleCallback=function(J,le,Ee){var Ge=i.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Ge+Ee:Ge):Ee=Ge,J){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Ee+Je,J={id:_++,callback:le,priorityLevel:J,startTime:Ee,expirationTime:Je,sortIndex:-1},Ee>Ge?(J.sortIndex=Ee,e(g,J),t(p)===null&&J===t(g)&&(j?(se(N),N=-1):j=!0,Bt(re,Ee-Ge))):(J.sortIndex=Je,e(p,J),B||O||(B=!0,me||(me=!0,k()))),J},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(J){var le=w;return function(){var Ee=w;w=le;try{return J.apply(this,arguments)}finally{w=Ee}}}})(Xp)),Xp}var WE;function fC(){return WE||(WE=1,$p.exports=hC()),$p.exports}var Wp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function dC(){if(JE)return un;JE=1;var i=ly();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},un.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:O}):_==="script"&&r.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},un.requestFormReset=function(p){r.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.2.0",un}var ZE;function mC(){if(ZE)return Wp.exports;ZE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wp.exports=dC(),Wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function pC(){if(eb)return Gu;eb=1;var i=fC(),e=ly(),t=mC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Be(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case X:return"Profiler";case V:return"StrictMode";case re:return"Suspense";case me:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case B:return"Portal";case $:return n.displayName||"Context";case se:return(n._context.displayName||"Context")+".Consumer";case ae:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return s=n.displayName||null,s!==null?s:Be(n.type)||"Memo";case S:s=n._payload,n=n._init;try{return Be(n(s))}catch{}}return null}var Bt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Ge=[],Je=-1;function U(n){return{current:n}}function ne(n){0>Je||(n.current=Ge[Je],Ge[Je]=null,Je--)}function ue(n,s){Je++,Ge[Je]=n.current,n.current=s}var de=U(null),Ae=U(null),Ne=U(null),Fe=U(null);function Ft(n,s){switch(ue(Ne,s),ue(Ae,n),ue(de,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?mE(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=mE(s),n=pE(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(de),ue(de,n)}function dt(){ne(de),ne(Ae),ne(Ne)}function sa(n){n.memoizedState!==null&&ue(Fe,n);var s=de.current,a=pE(s,n.type);s!==a&&(ue(Ae,n),ue(de,a))}function co(n){Ae.current===n&&(ne(de),ne(Ae)),Fe.current===n&&(ne(Fe),zu._currentValue=Ee)}var ho,fo;function Ii(n){if(ho===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ho=s&&s[1]||"",fo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+n+fo}var zl=!1;function ra(n,s){if(!n||zl)return"";zl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var Q=Y}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Y){Q=Y}n.call(ee.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var M=v.split(`
`),H=T.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===H.length)for(l=M.length-1,f=H.length-1;1<=l&&0<=f&&M[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==H[f]){var W=`
`+M[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{zl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ii(a):""}function Bl(n,s){switch(n.tag){case 26:case 27:case 5:return Ii(n.type);case 16:return Ii("Lazy");case 13:return n.child!==s&&s!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ra(n.type,!1);case 11:return ra(n.type.render,!1);case 1:return ra(n.type,!0);case 31:return Ii("Activity");default:return""}}function Fl(n){try{var s="",a=null;do s+=Bl(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,qt=i.unstable_scheduleCallback,Hs=i.unstable_cancelCallback,Kd=i.unstable_shouldYield,qc=i.unstable_requestPaint,mn=i.unstable_now,aa=i.unstable_getCurrentPriorityLevel,ql=i.unstable_ImmediatePriority,Hl=i.unstable_UserBlockingPriority,Gs=i.unstable_NormalPriority,Yd=i.unstable_LowPriority,Hc=i.unstable_IdlePriority,Gc=i.log,Qc=i.unstable_setDisableYieldValue,ai=null,Zt=null;function Hn(n){if(typeof Gc=="function"&&Qc(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ai,n)}catch{}}var At=Math.clz32?Math.clz32:Yc,Kc=Math.log,mo=Math.LN2;function Yc(n){return n>>>=0,n===0?32:31-(Kc(n)/mo|0)|0}var xi=256,oa=262144,Nt=4194304;function Ni(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Di(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Ni(l):(v&=T,v!==0?f=Ni(v):a||(a=T&~n,a!==0&&(f=Ni(a))))):(T=l&~d,T!==0?f=Ni(T):v!==0?f=Ni(v):a||(a=l&~n,a!==0&&(f=Ni(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function oi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function $d(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var n=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),n}function Oi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function la(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Xd(n,s,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,M=n.expirationTimes,H=n.hiddenUpdates;for(a=v&~a;0<a;){var W=31-At(a),ee=1<<W;T[W]=0,M[W]=-1;var Q=H[W];if(Q!==null)for(H[W]=null,W=0;W<Q.length;W++){var Y=Q[W];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&ua(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~s))}function ua(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-At(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Gl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-At(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Ql(n,s){var a=s&-s;return a=(a&42)!==0?1:ca(a),(a&(n.suspendedLanes|s))!==0?0:a}function ca(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function cs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xc(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:UE(n.type))}function li(n,s){var a=le.p;try{return le.p=n,s()}finally{le.p=a}}var ui=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ui,Yt="__reactProps$"+ui,Mi="__reactContainer$"+ui,po="__reactEvents$"+ui,Wd="__reactListeners$"+ui,Wc="__reactHandles$"+ui,Jc="__reactResources$"+ui,ki="__reactMarker$"+ui;function go(n){delete n[Dt],delete n[Yt],delete n[po],delete n[Wd],delete n[Wc]}function Li(n){var s=n[Dt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Mi]||a[Dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=TE(n);n!==null;){if(a=n[Dt])return a;n=TE(n)}return s}n=a,a=n.parentNode}return null}function Gn(n){if(n=n[Dt]||n[Mi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function On(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Pi(n){var s=n[Jc];return s||(s=n[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(n){n[ki]=!0}var Kl=new Set,Yl={};function Vi(n,s){Ui(n,s),Ui(n+"Capture",s)}function Ui(n,s){for(Yl[n]=s,n=0;n<s.length;n++)Kl.add(s[n])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Wl={};function Zc(n){return xt.call(Wl,n)?!0:xt.call(Xl,n)?!1:$l.test(n)?Wl[n]=!0:(Xl[n]=!0,!1)}function yo(n,s,a){if(Zc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Mn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Mt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function $t(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=Qs(n)?"checked":"value";n._valueTracker=Jl(n,s,""+n[s])}}function ha(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Qs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function ji(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var fa=/[\n"\\]/g;function bn(n){return n.replace(fa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _o(n,s,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+$t(s)):n.value!==""+$t(s)&&(n.value=""+$t(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?Zl(n,v,$t(s)):a!=null?Zl(n,v,$t(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+$t(T):n.removeAttribute("name")}function eh(n,s,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Ze(n);return}a=a!=null?""+$t(a):"",s=s!=null?""+$t(s):a,T||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Ze(n)}function Zl(n,s,a){s==="number"&&ji(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ks(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+$t(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function th(n,s,a){if(s!=null&&(s=""+$t(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+$t(a):""}function Ys(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Bt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=$t(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Ze(n)}function Tn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||nh.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function tu(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&eu(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&eu(n,d,s[d])}function vo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(n){return $s.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ci(){}var nu=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xs=null,zi=null;function da(n){var s=Gn(n);if(s&&(n=s.stateNode)){var a=n[Yt]||null;e:switch(n=s.stateNode,s.type){case"input":if(_o(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Yt]||null;if(!f)throw Error(r(90));_o(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&ha(l)}break e;case"textarea":th(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ks(n,!!a.multiple,s,!1)}}}var bo=!1;function Ws(n,s,a){if(bo)return n(s,a);bo=!0;try{var l=n(s);return l}finally{if(bo=!1,(Xs!==null||zi!==null)&&(Xh(),Xs&&(s=Xs,n=zi,zi=Xs=null,da(s),n)))for(s=0;s<n.length;s++)da(n[s])}}function hi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Kn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ma=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ma=!1}var Bi=null,iu=null,pa=null;function su(){if(pa)return pa;var n,s=iu,a=s.length,l,f="value"in Bi?Bi.value:Bi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return pa=f.slice(n,1<l?1-l:void 0)}function ga(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function hs(){return!0}function fi(){return!1}function en(n){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:fi,this.isPropagationStopped=fi,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=en(fs),Js=b({},fs,{view:0,detail:0}),ru=en(Js),Zs,To,qi,So=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qi&&(qi&&n.type==="mousemove"?(Zs=n.screenX-qi.screenX,To=n.screenY-qi.screenY):To=Zs=0,qi=n),Zs)},movementY:function(n){return"movementY"in n?n.movementY:To}}),au=en(So),ya=b({},So,{dataTransfer:0}),sh=en(ya),rh=b({},Js,{relatedTarget:0}),_a=en(rh),ou=b({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=en(ou),Ao=b({},fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),oh=en(Ao),lh=b({},fs,{data:0}),Hi=en(lh),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=hh[n])?!!s[n]:!1}function er(){return fh}var pn=b({},Js,{key:function(n){if(n.key){var s=uh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ga(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ch[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?ga(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ga(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dh=en(pn),mh=b({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=en(mh),h=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),y=en(h),E=b({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(E),F=b({},So,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K=en(F),oe=b({},fs,{newState:0,oldState:0}),Ie=en(oe),wt=[9,13,27,32],Ye=Kn&&"CompositionEvent"in window,mt=null;Kn&&"documentMode"in document&&(mt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!mt,Gi=Kn&&(!Ye||mt&&8<mt&&11>=mt),di=" ",mi=!1;function va(n,s){switch(n){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ro=!1;function Ow(n,s){switch(n){case"compositionend":return wo(s);case"keypress":return s.which!==32?null:(mi=!0,di);case"textInput":return n=s.data,n===di&&mi?null:n;default:return null}}function Mw(n,s){if(Ro)return n==="compositionend"||!Ye&&va(n,s)?(n=su(),pa=iu=Bi=null,Ro=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kw[n.type]:s==="textarea"}function R_(n,s,a,l){Xs?zi?zi.push(l):zi=[l]:Xs=l,s=sf(s,"onChange"),0<s.length&&(a=new Fi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var lu=null,uu=null;function Lw(n){lE(n,0)}function ph(n){var s=On(n);if(ha(s))return n}function C_(n,s){if(n==="change")return s}var I_=!1;if(Kn){var Jd;if(Kn){var Zd="oninput"in document;if(!Zd){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Zd=typeof x_.oninput=="function"}Jd=Zd}else Jd=!1;I_=Jd&&(!document.documentMode||9<document.documentMode)}function N_(){lu&&(lu.detachEvent("onpropertychange",D_),uu=lu=null)}function D_(n){if(n.propertyName==="value"&&ph(uu)){var s=[];R_(s,uu,n,Qn(n)),Ws(Lw,s)}}function Pw(n,s,a){n==="focusin"?(N_(),lu=s,uu=a,lu.attachEvent("onpropertychange",D_)):n==="focusout"&&N_()}function Vw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ph(uu)}function Uw(n,s){if(n==="click")return ph(s)}function jw(n,s){if(n==="input"||n==="change")return ph(s)}function zw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var kn=typeof Object.is=="function"?Object.is:zw;function cu(n,s){if(kn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xt.call(s,f)||!kn(n[f],s[f]))return!1}return!0}function O_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function M_(n,s){var a=O_(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=O_(a)}}function k_(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?k_(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function L_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ji(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ji(n.document)}return s}function em(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Bw=Kn&&"documentMode"in document&&11>=document.documentMode,Co=null,tm=null,hu=null,nm=!1;function P_(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nm||Co==null||Co!==ji(l)||(l=Co,"selectionStart"in l&&em(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hu&&cu(hu,l)||(hu=l,l=sf(tm,"onSelect"),0<l.length&&(s=new Fi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Co)))}function Ea(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Io={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},im={},V_={};Kn&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function ba(n){if(im[n])return im[n];if(!Io[n])return n;var s=Io[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in V_)return im[n]=s[a];return n}var U_=ba("animationend"),j_=ba("animationiteration"),z_=ba("animationstart"),Fw=ba("transitionrun"),qw=ba("transitionstart"),Hw=ba("transitioncancel"),B_=ba("transitionend"),F_=new Map,sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sm.push("scrollEnd");function pi(n,s){F_.set(n,s),Vi(s,[n])}var gh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},$n=[],xo=0,rm=0;function yh(){for(var n=xo,s=rm=xo=0;s<n;){var a=$n[s];$n[s++]=null;var l=$n[s];$n[s++]=null;var f=$n[s];$n[s++]=null;var d=$n[s];if($n[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&q_(a,f,d)}}function _h(n,s,a,l){$n[xo++]=n,$n[xo++]=s,$n[xo++]=a,$n[xo++]=l,rm|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function am(n,s,a,l){return _h(n,s,a,l),vh(n)}function Ta(n,s){return _h(n,null,null,s),vh(n)}function q_(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-At(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function vh(n){if(50<Mu)throw Mu=0,pp=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var No={};function Gw(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(n,s,a,l){return new Gw(n,s,a,l)}function om(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ms(n,s){var a=n.alternate;return a===null?(a=Ln(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function H_(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Eh(n,s,a,l,f,d){var v=0;if(l=n,typeof n=="function")om(n)&&(v=1);else if(typeof n=="string")v=XR(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Ln(31,a,s,f),n.elementType=C,n.lanes=d,n;case j:return Sa(a.children,f,d,s);case V:v=8,f|=24;break;case X:return n=Ln(12,a,s,f|2),n.elementType=X,n.lanes=d,n;case re:return n=Ln(13,a,s,f),n.elementType=re,n.lanes=d,n;case me:return n=Ln(19,a,s,f),n.elementType=me,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $:v=10;break e;case se:v=9;break e;case ae:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Ln(v,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function Sa(n,s,a,l){return n=Ln(7,n,l,s),n.lanes=a,n}function lm(n,s,a){return n=Ln(6,n,null,s),n.lanes=a,n}function G_(n){var s=Ln(18,null,null,0);return s.stateNode=n,s}function um(n,s,a){return s=Ln(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Q_=new WeakMap;function Xn(n,s){if(typeof n=="object"&&n!==null){var a=Q_.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Fl(s)},Q_.set(n,s),s)}return{value:n,source:s,stack:Fl(s)}}var Do=[],Oo=0,bh=null,fu=0,Wn=[],Jn=0,tr=null,Qi=1,Ki="";function ps(n,s){Do[Oo++]=fu,Do[Oo++]=bh,bh=n,fu=s}function K_(n,s,a){Wn[Jn++]=Qi,Wn[Jn++]=Ki,Wn[Jn++]=tr,tr=n;var l=Qi;n=Ki;var f=32-At(l)-1;l&=~(1<<f),a+=1;var d=32-At(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Qi=1<<32-At(s)+f|a<<f|l,Ki=d+n}else Qi=1<<d|a<<f|l,Ki=n}function cm(n){n.return!==null&&(ps(n,1),K_(n,1,0))}function hm(n){for(;n===bh;)bh=Do[--Oo],Do[Oo]=null,fu=Do[--Oo],Do[Oo]=null;for(;n===tr;)tr=Wn[--Jn],Wn[Jn]=null,Ki=Wn[--Jn],Wn[Jn]=null,Qi=Wn[--Jn],Wn[Jn]=null}function Y_(n,s){Wn[Jn++]=Qi,Wn[Jn++]=Ki,Wn[Jn++]=tr,Qi=s.id,Ki=s.overflow,tr=n}var tn=null,ut=null,je=!1,nr=null,Zn=!1,fm=Error(r(519));function ir(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(Xn(s,n)),fm}function $_(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Dt]=n,s[Yt]=l,a){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(a=0;a<Lu.length;a++)ke(Lu[a],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),eh(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Ys(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||fE(s.textContent,a)?(l.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),l.onScroll!=null&&ke("scroll",s),l.onScrollEnd!=null&&ke("scrollend",s),l.onClick!=null&&(s.onclick=ci),s=!0):s=!1,s||ir(n,!0)}function X_(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:tn=tn.return}}function Mo(n){if(n!==tn)return!1;if(!je)return X_(n),je=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Np(n.type,n.memoizedProps)),a=!a),a&&ut&&ir(n),X_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=bE(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=bE(n)}else s===27?(s=ut,yr(n.type)?(n=Lp,Lp=null,ut=n):ut=s):ut=tn?ti(n.stateNode.nextSibling):null;return!0}function Aa(){ut=tn=null,je=!1}function dm(){var n=nr;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),nr=null),n}function du(n){nr===null?nr=[n]:nr.push(n)}var mm=U(null),wa=null,gs=null;function sr(n,s,a){ue(mm,s._currentValue),s._currentValue=a}function ys(n){n._currentValue=mm.current,ne(mm)}function pm(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function gm(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var M=0;M<s.length;M++)if(T.context===s[M]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),pm(d.return,a,n),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),pm(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ko(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=f.type;kn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===Fe.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(zu):n=[zu])}f=f.return}n!==null&&gm(s,n,a,l),s.flags|=262144}function Th(n){for(n=n.firstContext;n!==null;){if(!kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ra(n){wa=n,gs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return W_(wa,n)}function Sh(n,s){return wa===null&&Ra(n),W_(n,s)}function W_(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},gs===null){if(n===null)throw Error(r(308));gs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else gs=gs.next=s;return a}var Qw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Kw=i.unstable_scheduleCallback,Yw=i.unstable_NormalPriority,kt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new Qw,data:new Map,refCount:0}}function mu(n){n.refCount--,n.refCount===0&&Kw(Yw,function(){n.controller.abort()})}var pu=null,_m=0,Lo=0,Po=null;function $w(n,s){if(pu===null){var a=pu=[];_m=0,Lo=bp(),Po={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _m++,s.then(J_,J_),s}function J_(){if(--_m===0&&pu!==null){Po!==null&&(Po.status="fulfilled");var n=pu;pu=null,Lo=0,Po=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Xw(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Z_=J.S;J.S=function(n,s){P0=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&$w(n,s),Z_!==null&&Z_(n,s)};var Ca=U(null);function vm(){var n=Ca.current;return n!==null?n:at.pooledCache}function Ah(n,s){s===null?ue(Ca,Ca.current):ue(Ca,s.pool)}function ev(){var n=vm();return n===null?null:{parent:kt._currentValue,pool:n}}var Vo=Error(r(460)),Em=Error(r(474)),wh=Error(r(542)),Rh={then:function(){}};function tv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function nv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ci,ci),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,sv(n),n;default:if(typeof s.status=="string")s.then(ci,ci);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,sv(n),n}throw xa=s,Vo}}function Ia(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xa=a,Vo):a}}var xa=null;function iv(){if(xa===null)throw Error(r(459));var n=xa;return xa=null,n}function sv(n){if(n===Vo||n===wh)throw Error(r(483))}var Uo=null,gu=0;function Ch(n){var s=gu;return gu+=1,Uo===null&&(Uo=[]),nv(Uo,n,s)}function yu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ih(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function rv(n){function s(z,P){if(n){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=ms(z,P),z.index=0,z.sibling=null,z}function d(z,P,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=67108866,P):q):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function v(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function T(z,P,q,Z){return P===null||P.tag!==6?(P=lm(q,z.mode,Z),P.return=z,P):(P=f(P,q),P.return=z,P)}function M(z,P,q,Z){var _e=q.type;return _e===j?W(z,P,q.props.children,Z,q.key):P!==null&&(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Ia(_e)===P.type)?(P=f(P,q.props),yu(P,q),P.return=z,P):(P=Eh(q.type,q.key,q.props,null,z.mode,Z),yu(P,q),P.return=z,P)}function H(z,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=um(q,z.mode,Z),P.return=z,P):(P=f(P,q.children||[]),P.return=z,P)}function W(z,P,q,Z,_e){return P===null||P.tag!==7?(P=Sa(q,z.mode,Z,_e),P.return=z,P):(P=f(P,q),P.return=z,P)}function ee(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=lm(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return q=Eh(P.type,P.key,P.props,null,z.mode,q),yu(q,P),q.return=z,q;case B:return P=um(P,z.mode,q),P.return=z,P;case S:return P=Ia(P),ee(z,P,q)}if(Bt(P)||k(P))return P=Sa(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return ee(z,Ch(P),q);if(P.$$typeof===$)return ee(z,Sh(z,P),q);Ih(z,P)}return null}function Q(z,P,q,Z){var _e=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:T(z,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===_e?M(z,P,q,Z):null;case B:return q.key===_e?H(z,P,q,Z):null;case S:return q=Ia(q),Q(z,P,q,Z)}if(Bt(q)||k(q))return _e!==null?null:W(z,P,q,Z,null);if(typeof q.then=="function")return Q(z,P,Ch(q),Z);if(q.$$typeof===$)return Q(z,P,Sh(z,q),Z);Ih(z,q)}return null}function Y(z,P,q,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,T(P,z,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return z=z.get(Z.key===null?q:Z.key)||null,M(P,z,Z,_e);case B:return z=z.get(Z.key===null?q:Z.key)||null,H(P,z,Z,_e);case S:return Z=Ia(Z),Y(z,P,q,Z,_e)}if(Bt(Z)||k(Z))return z=z.get(q)||null,W(P,z,Z,_e,null);if(typeof Z.then=="function")return Y(z,P,q,Ch(Z),_e);if(Z.$$typeof===$)return Y(z,P,q,Sh(P,Z),_e);Ih(P,Z)}return null}function pe(z,P,q,Z){for(var _e=null,Qe=null,ge=P,De=P=0,Pe=null;ge!==null&&De<q.length;De++){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var Ke=Q(z,ge,q[De],Z);if(Ke===null){ge===null&&(ge=Pe);break}n&&ge&&Ke.alternate===null&&s(z,ge),P=d(Ke,P,De),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke,ge=Pe}if(De===q.length)return a(z,ge),je&&ps(z,De),_e;if(ge===null){for(;De<q.length;De++)ge=ee(z,q[De],Z),ge!==null&&(P=d(ge,P,De),Qe===null?_e=ge:Qe.sibling=ge,Qe=ge);return je&&ps(z,De),_e}for(ge=l(ge);De<q.length;De++)Pe=Y(ge,z,De,q[De],Z),Pe!==null&&(n&&Pe.alternate!==null&&ge.delete(Pe.key===null?De:Pe.key),P=d(Pe,P,De),Qe===null?_e=Pe:Qe.sibling=Pe,Qe=Pe);return n&&ge.forEach(function(Tr){return s(z,Tr)}),je&&ps(z,De),_e}function be(z,P,q,Z){if(q==null)throw Error(r(151));for(var _e=null,Qe=null,ge=P,De=P=0,Pe=null,Ke=q.next();ge!==null&&!Ke.done;De++,Ke=q.next()){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var Tr=Q(z,ge,Ke.value,Z);if(Tr===null){ge===null&&(ge=Pe);break}n&&ge&&Tr.alternate===null&&s(z,ge),P=d(Tr,P,De),Qe===null?_e=Tr:Qe.sibling=Tr,Qe=Tr,ge=Pe}if(Ke.done)return a(z,ge),je&&ps(z,De),_e;if(ge===null){for(;!Ke.done;De++,Ke=q.next())Ke=ee(z,Ke.value,Z),Ke!==null&&(P=d(Ke,P,De),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke);return je&&ps(z,De),_e}for(ge=l(ge);!Ke.done;De++,Ke=q.next())Ke=Y(ge,z,De,Ke.value,Z),Ke!==null&&(n&&Ke.alternate!==null&&ge.delete(Ke.key===null?De:Ke.key),P=d(Ke,P,De),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke);return n&&ge.forEach(function(oC){return s(z,oC)}),je&&ps(z,De),_e}function rt(z,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var _e=q.key;P!==null;){if(P.key===_e){if(_e=q.type,_e===j){if(P.tag===7){a(z,P.sibling),Z=f(P,q.props.children),Z.return=z,z=Z;break e}}else if(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Ia(_e)===P.type){a(z,P.sibling),Z=f(P,q.props),yu(Z,q),Z.return=z,z=Z;break e}a(z,P);break}else s(z,P);P=P.sibling}q.type===j?(Z=Sa(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=Eh(q.type,q.key,q.props,null,z.mode,Z),yu(Z,q),Z.return=z,z=Z)}return v(z);case B:e:{for(_e=q.key;P!==null;){if(P.key===_e)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(z,P.sibling),Z=f(P,q.children||[]),Z.return=z,z=Z;break e}else{a(z,P);break}else s(z,P);P=P.sibling}Z=um(q,z.mode,Z),Z.return=z,z=Z}return v(z);case S:return q=Ia(q),rt(z,P,q,Z)}if(Bt(q))return pe(z,P,q,Z);if(k(q)){if(_e=k(q),typeof _e!="function")throw Error(r(150));return q=_e.call(q),be(z,P,q,Z)}if(typeof q.then=="function")return rt(z,P,Ch(q),Z);if(q.$$typeof===$)return rt(z,P,Sh(z,q),Z);Ih(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(z,P.sibling),Z=f(P,q),Z.return=z,z=Z):(a(z,P),Z=lm(q,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,P)}return function(z,P,q,Z){try{gu=0;var _e=rt(z,P,q,Z);return Uo=null,_e}catch(ge){if(ge===Vo||ge===wh)throw ge;var Qe=Ln(29,ge,null,z.mode);return Qe.lanes=Z,Qe.return=z,Qe}finally{}}}var Na=rv(!0),av=rv(!1),rr=!1;function bm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ar(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function or(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=vh(n),q_(n,null,a),s}return _h(n,l,s,a),vh(n)}function _u(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Gl(n,a)}}function Sm(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Am=!1;function vu(){if(Am){var n=Po;if(n!==null)throw n}}function Eu(n,s,a,l){Am=!1;var f=n.updateQueue;rr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var M=T,H=M.next;M.next=null,v===null?d=H:v.next=H,v=M;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=M))}if(d!==null){var ee=f.baseState;v=0,W=H=M=null,T=d;do{var Q=T.lane&-536870913,Y=Q!==T.lane;if(Y?(Le&Q)===Q:(l&Q)===Q){Q!==0&&Q===Lo&&(Am=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=n,be=T;Q=s;var rt=a;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ee=pe.call(rt,ee,Q);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,Q=typeof pe=="function"?pe.call(rt,ee,Q):pe,Q==null)break e;ee=b({},ee,Q);break e;case 2:rr=!0}}Q=T.callback,Q!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=Y,M=ee):W=W.next=Y,v|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(M=ee),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),fr|=v,n.lanes=v,n.memoizedState=ee}}function ov(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function lv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ov(a[n],s)}var jo=U(null),xh=U(0);function uv(n,s){n=Rs,ue(xh,n),ue(jo,s),Rs=n|s.baseLanes}function wm(){ue(xh,Rs),ue(jo,jo.current)}function Rm(){Rs=xh.current,ne(jo),ne(xh)}var Pn=U(null),ei=null;function lr(n){var s=n.alternate;ue(Rt,Rt.current&1),ue(Pn,n),ei===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(ei=n)}function Cm(n){ue(Rt,Rt.current),ue(Pn,n),ei===null&&(ei=n)}function cv(n){n.tag===22?(ue(Rt,Rt.current),ue(Pn,n),ei===null&&(ei=n)):ur()}function ur(){ue(Rt,Rt.current),ue(Pn,Pn.current)}function Vn(n){ne(Pn),ei===n&&(ei=null),ne(Rt)}var Rt=U(0);function Nh(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mp(a)||kp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _s=0,xe=null,it=null,Lt=null,Dh=!1,zo=!1,Da=!1,Oh=0,bu=0,Bo=null,Ww=0;function vt(){throw Error(r(321))}function Im(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!kn(n[a],s[a]))return!1;return!0}function xm(n,s,a,l,f,d){return _s=d,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=n===null||n.memoizedState===null?Kv:Hm,Da=!1,d=a(l,f),Da=!1,zo&&(d=fv(s,a,l,f)),hv(n),d}function hv(n){J.H=Au;var s=it!==null&&it.next!==null;if(_s=0,Lt=it=xe=null,Dh=!1,bu=0,Bo=null,s)throw Error(r(300));n===null||Pt||(n=n.dependencies,n!==null&&Th(n)&&(Pt=!0))}function fv(n,s,a,l){xe=n;var f=0;do{if(zo&&(Bo=null),bu=0,zo=!1,25<=f)throw Error(r(301));if(f+=1,Lt=it=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=Yv,d=s(a,l)}while(zo);return d}function Jw(){var n=J.H,s=n.useState()[0];return s=typeof s.then=="function"?Tu(s):s,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(xe.flags|=1024),s}function Nm(){var n=Oh!==0;return Oh=0,n}function Dm(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Om(n){if(Dh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Dh=!1}_s=0,Lt=it=xe=null,zo=!1,bu=Oh=0,Bo=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?xe.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function Ct(){if(it===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var s=Lt===null?xe.memoizedState:Lt.next;if(s!==null)Lt=s,it=n;else{if(n===null)throw xe.alternate===null?Error(r(467)):Error(r(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Lt===null?xe.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(n){var s=bu;return bu+=1,Bo===null&&(Bo=[]),n=nv(Bo,n,s),s=xe,(Lt===null?s.memoizedState:Lt.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?Kv:Hm),n}function kh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tu(n);if(n.$$typeof===$)return nn(n)}throw Error(r(438,String(n)))}function Mm(n){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Mh(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=D;return s.index++,a}function vs(n,s){return typeof s=="function"?s(n):s}function Lh(n){var s=Ct();return km(s,it,n)}function km(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var T=v=null,M=null,H=s,W=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Le&ee)===ee:(_s&ee)===ee){var Q=H.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Lo&&(W=!0);else if((_s&Q)===Q){H=H.next,Q===Lo&&(W=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(T=M=ee,v=d):M=M.next=ee,xe.lanes|=Q,fr|=Q;ee=H.action,Da&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else Q={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(T=M=Q,v=d):M=M.next=Q,xe.lanes|=ee,fr|=ee;H=H.next}while(H!==null&&H!==s);if(M===null?v=d:M.next=T,!kn(d,n.memoizedState)&&(Pt=!0,W&&(a=Po,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Lm(n){var s=Ct(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);kn(d,s.memoizedState)||(Pt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function dv(n,s,a){var l=xe,f=Ct(),d=je;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!kn((it||f).memoizedState,a);if(v&&(f.memoizedState=a,Pt=!0),f=f.queue,Um(gv.bind(null,l,f,n),[n]),f.getSnapshot!==s||v||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,Fo(9,{destroy:void 0},pv.bind(null,l,f,a,s),null),at===null)throw Error(r(349));d||(_s&127)!==0||mv(l,s,a)}return a}function mv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=Mh(),xe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function pv(n,s,a,l){s.value=a,s.getSnapshot=l,yv(s)&&_v(n)}function gv(n,s,a){return a(function(){yv(s)&&_v(n)})}function yv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!kn(n,a)}catch{return!0}}function _v(n){var s=Ta(n,2);s!==null&&Cn(s,n,2)}function Pm(n){var s=gn();if(typeof n=="function"){var a=n;if(n=a(),Da){Hn(!0);try{a()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:n},s}function vv(n,s,a,l){return n.baseState=a,km(n,it,typeof l=="function"?l:vs)}function Zw(n,s,a,l,f){if(Uh(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Ev(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Ev(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=J.T,v={};J.T=v;try{var T=a(f,l),M=J.S;M!==null&&M(v,T),bv(n,s,T)}catch(H){Vm(n,s,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),J.T=d}}else try{d=a(f,l),bv(n,s,d)}catch(H){Vm(n,s,H)}}function bv(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tv(n,s,l)},function(l){return Vm(n,s,l)}):Tv(n,s,a)}function Tv(n,s,a){s.status="fulfilled",s.value=a,Sv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Ev(n,a)))}function Vm(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Sv(s),s=s.next;while(s!==l)}n.action=null}function Sv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Av(n,s){return s}function wv(n,s){if(je){var a=at.formState;if(a!==null){e:{var l=xe;if(je){if(ut){t:{for(var f=ut,d=Zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=ti(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=ti(f.nextSibling),l=f.data==="F!";break e}}ir(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Av,lastRenderedState:s},a.queue=l,a=Hv.bind(null,xe,l),l.dispatch=a,l=Pm(!1),d=qm.bind(null,xe,!1,l.queue),l=gn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Zw.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Rv(n){var s=Ct();return Cv(s,it,n)}function Cv(n,s,a){if(s=km(n,s,Av)[0],n=Lh(vs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Tu(s)}catch(v){throw v===Vo?wh:v}else l=s;s=Ct();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,Fo(9,{destroy:void 0},eR.bind(null,f,a),null)),[l,d,n]}function eR(n,s){n.action=s}function Iv(n){var s=Ct(),a=it;if(a!==null)return Cv(s,a,n);Ct(),s=s.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Fo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Mh(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function xv(){return Ct().memoizedState}function Ph(n,s,a,l){var f=gn();xe.flags|=n,f.memoizedState=Fo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Vh(n,s,a,l){var f=Ct();l=l===void 0?null:l;var d=f.memoizedState.inst;it!==null&&l!==null&&Im(l,it.memoizedState.deps)?f.memoizedState=Fo(s,d,a,l):(xe.flags|=n,f.memoizedState=Fo(1|s,d,a,l))}function Nv(n,s){Ph(8390656,8,n,s)}function Um(n,s){Vh(2048,8,n,s)}function tR(n){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=Mh(),xe.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Dv(n){var s=Ct().memoizedState;return tR({ref:s,nextImpl:n}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ov(n,s){return Vh(4,2,n,s)}function Mv(n,s){return Vh(4,4,n,s)}function kv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Lv(n,s,a){a=a!=null?a.concat([n]):null,Vh(4,4,kv.bind(null,s,n),a)}function jm(){}function Pv(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Im(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function Vv(n,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Im(s,l[1]))return l[0];if(l=n(),Da){Hn(!0);try{n()}finally{Hn(!1)}}return a.memoizedState=[l,s],l}function zm(n,s,a){return a===void 0||(_s&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=U0(),xe.lanes|=n,fr|=n,a)}function Uv(n,s,a,l){return kn(a,s)?a:jo.current!==null?(n=zm(n,a,l),kn(n,s)||(Pt=!0),n):(_s&42)===0||(_s&1073741824)!==0&&(Le&261930)===0?(Pt=!0,n.memoizedState=a):(n=U0(),xe.lanes|=n,fr|=n,s)}function jv(n,s,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=J.T,T={};J.T=T,qm(n,!1,s,a);try{var M=f(),H=J.S;if(H!==null&&H(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=Xw(M,l);Su(n,s,W,zn(n))}else Su(n,s,l,zn(n))}catch(ee){Su(n,s,{then:function(){},status:"rejected",reason:ee},zn())}finally{le.p=d,v!==null&&T.types!==null&&(v.types=T.types),J.T=v}}function nR(){}function Bm(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=zv(n).queue;jv(n,f,s,Ee,a===null?nR:function(){return Bv(n),a(l)})}function zv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:Ee},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Bv(n){var s=zv(n);s.next===null&&(s=n.alternate.memoizedState),Su(n,s.next.queue,{},zn())}function Fm(){return nn(zu)}function Fv(){return Ct().memoizedState}function qv(){return Ct().memoizedState}function iR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=zn();n=ar(a);var l=or(s,n,a);l!==null&&(Cn(l,s,a),_u(l,s,a)),s={cache:ym()},n.payload=s;return}s=s.return}}function sR(n,s,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uh(n)?Gv(s,a):(a=am(n,s,a,l),a!==null&&(Cn(a,n,l),Qv(a,s,l)))}function Hv(n,s,a){var l=zn();Su(n,s,a,l)}function Su(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uh(n))Gv(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,kn(T,v))return _h(n,s,f,0),at===null&&yh(),!1}catch{}finally{}if(a=am(n,s,f,l),a!==null)return Cn(a,n,l),Qv(a,s,l),!0}return!1}function qm(n,s,a,l){if(l={lane:2,revertLane:bp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uh(n)){if(s)throw Error(r(479))}else s=am(n,a,l,2),s!==null&&Cn(s,n,2)}function Uh(n){var s=n.alternate;return n===xe||s!==null&&s===xe}function Gv(n,s){zo=Dh=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Qv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Gl(n,a)}}var Au={readContext:nn,use:kh,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Au.useEffectEvent=vt;var Kv={readContext:nn,use:kh,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:nn,useEffect:Nv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Ph(4194308,4,kv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Ph(4194308,4,n,s)},useInsertionEffect:function(n,s){Ph(4,2,n,s)},useMemo:function(n,s){var a=gn();s=s===void 0?null:s;var l=n();if(Da){Hn(!0);try{n()}finally{Hn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=gn();if(a!==void 0){var f=a(s);if(Da){Hn(!0);try{a(s)}finally{Hn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=sR.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:function(n){n=Pm(n);var s=n.queue,a=Hv.bind(null,xe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:jm,useDeferredValue:function(n,s){var a=gn();return zm(a,n,s)},useTransition:function(){var n=Pm(!1);return n=jv.bind(null,xe,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=xe,f=gn();if(je){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),at===null)throw Error(r(349));(Le&127)!==0||mv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Nv(gv.bind(null,l,d,n),[n]),l.flags|=2048,Fo(9,{destroy:void 0},pv.bind(null,l,d,a,s),null),a},useId:function(){var n=gn(),s=at.identifierPrefix;if(je){var a=Ki,l=Qi;a=(l&~(1<<32-At(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Oh++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ww++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Fm,useFormState:wv,useActionState:wv,useOptimistic:function(n){var s=gn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=qm.bind(null,xe,!0,a),a.dispatch=s,[n,s]},useMemoCache:Mm,useCacheRefresh:function(){return gn().memoizedState=iR.bind(null,xe)},useEffectEvent:function(n){var s=gn(),a={impl:n};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hm={readContext:nn,use:kh,useCallback:Pv,useContext:nn,useEffect:Um,useImperativeHandle:Lv,useInsertionEffect:Ov,useLayoutEffect:Mv,useMemo:Vv,useReducer:Lh,useRef:xv,useState:function(){return Lh(vs)},useDebugValue:jm,useDeferredValue:function(n,s){var a=Ct();return Uv(a,it.memoizedState,n,s)},useTransition:function(){var n=Lh(vs)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:Tu(n),s]},useSyncExternalStore:dv,useId:Fv,useHostTransitionStatus:Fm,useFormState:Rv,useActionState:Rv,useOptimistic:function(n,s){var a=Ct();return vv(a,it,n,s)},useMemoCache:Mm,useCacheRefresh:qv};Hm.useEffectEvent=Dv;var Yv={readContext:nn,use:kh,useCallback:Pv,useContext:nn,useEffect:Um,useImperativeHandle:Lv,useInsertionEffect:Ov,useLayoutEffect:Mv,useMemo:Vv,useReducer:Lm,useRef:xv,useState:function(){return Lm(vs)},useDebugValue:jm,useDeferredValue:function(n,s){var a=Ct();return it===null?zm(a,n,s):Uv(a,it.memoizedState,n,s)},useTransition:function(){var n=Lm(vs)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:Tu(n),s]},useSyncExternalStore:dv,useId:Fv,useHostTransitionStatus:Fm,useFormState:Iv,useActionState:Iv,useOptimistic:function(n,s){var a=Ct();return it!==null?vv(a,it,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:qv};Yv.useEffectEvent=Dv;function Gm(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Qm={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=zn(),f=ar(l);f.payload=s,a!=null&&(f.callback=a),s=or(n,f,l),s!==null&&(Cn(s,n,l),_u(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=zn(),f=ar(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=or(n,f,l),s!==null&&(Cn(s,n,l),_u(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=zn(),l=ar(a);l.tag=2,s!=null&&(l.callback=s),s=or(n,l,a),s!==null&&(Cn(s,n,a),_u(s,n,a))}};function $v(n,s,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!cu(a,l)||!cu(f,d):!0}function Xv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Qm.enqueueReplaceState(s,s.state,null)}function Oa(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=b({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Wv(n){gh(n)}function Jv(n){console.error(n)}function Zv(n){gh(n)}function jh(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function e0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Km(n,s,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){jh(n,s)},a}function t0(n){return n=ar(n),n.tag=3,n}function n0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){e0(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){e0(s,a,l),typeof f!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function rR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ko(s,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ei===null?Wh():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Rh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),_p(n,l,f)),!1;case 22:return a.flags|=65536,l===Rh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),_p(n,l,f)),!1}throw Error(r(435,a.tag))}return _p(n,l,f),Wh(),!1}if(je)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==fm&&(n=Error(r(422),{cause:l}),du(Xn(n,a)))):(l!==fm&&(s=Error(r(423),{cause:l}),du(Xn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Xn(l,a),f=Km(n.stateNode,l,f),Sm(n,f),Et!==4&&(Et=2)),!1;var d=Error(r(520),{cause:l});if(d=Xn(d,a),Ou===null?Ou=[d]:Ou.push(d),Et!==4&&(Et=2),s===null)return!0;l=Xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Km(a.stateNode,l,n),Sm(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=t0(f),n0(f,n,a,l),Sm(a,f),!1}a=a.return}while(a!==null);return!1}var Ym=Error(r(461)),Pt=!1;function sn(n,s,a,l){s.child=n===null?av(s,null,a,l):Na(s,n.child,a,l)}function i0(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ra(s),l=xm(n,s,a,v,d,f),T=Nm(),n!==null&&!Pt?(Dm(n,s,f),Es(n,s,f)):(je&&T&&cm(s),s.flags|=1,sn(n,s,l,f),s.child)}function s0(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!om(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,r0(n,s,d,l,f)):(n=Eh(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!np(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:cu,a(v,l)&&n.ref===s.ref)return Es(n,s,f)}return s.flags|=1,n=ms(d,l),n.ref=s.ref,n.return=s,s.child=n}function r0(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(cu(d,l)&&n.ref===s.ref)if(Pt=!1,s.pendingProps=l=d,np(n,f))(n.flags&131072)!==0&&(Pt=!0);else return s.lanes=n.lanes,Es(n,s,f)}return $m(n,s,a,l,f)}function a0(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return o0(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ah(s,d!==null?d.cachePool:null),d!==null?uv(s,d):wm(),cv(s);else return l=s.lanes=536870912,o0(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ah(s,d.cachePool),uv(s,d),ur(),s.memoizedState=null):(n!==null&&Ah(s,null),wm(),ur());return sn(n,s,f,a),s.child}function wu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function o0(n,s,a,l,f){var d=vm();return d=d===null?null:{parent:kt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Ah(s,null),wm(),cv(s),n!==null&&ko(n,s,l,!0),s.childLanes=f,null}function zh(n,s){return s=Fh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function l0(n,s,a){return Na(s,n.child,null,a),n=zh(s,s.pendingProps),n.flags|=2,Vn(s),s.memoizedState=null,n}function aR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(je){if(l.mode==="hidden")return n=zh(s,l),s.lanes=536870912,wu(null,n);if(Cm(s),(n=ut)?(n=EE(n,Zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:tr!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=G_(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw ir(s);return s.lanes=536870912,null}return zh(s,l)}var d=n.memoizedState;if(d!==null){var v=d.dehydrated;if(Cm(s),f)if(s.flags&256)s.flags&=-257,s=l0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Pt||ko(n,s,a,!1),f=(a&n.childLanes)!==0,Pt||f){if(l=at,l!==null&&(v=Ql(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ta(n,v),Cn(l,n,v),Ym;Wh(),s=l0(n,s,a)}else n=d.treeContext,ut=ti(v.nextSibling),tn=s,je=!0,nr=null,Zn=!1,n!==null&&Y_(s,n),s=zh(s,l),s.flags|=4096;return s}return n=ms(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Bh(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function $m(n,s,a,l,f){return Ra(s),a=xm(n,s,a,l,void 0,f),l=Nm(),n!==null&&!Pt?(Dm(n,s,f),Es(n,s,f)):(je&&l&&cm(s),s.flags|=1,sn(n,s,a,f),s.child)}function u0(n,s,a,l,f,d){return Ra(s),s.updateQueue=null,a=fv(s,l,a,f),hv(n),l=Nm(),n!==null&&!Pt?(Dm(n,s,d),Es(n,s,d)):(je&&l&&cm(s),s.flags|=1,sn(n,s,a,d),s.child)}function c0(n,s,a,l,f){if(Ra(s),s.stateNode===null){var d=No,v=a.contextType;typeof v=="object"&&v!==null&&(d=nn(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},bm(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?nn(v):No,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Gm(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Qm.enqueueReplaceState(d,d.state,null),Eu(s,l,d,f),vu(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var T=s.memoizedProps,M=Oa(a,T);d.props=M;var H=d.context,W=a.contextType;v=No,typeof W=="object"&&W!==null&&(v=nn(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&Xv(s,d,l,v),rr=!1;var Q=s.memoizedState;d.state=Q,Eu(s,l,d,f),vu(),H=s.memoizedState,T||Q!==H||rr?(typeof ee=="function"&&(Gm(s,a,ee,l),H=s.memoizedState),(M=rr||$v(s,a,M,l,Q,H,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Tm(n,s),v=s.memoizedProps,W=Oa(a,v),d.props=W,ee=s.pendingProps,Q=d.context,H=a.contextType,M=No,typeof H=="object"&&H!==null&&(M=nn(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||Q!==M)&&Xv(s,d,l,M),rr=!1,Q=s.memoizedState,d.state=Q,Eu(s,l,d,f),vu();var Y=s.memoizedState;v!==ee||Q!==Y||rr||n!==null&&n.dependencies!==null&&Th(n.dependencies)?(typeof T=="function"&&(Gm(s,a,T,l),Y=s.memoizedState),(W=rr||$v(s,a,W,l,Q,Y,M)||n!==null&&n.dependencies!==null&&Th(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=M,l=W):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Bh(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Na(s,n.child,null,f),s.child=Na(s,null,a,f)):sn(n,s,a,f),s.memoizedState=d.state,n=s.child):n=Es(n,s,f),n}function h0(n,s,a,l){return Aa(),s.flags|=256,sn(n,s,a,l),s.child}var Xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wm(n){return{baseLanes:n,cachePool:ev()}}function Jm(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=jn),n}function f0(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(je){if(f?lr(s):ur(),(n=ut)?(n=EE(n,Zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:tr!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},a=G_(n),a.return=s,s.child=a,tn=s,ut=null)):n=null,n===null)throw ir(s);return kp(n)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(ur(),f=s.mode,T=Fh({mode:"hidden",children:T},f),l=Sa(l,f,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=Wm(a),l.childLanes=Jm(n,v,a),s.memoizedState=Xm,wu(null,l)):(lr(s),Zm(s,T))}var M=n.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(d)s.flags&256?(lr(s),s.flags&=-257,s=ep(n,s,a)):s.memoizedState!==null?(ur(),s.child=n.child,s.flags|=128,s=null):(ur(),T=l.fallback,f=s.mode,l=Fh({mode:"visible",children:l.children},f),T=Sa(T,f,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,Na(s,n.child,null,a),l=s.child,l.memoizedState=Wm(a),l.childLanes=Jm(n,v,a),s.memoizedState=Xm,s=wu(null,l));else if(lr(s),kp(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(r(419)),l.stack="",l.digest=v,du({value:l,source:null,stack:null}),s=ep(n,s,a)}else if(Pt||ko(n,s,a,!1),v=(a&n.childLanes)!==0,Pt||v){if(v=at,v!==null&&(l=Ql(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Ta(n,l),Cn(v,n,l),Ym;Mp(T)||Wh(),s=ep(n,s,a)}else Mp(T)?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,ut=ti(T.nextSibling),tn=s,je=!0,nr=null,Zn=!1,n!==null&&Y_(s,n),s=Zm(s,l.children),s.flags|=4096);return s}return f?(ur(),T=l.fallback,f=s.mode,M=n.child,H=M.sibling,l=ms(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?T=ms(H,T):(T=Sa(T,f,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,wu(null,l),l=s.child,T=n.child.memoizedState,T===null?T=Wm(a):(f=T.cachePool,f!==null?(M=kt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=ev(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Jm(n,v,a),s.memoizedState=Xm,wu(n.child,l)):(lr(s),a=n.child,n=a.sibling,a=ms(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function Zm(n,s){return s=Fh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Fh(n,s){return n=Ln(22,n,null,s),n.lanes=0,n}function ep(n,s,a){return Na(s,n.child,null,a),n=Zm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function d0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),pm(n.return,s,a)}function tp(n,s,a,l,f,d){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function m0(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Rt.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,ue(Rt,v),sn(n,s,l,a),l=je?fu:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&d0(n,a,s);else if(n.tag===19)d0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Nh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),tp(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Nh(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}tp(s,!0,a,null,d,l);break;case"together":tp(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Es(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),fr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(ko(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ms(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ms(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function np(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Th(n)))}function oR(n,s,a){switch(s.tag){case 3:Ft(s,s.stateNode.containerInfo),sr(s,kt,n.memoizedState.cache),Aa();break;case 27:case 5:sa(s);break;case 4:Ft(s,s.stateNode.containerInfo);break;case 10:sr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cm(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?f0(n,s,a):(lr(s),n=Es(n,s,a),n!==null?n.sibling:null);lr(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ko(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return m0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Rt,Rt.current),l)break;return null;case 22:return s.lanes=0,a0(n,s,a,s.pendingProps);case 24:sr(s,kt,n.memoizedState.cache)}return Es(n,s,a)}function p0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Pt=!0;else{if(!np(n,a)&&(s.flags&128)===0)return Pt=!1,oR(n,s,a);Pt=(n.flags&131072)!==0}else Pt=!1,je&&(s.flags&1048576)!==0&&K_(s,fu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=Ia(s.elementType),s.type=n,typeof n=="function")om(n)?(l=Oa(n,l),s.tag=1,s=c0(null,s,n,l,a)):(s.tag=0,s=$m(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ae){s.tag=11,s=i0(null,s,n,l,a);break e}else if(f===N){s.tag=14,s=s0(null,s,n,l,a);break e}}throw s=Be(n)||n,Error(r(306,s,""))}}return s;case 0:return $m(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Oa(l,s.pendingProps),c0(n,s,l,f,a);case 3:e:{if(Ft(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Tm(n,s),Eu(s,l,null,a);var v=s.memoizedState;if(l=v.cache,sr(s,kt,l),l!==d.cache&&gm(s,[kt],a,!0),vu(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=h0(n,s,l,a);break e}else if(l!==f){f=Xn(Error(r(424)),s),du(f),s=h0(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=ti(n.firstChild),tn=s,je=!0,nr=null,Zn=!0,a=av(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Aa(),l===f){s=Es(n,s,a);break e}sn(n,s,l,a)}s=s.child}return s;case 26:return Bh(n,s),n===null?(a=RE(s.type,null,s.pendingProps,null))?s.memoizedState=a:je||(a=s.type,n=s.pendingProps,l=rf(Ne.current).createElement(a),l[Dt]=s,l[Yt]=n,rn(l,a,n),Ot(l),s.stateNode=l):s.memoizedState=RE(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return sa(s),n===null&&je&&(l=s.stateNode=SE(s.type,s.pendingProps,Ne.current),tn=s,Zn=!0,f=ut,yr(s.type)?(Lp=f,ut=ti(l.firstChild)):ut=f),sn(n,s,s.pendingProps.children,a),Bh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&je&&((f=l=ut)&&(l=VR(l,s.type,s.pendingProps,Zn),l!==null?(s.stateNode=l,tn=s,ut=ti(l.firstChild),Zn=!1,f=!0):f=!1),f||ir(s)),sa(s),f=s.type,d=s.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Np(f,d)?l=null:v!==null&&Np(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=xm(n,s,Jw,null,null,a),zu._currentValue=f),Bh(n,s),sn(n,s,l,a),s.child;case 6:return n===null&&je&&((n=a=ut)&&(a=UR(a,s.pendingProps,Zn),a!==null?(s.stateNode=a,tn=s,ut=null,n=!0):n=!1),n||ir(s)),null;case 13:return f0(n,s,a);case 4:return Ft(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Na(s,null,l,a):sn(n,s,l,a),s.child;case 11:return i0(n,s,s.type,s.pendingProps,a);case 7:return sn(n,s,s.pendingProps,a),s.child;case 8:return sn(n,s,s.pendingProps.children,a),s.child;case 12:return sn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,sr(s,s.type,l.value),sn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ra(s),f=nn(f),l=l(f),s.flags|=1,sn(n,s,l,a),s.child;case 14:return s0(n,s,s.type,s.pendingProps,a);case 15:return r0(n,s,s.type,s.pendingProps,a);case 19:return m0(n,s,a);case 31:return aR(n,s,a);case 22:return a0(n,s,a,s.pendingProps);case 24:return Ra(s),l=nn(kt),n===null?(f=vm(),f===null&&(f=at,d=ym(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},bm(s),sr(s,kt,f)):((n.lanes&a)!==0&&(Tm(n,s),Eu(s,null,null,a),vu()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),sr(s,kt,l)):(l=d.cache,sr(s,kt,l),l!==f.cache&&gm(s,[kt],a,!0))),sn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function bs(n){n.flags|=4}function ip(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(F0())n.flags|=8192;else throw xa=Rh,Em}else n.flags&=-16777217}function g0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!DE(s))if(F0())n.flags|=8192;else throw xa=Rh,Em}function qh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?$c():536870912,n.lanes|=s,Qo|=s)}function Ru(n,s){if(!je)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function lR(n,s,a){var l=s.pendingProps;switch(hm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ys(kt),dt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Mo(s)?bs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dm())),ct(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(bs(s),d!==null?(ct(s),g0(s,d)):(ct(s),ip(s,f,null,l,a))):d?d!==n.memoizedState?(bs(s),ct(s),g0(s,d)):(ct(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&bs(s),ct(s),ip(s,f,n,l,a)),null;case 27:if(co(s),a=Ne.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&bs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ct(s),null}n=de.current,Mo(s)?$_(s):(n=SE(f,l,a),s.stateNode=n,bs(s))}return ct(s),null;case 5:if(co(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&bs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(d=de.current,Mo(s))$_(s);else{var v=rf(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Dt]=s,d[Yt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(rn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bs(s)}}return ct(s),ip(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&bs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ne.current,Mo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Dt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fE(n.nodeValue,a)),n||ir(s,!0)}else n=rf(n).createTextNode(l),n[Dt]=s,s.stateNode=n}return ct(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Mo(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Dt]=s}else Aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),n=!1}else a=dm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Vn(s),s):(Vn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ct(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Mo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Dt]=s}else Aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),f=!1}else f=dm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Vn(s),s):(Vn(s),null)}return Vn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),qh(s,s.updateQueue),ct(s),null);case 4:return dt(),n===null&&wp(s.stateNode.containerInfo),ct(s),null;case 10:return ys(s.type),ct(s),null;case 19:if(ne(Rt),l=s.memoizedState,l===null)return ct(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Ru(l,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=Nh(n),d!==null){for(s.flags|=128,Ru(l,!1),n=d.updateQueue,s.updateQueue=n,qh(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)H_(a,n),a=a.sibling;return ue(Rt,Rt.current&1|2),je&&ps(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&mn()>Yh&&(s.flags|=128,f=!0,Ru(l,!1),s.lanes=4194304)}else{if(!f)if(n=Nh(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,qh(s,n),Ru(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return ct(s),null}else 2*mn()-l.renderingStartTime>Yh&&a!==536870912&&(s.flags|=128,f=!0,Ru(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=mn(),n.sibling=null,a=Rt.current,ue(Rt,f?a&1|2:a&1),je&&ps(s,l.treeForkCount),n):(ct(s),null);case 22:case 23:return Vn(s),Rm(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),a=s.updateQueue,a!==null&&qh(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ne(Ca),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ys(kt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function uR(n,s){switch(hm(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ys(kt),dt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return co(s),null;case 31:if(s.memoizedState!==null){if(Vn(s),s.alternate===null)throw Error(r(340));Aa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Vn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Aa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ne(Rt),null;case 4:return dt(),null;case 10:return ys(s.type),null;case 22:case 23:return Vn(s),Rm(),n!==null&&ne(Ca),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ys(kt),null;case 25:return null;default:return null}}function y0(n,s){switch(hm(s),s.tag){case 3:ys(kt),dt();break;case 26:case 27:case 5:co(s);break;case 4:dt();break;case 31:s.memoizedState!==null&&Vn(s);break;case 13:Vn(s);break;case 19:ne(Rt);break;case 10:ys(s.type);break;case 22:case 23:Vn(s),Rm(),n!==null&&ne(Ca);break;case 24:ys(kt)}}function Cu(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(s,s.return,T)}}function cr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=s;var M=a,H=T;try{H()}catch(W){tt(f,M,W)}}}l=l.next}while(l!==d)}}catch(W){tt(s,s.return,W)}}function _0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{lv(s,a)}catch(l){tt(n,n.return,l)}}}function v0(n,s,a){a.props=Oa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,s,l)}}function Iu(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){tt(n,s,f)}}function Yi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,s,f)}else a.current=null}function E0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function sp(n,s,a){try{var l=n.stateNode;DR(l,n.type,a,s),l[Yt]=s}catch(f){tt(n,n.return,f)}}function b0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&yr(n.type)||n.tag===4}function rp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||b0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&yr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ap(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ci));else if(l!==4&&(l===27&&yr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(ap(n,s,a),n=n.sibling;n!==null;)ap(n,s,a),n=n.sibling}function Hh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&yr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Hh(n,s,a),n=n.sibling;n!==null;)Hh(n,s,a),n=n.sibling}function T0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,l,a),s[Dt]=n,s[Yt]=a}catch(d){tt(n,n.return,d)}}var Ts=!1,Vt=!1,op=!1,S0=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function cR(n,s){if(n=n.containerInfo,Ip=ff,n=L_(n),em(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,M=-1,H=0,W=0,ee=n,Q=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==d||l!==0&&ee.nodeType!==3||(M=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)Q=ee,ee=Y;for(;;){if(ee===n)break t;if(Q===a&&++H===f&&(T=v),Q===d&&++W===l&&(M=v),(Y=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=Y}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(xp={focusedElem:n,selectionRange:a},ff=!1,Xt=s;Xt!==null;)if(s=Xt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Xt=n;else for(;Xt!==null;){switch(s=Xt,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Oa(a.type,f);n=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){tt(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Op(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Op(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Xt=n;break}Xt=s.return}}function A0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:As(n,a),l&4&&Cu(5,a);break;case 1:if(As(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){tt(a,a.return,v)}else{var f=Oa(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&_0(a),l&512&&Iu(a,a.return);break;case 3:if(As(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{lv(n,s)}catch(v){tt(a,a.return,v)}}break;case 27:s===null&&l&4&&T0(a);case 26:case 5:As(n,a),s===null&&l&4&&E0(a),l&512&&Iu(a,a.return);break;case 12:As(n,a);break;case 31:As(n,a),l&4&&C0(n,a);break;case 13:As(n,a),l&4&&I0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=vR.bind(null,a),jR(n,a))));break;case 22:if(l=a.memoizedState!==null||Ts,!l){s=s!==null&&s.memoizedState!==null||Vt,f=Ts;var d=Vt;Ts=l,(Vt=s)&&!d?ws(n,a,(a.subtreeFlags&8772)!==0):As(n,a),Ts=f,Vt=d}break;case 30:break;default:As(n,a)}}function w0(n){var s=n.alternate;s!==null&&(n.alternate=null,w0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&go(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,Sn=!1;function Ss(n,s,a){for(a=a.child;a!==null;)R0(n,s,a),a=a.sibling}function R0(n,s,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ai,a)}catch{}switch(a.tag){case 26:Vt||Yi(a,s),Ss(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||Yi(a,s);var l=pt,f=Sn;yr(a.type)&&(pt=a.stateNode,Sn=!1),Ss(n,s,a),Vu(a.stateNode),pt=l,Sn=f;break;case 5:Vt||Yi(a,s);case 6:if(l=pt,f=Sn,pt=null,Ss(n,s,a),pt=l,Sn=f,pt!==null)if(Sn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(d){tt(a,s,d)}else try{pt.removeChild(a.stateNode)}catch(d){tt(a,s,d)}break;case 18:pt!==null&&(Sn?(n=pt,_E(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),el(n)):_E(pt,a.stateNode));break;case 4:l=pt,f=Sn,pt=a.stateNode.containerInfo,Sn=!0,Ss(n,s,a),pt=l,Sn=f;break;case 0:case 11:case 14:case 15:cr(2,a,s),Vt||cr(4,a,s),Ss(n,s,a);break;case 1:Vt||(Yi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v0(a,s,l)),Ss(n,s,a);break;case 21:Ss(n,s,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,Ss(n,s,a),Vt=l;break;default:Ss(n,s,a)}}function C0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{el(n)}catch(a){tt(s,s.return,a)}}}function I0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{el(n)}catch(a){tt(s,s.return,a)}}function hR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new S0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new S0),s;default:throw Error(r(435,n.tag))}}function Gh(n,s){var a=hR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=ER.bind(null,n,l);l.then(f,f)}})}function An(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(yr(T.type)){pt=T.stateNode,Sn=!1;break e}break;case 5:pt=T.stateNode,Sn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(pt===null)throw Error(r(160));R0(d,v,f),pt=null,Sn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)x0(s,n),s=s.sibling}var gi=null;function x0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(s,n),wn(n),l&4&&(cr(3,n,n.return),Cu(3,n),cr(5,n,n.return));break;case 1:An(s,n),wn(n),l&512&&(Vt||a===null||Yi(a,a.return)),l&64&&Ts&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=gi;if(An(s,n),wn(n),l&512&&(Vt||a===null||Yi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ki]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,l,a),d[Dt]=n,Ot(d),l=d;break e;case"link":var v=xE("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;case"meta":if(v=xE("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),rn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Dt]=n,Ot(d),l=d}n.stateNode=l}else NE(f,n.type,n.stateNode);else n.stateNode=IE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?NE(f,n.type,n.stateNode):IE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&sp(n,n.memoizedProps,a.memoizedProps)}break;case 27:An(s,n),wn(n),l&512&&(Vt||a===null||Yi(a,a.return)),a!==null&&l&4&&sp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(An(s,n),wn(n),l&512&&(Vt||a===null||Yi(a,a.return)),n.flags&32){f=n.stateNode;try{Tn(f,"")}catch(pe){tt(n,n.return,pe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,sp(n,f,a!==null?a.memoizedProps:f)),l&1024&&(op=!0);break;case 6:if(An(s,n),wn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){tt(n,n.return,pe)}}break;case 3:if(lf=null,f=gi,gi=af(s.containerInfo),An(s,n),gi=f,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(pe){tt(n,n.return,pe)}op&&(op=!1,N0(n));break;case 4:l=gi,gi=af(n.stateNode.containerInfo),An(s,n),wn(n),gi=l;break;case 12:An(s,n),wn(n);break;case 31:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gh(n,l)));break;case 13:An(s,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kh=mn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gh(n,l)));break;case 22:f=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=Ts,W=Vt;if(Ts=H||f,Vt=W||M,An(s,n),Vt=W,Ts=H,wn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||Ts||Vt||Ma(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=M.stateNode;var ee=M.memoizedProps.style,Q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(M,M.return,pe)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pe){tt(M,M.return,pe)}}}else if(s.tag===18){if(a===null){M=s;try{var Y=M.stateNode;f?vE(Y,!0):vE(M.stateNode,!1)}catch(pe){tt(M,M.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gh(n,a))));break;case 19:An(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gh(n,l)));break;case 30:break;case 21:break;default:An(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(b0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=rp(n);Hh(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=rp(n);Hh(n,T,v);break;case 3:case 4:var M=a.stateNode.containerInfo,H=rp(n);ap(n,H,M);break;default:throw Error(r(161))}}catch(W){tt(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function N0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;N0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function As(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)A0(n,s.alternate,s),s=s.sibling}function Ma(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:cr(4,s,s.return),Ma(s);break;case 1:Yi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&v0(s,s.return,a),Ma(s);break;case 27:Vu(s.stateNode);case 26:case 5:Yi(s,s.return),Ma(s);break;case 22:s.memoizedState===null&&Ma(s);break;case 30:Ma(s);break;default:Ma(s)}n=n.sibling}}function ws(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:ws(f,d,a),Cu(4,d);break;case 1:if(ws(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){tt(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)ov(M[f],T)}catch(H){tt(l,l.return,H)}}a&&v&64&&_0(d),Iu(d,d.return);break;case 27:T0(d);case 26:case 5:ws(f,d,a),a&&l===null&&v&4&&E0(d),Iu(d,d.return);break;case 12:ws(f,d,a);break;case 31:ws(f,d,a),a&&v&4&&C0(f,d);break;case 13:ws(f,d,a),a&&v&4&&I0(f,d);break;case 22:d.memoizedState===null&&ws(f,d,a),Iu(d,d.return);break;case 30:break;default:ws(f,d,a)}s=s.sibling}}function lp(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&mu(a))}function up(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&mu(n))}function yi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)D0(n,s,a,l),s=s.sibling}function D0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:yi(n,s,a,l),f&2048&&Cu(9,s);break;case 1:yi(n,s,a,l);break;case 3:yi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&mu(n)));break;case 12:if(f&2048){yi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){tt(s,s.return,M)}}else yi(n,s,a,l);break;case 31:yi(n,s,a,l);break;case 13:yi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?yi(n,s,a,l):xu(n,s):d._visibility&2?yi(n,s,a,l):(d._visibility|=2,qo(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&lp(v,s);break;case 24:yi(n,s,a,l),f&2048&&up(s.alternate,s);break;default:yi(n,s,a,l)}}function qo(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,v=s,T=a,M=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:qo(d,v,T,M,f),Cu(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?qo(d,v,T,M,f):xu(d,v):(W._visibility|=2,qo(d,v,T,M,f)),f&&H&2048&&lp(v.alternate,v);break;case 24:qo(d,v,T,M,f),f&&H&2048&&up(v.alternate,v);break;default:qo(d,v,T,M,f)}s=s.sibling}}function xu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:xu(a,l),f&2048&&lp(l.alternate,l);break;case 24:xu(a,l),f&2048&&up(l.alternate,l);break;default:xu(a,l)}s=s.sibling}}var Nu=8192;function Ho(n,s,a){if(n.subtreeFlags&Nu)for(n=n.child;n!==null;)O0(n,s,a),n=n.sibling}function O0(n,s,a){switch(n.tag){case 26:Ho(n,s,a),n.flags&Nu&&n.memoizedState!==null&&WR(a,gi,n.memoizedState,n.memoizedProps);break;case 5:Ho(n,s,a);break;case 3:case 4:var l=gi;gi=af(n.stateNode.containerInfo),Ho(n,s,a),gi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Nu,Nu=16777216,Ho(n,s,a),Nu=l):Ho(n,s,a));break;default:Ho(n,s,a)}}function M0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Du(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,L0(l,n)}M0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)k0(n),n=n.sibling}function k0(n){switch(n.tag){case 0:case 11:case 15:Du(n),n.flags&2048&&cr(9,n,n.return);break;case 3:Du(n);break;case 12:Du(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Qh(n)):Du(n);break;default:Du(n)}}function Qh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,L0(l,n)}M0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:cr(8,s,s.return),Qh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Qh(s));break;default:Qh(s)}n=n.sibling}}function L0(n,s){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:cr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:mu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=n;Xt!==null;){l=Xt;var f=l.sibling,d=l.return;if(w0(l),l===a){Xt=null;break e}if(f!==null){f.return=d,Xt=f;break e}Xt=d}}}var fR={getCacheForType:function(n){var s=nn(kt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return nn(kt).controller.signal}},dR=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Me=null,Le=0,et=0,Un=null,hr=!1,Go=!1,cp=!1,Rs=0,Et=0,fr=0,ka=0,hp=0,jn=0,Qo=0,Ou=null,Rn=null,fp=!1,Kh=0,P0=0,Yh=1/0,$h=null,dr=null,Ht=0,mr=null,Ko=null,Cs=0,dp=0,mp=null,V0=null,Mu=0,pp=null;function zn(){return($e&2)!==0&&Le!==0?Le&-Le:J.T!==null?bp():Xc()}function U0(){if(jn===0)if((Le&536870912)===0||je){var n=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),jn=n}else jn=536870912;return n=Pn.current,n!==null&&(n.flags|=32),jn}function Cn(n,s,a){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Yo(n,0),pr(n,Le,jn,!1)),la(n,a),(($e&2)===0||n!==at)&&(n===at&&(($e&2)===0&&(ka|=a),Et===4&&pr(n,Le,jn,!1)),$i(n))}function j0(n,s,a){if(($e&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||oi(n,s),f=l?gR(n,s):yp(n,s,!0),d=l;do{if(f===0){Go&&!l&&pr(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!mR(a)){f=yp(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=n;f=Ou;var M=T.current.memoizedState.isDehydrated;if(M&&(Yo(T,v).flags|=256),v=yp(T,v,!1),v!==2){if(cp&&!M){T.errorRecoveryDisabledLanes|=d,ka|=d,f=4;break e}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Yo(n,0),pr(n,s,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:pr(l,s,jn,!hr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Kh+300-mn(),10<f)){if(pr(l,s,jn,!hr),Di(l,0,!0)!==0)break e;Cs=s,l.timeoutHandle=gE(z0.bind(null,l,a,Rn,$h,fp,s,jn,ka,Qo,hr,d,"Throttled",-0,0),f);break e}z0(l,a,Rn,$h,fp,s,jn,ka,Qo,hr,d,null,-0,0)}}break}while(!0);$i(n)}function z0(n,s,a,l,f,d,v,T,M,H,W,ee,Q,Y){if(n.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},O0(s,d,ee);var pe=(d&62914560)===d?Kh-mn():(d&4194048)===d?P0-mn():0;if(pe=JR(ee,pe),pe!==null){Cs=d,n.cancelPendingCommit=pe(Y0.bind(null,n,s,d,a,l,f,v,T,M,W,ee,null,Q,Y)),pr(n,d,v,!H);return}}Y0(n,s,d,a,l,f,v,T,M)}function mR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!kn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pr(n,s,a,l){s&=~hp,s&=~ka,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-At(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&ua(n,a,s)}function Xh(){return($e&6)===0?(ku(0),!1):!0}function gp(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,gs=wa=null,Om(n),Uo=null,gu=0,n=Me;for(;n!==null;)y0(n.alternate,n),n=n.return;Me=null}}function Yo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,kR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Cs=0,gp(),at=n,Me=a=ms(n.current,null),Le=s,et=0,Un=null,hr=!1,Go=oi(n,s),cp=!1,Qo=jn=hp=ka=fr=Et=0,Rn=Ou=null,fp=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-At(l),d=1<<f;s|=n[f],l&=~d}return Rs=s,yh(),a}function B0(n,s){xe=null,J.H=Au,s===Vo||s===wh?(s=iv(),et=3):s===Em?(s=iv(),et=4):et=s===Ym?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Me===null&&(Et=1,jh(n,Xn(s,n.current)))}function F0(){var n=Pn.current;return n===null?!0:(Le&4194048)===Le?ei===null:(Le&62914560)===Le||(Le&536870912)!==0?n===ei:!1}function q0(){var n=J.H;return J.H=Au,n===null?Au:n}function H0(){var n=J.A;return J.A=fR,n}function Wh(){Et=4,hr||(Le&4194048)!==Le&&Pn.current!==null||(Go=!0),(fr&134217727)===0&&(ka&134217727)===0||at===null||pr(at,Le,jn,!1)}function yp(n,s,a){var l=$e;$e|=2;var f=q0(),d=H0();(at!==n||Le!==s)&&($h=null,Yo(n,s)),s=!1;var v=Et;e:do try{if(et!==0&&Me!==null){var T=Me,M=Un;switch(et){case 8:gp(),v=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var H=et;if(et=0,Un=null,$o(n,T,M,H),a&&Go){v=0;break e}break;default:H=et,et=0,Un=null,$o(n,T,M,H)}}pR(),v=Et;break}catch(W){B0(n,W)}while(!0);return s&&n.shellSuspendCounter++,gs=wa=null,$e=l,J.H=f,J.A=d,Me===null&&(at=null,Le=0,yh()),v}function pR(){for(;Me!==null;)G0(Me)}function gR(n,s){var a=$e;$e|=2;var l=q0(),f=H0();at!==n||Le!==s?($h=null,Yh=mn()+500,Yo(n,s)):Go=oi(n,s);e:do try{if(et!==0&&Me!==null){s=Me;var d=Un;t:switch(et){case 1:et=0,Un=null,$o(n,s,d,1);break;case 2:case 9:if(tv(d)){et=0,Un=null,Q0(s);break}s=function(){et!==2&&et!==9||at!==n||(et=7),$i(n)},d.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:tv(d)?(et=0,Un=null,Q0(s)):(et=0,Un=null,$o(n,s,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(v?DE(v):T.stateNode.complete){et=0,Un=null;var M=T.sibling;if(M!==null)Me=M;else{var H=T.return;H!==null?(Me=H,Jh(H)):Me=null}break t}}et=0,Un=null,$o(n,s,d,5);break;case 6:et=0,Un=null,$o(n,s,d,6);break;case 8:gp(),Et=6;break e;default:throw Error(r(462))}}yR();break}catch(W){B0(n,W)}while(!0);return gs=wa=null,J.H=l,J.A=f,$e=a,Me!==null?0:(at=null,Le=0,yh(),Et)}function yR(){for(;Me!==null&&!Kd();)G0(Me)}function G0(n){var s=p0(n.alternate,n,Rs);n.memoizedProps=n.pendingProps,s===null?Jh(n):Me=s}function Q0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=u0(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=u0(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:Om(s);default:y0(a,s),s=Me=H_(s,Rs),s=p0(a,s,Rs)}n.memoizedProps=n.pendingProps,s===null?Jh(n):Me=s}function $o(n,s,a,l){gs=wa=null,Om(s),Uo=null,gu=0;var f=s.return;try{if(rR(n,f,s,a,Le)){Et=1,jh(n,Xn(a,n.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;Et=1,jh(n,Xn(a,n.current)),Me=null;return}s.flags&32768?(je||l===1?n=!0:Go||(Le&536870912)!==0?n=!1:(hr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),K0(s,n)):Jh(s)}function Jh(n){var s=n;do{if((s.flags&32768)!==0){K0(s,hr);return}n=s.return;var a=lR(s.alternate,s,Rs);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);Et===0&&(Et=5)}function K0(n,s){do{var a=uR(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);Et=6,Me=null}function Y0(n,s,a,l,f,d,v,T,M){n.cancelPendingCommit=null;do Zh();while(Ht!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=rm,Xd(n,a,d,v,T,M),n===at&&(Me=at=null,Le=0),Ko=s,mr=n,Cs=a,dp=d,mp=f,V0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,bR(Gs,function(){return Z0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=le.p,le.p=2,v=$e,$e|=4;try{cR(n,s,a)}finally{$e=v,le.p=f,J.T=l}}Ht=1,$0(),X0(),W0()}}function $0(){if(Ht===1){Ht=0;var n=mr,s=Ko,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var f=$e;$e|=4;try{x0(s,n);var d=xp,v=L_(n.containerInfo),T=d.focusedElem,M=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&k_(T.ownerDocument.documentElement,T)){if(M!==null&&em(T)){var H=M.start,W=M.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,Q=ee&&ee.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),pe=T.textContent.length,be=Math.min(M.start,pe),rt=M.end===void 0?be:Math.min(M.end,pe);!Y.extend&&be>rt&&(v=rt,rt=be,be=v);var z=M_(T,be),P=M_(T,rt);if(z&&P&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var q=ee.createRange();q.setStart(z.node,z.offset),Y.removeAllRanges(),be>rt?(Y.addRange(q),Y.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),Y.addRange(q))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ff=!!Ip,xp=Ip=null}finally{$e=f,le.p=l,J.T=a}}n.current=s,Ht=2}}function X0(){if(Ht===2){Ht=0;var n=mr,s=Ko,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var f=$e;$e|=4;try{A0(n,s.alternate,s)}finally{$e=f,le.p=l,J.T=a}}Ht=3}}function W0(){if(Ht===4||Ht===3){Ht=0,qc();var n=mr,s=Ko,a=Cs,l=V0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Ko=mr=null,J0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(dr=null),cs(a),s=s.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ai,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=J.T,f=le.p,le.p=2,J.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{J.T=s,le.p=f}}(Cs&3)!==0&&Zh(),$i(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===pp?Mu++:(Mu=0,pp=n):Mu=0,ku(0)}}function J0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,mu(s)))}function Zh(){return $0(),X0(),W0(),Z0()}function Z0(){if(Ht!==5)return!1;var n=mr,s=dp;dp=0;var a=cs(Cs),l=J.T,f=le.p;try{le.p=32>a?32:a,J.T=null,a=mp,mp=null;var d=mr,v=Cs;if(Ht=0,Ko=mr=null,Cs=0,($e&6)!==0)throw Error(r(331));var T=$e;if($e|=4,k0(d.current),D0(d,d.current,v,a),$e=T,ku(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ai,d)}catch{}return!0}finally{le.p=f,J.T=l,J0(n,s)}}function eE(n,s,a){s=Xn(a,s),s=Km(n.stateNode,s,2),n=or(n,s,2),n!==null&&(la(n,2),$i(n))}function tt(n,s,a){if(n.tag===3)eE(n,n,a);else for(;s!==null;){if(s.tag===3){eE(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){n=Xn(a,n),a=t0(2),l=or(s,a,2),l!==null&&(n0(a,l,s,n),la(l,2),$i(l));break}}s=s.return}}function _p(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new dR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(cp=!0,f.add(a),n=_R.bind(null,n,s,a),s.then(n,n))}function _R(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(Le&a)===a&&(Et===4||Et===3&&(Le&62914560)===Le&&300>mn()-Kh?($e&2)===0&&Yo(n,0):hp|=a,Qo===Le&&(Qo=0)),$i(n)}function tE(n,s){s===0&&(s=$c()),n=Ta(n,s),n!==null&&(la(n,s),$i(n))}function vR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),tE(n,a)}function ER(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),tE(n,a)}function bR(n,s){return qt(n,s)}var ef=null,Xo=null,vp=!1,tf=!1,Ep=!1,gr=0;function $i(n){n!==Xo&&n.next===null&&(Xo===null?ef=Xo=n:Xo=Xo.next=n),tf=!0,vp||(vp=!0,SR())}function ku(n,s){if(!Ep&&tf){Ep=!0;do for(var a=!1,l=ef;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-At(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,rE(l,d))}else d=Le,d=Di(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||oi(l,d)||(a=!0,rE(l,d));l=l.next}while(a);Ep=!1}}function TR(){nE()}function nE(){tf=vp=!1;var n=0;gr!==0&&MR()&&(n=gr);for(var s=mn(),a=null,l=ef;l!==null;){var f=l.next,d=iE(l,s);d===0?(l.next=null,a===null?ef=f:a.next=f,f===null&&(Xo=a)):(a=l,(n!==0||(d&3)!==0)&&(tf=!0)),l=f}Ht!==0&&Ht!==5||ku(n),gr!==0&&(gr=0)}function iE(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-At(d),T=1<<v,M=f[v];M===-1?((T&a)===0||(T&l)!==0)&&(f[v]=$d(T,s)):M<=s&&(n.expiredLanes|=T),d&=~T}if(s=at,a=Le,a=Di(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Hs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||oi(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Hs(l),cs(a)){case 2:case 8:a=Hl;break;case 32:a=Gs;break;case 268435456:a=Hc;break;default:a=Gs}return l=sE.bind(null,n),a=qt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Hs(l),n.callbackPriority=2,n.callbackNode=null,2}function sE(n,s){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Zh()&&n.callbackNode!==a)return null;var l=Le;return l=Di(n,n===at?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(j0(n,l,s),iE(n,mn()),n.callbackNode!=null&&n.callbackNode===a?sE.bind(null,n):null)}function rE(n,s){if(Zh())return null;j0(n,s,!0)}function SR(){LR(function(){($e&6)!==0?qt(ql,TR):nE()})}function bp(){if(gr===0){var n=Lo;n===0&&(n=xi,xi<<=1,(xi&261888)===0&&(xi=256)),gr=n}return gr}function aE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Eo(""+n)}function oE(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function AR(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=aE((f[Yt]||null).action),v=l.submitter;v&&(s=(s=v[Yt]||null)?aE(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var T=new Fi("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gr!==0){var M=v?oE(f,v):new FormData(f);Bm(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(T.preventDefault(),M=v?oE(f,v):new FormData(f),Bm(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var Tp=0;Tp<sm.length;Tp++){var Sp=sm[Tp],wR=Sp.toLowerCase(),RR=Sp[0].toUpperCase()+Sp.slice(1);pi(wR,"on"+RR)}pi(U_,"onAnimationEnd"),pi(j_,"onAnimationIteration"),pi(z_,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(Fw,"onTransitionRun"),pi(qw,"onTransitionStart"),pi(Hw,"onTransitionCancel"),pi(B_,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function lE(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],M=T.instance,H=T.currentTarget;if(T=T.listener,M!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(W){gh(W)}f.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(T=l[v],M=T.instance,H=T.currentTarget,T=T.listener,M!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(W){gh(W)}f.currentTarget=null,d=M}}}}function ke(n,s){var a=s[po];a===void 0&&(a=s[po]=new Set);var l=n+"__bubble";a.has(l)||(uE(s,n,2,!1),a.add(l))}function Ap(n,s,a){var l=0;s&&(l|=4),uE(a,n,l,s)}var nf="_reactListening"+Math.random().toString(36).slice(2);function wp(n){if(!n[nf]){n[nf]=!0,Kl.forEach(function(a){a!=="selectionchange"&&(CR.has(a)||Ap(a,!1,n),Ap(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[nf]||(s[nf]=!0,Ap("selectionchange",!1,s))}}function uE(n,s,a,l){switch(UE(s)){case 2:var f=tC;break;case 8:f=nC;break;default:f=zp}a=f.bind(null,s,a,n),f=void 0,!ma||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Rp(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Li(T),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ws(function(){var H=d,W=Qn(a),ee=[];e:{var Q=F_.get(n);if(Q!==void 0){var Y=Fi,pe=n;switch(n){case"keypress":if(ga(a)===0)break e;case"keydown":case"keyup":Y=dh;break;case"focusin":pe="focus",Y=_a;break;case"focusout":pe="blur",Y=_a;break;case"beforeblur":case"afterblur":Y=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case U_:case j_:case z_:Y=ah;break;case B_:Y=A;break;case"scroll":case"scrollend":Y=ru;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ds;break;case"toggle":case"beforetoggle":Y=Ie}var be=(s&4)!==0,rt=!be&&(n==="scroll"||n==="scrollend"),z=be?Q!==null?Q+"Capture":null:Q;be=[];for(var P=H,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=hi(P,z),Z!=null&&be.push(Pu(P,Z,q))),rt)break;P=P.return}0<be.length&&(Q=new Y(Q,pe,null,a,W),ee.push({event:Q,listeners:be}))}}if((s&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",Q&&a!==nu&&(pe=a.relatedTarget||a.fromElement)&&(Li(pe)||pe[Mi]))break e;if((Y||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=H,pe=pe?Li(pe):null,pe!==null&&(rt=u(pe),be=pe.tag,pe!==rt||be!==5&&be!==27&&be!==6)&&(pe=null)):(Y=null,pe=H),Y!==pe)){if(be=au,Z="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(be=ds,Z="onPointerLeave",z="onPointerEnter",P="pointer"),rt=Y==null?Q:On(Y),q=pe==null?Q:On(pe),Q=new be(Z,P+"leave",Y,a,W),Q.target=rt,Q.relatedTarget=q,Z=null,Li(W)===H&&(be=new be(z,P+"enter",pe,a,W),be.target=q,be.relatedTarget=rt,Z=be),rt=Z,Y&&pe)t:{for(be=IR,z=Y,P=pe,q=0,Z=z;Z;Z=be(Z))q++;Z=0;for(var _e=P;_e;_e=be(_e))Z++;for(;0<q-Z;)z=be(z),q--;for(;0<Z-q;)P=be(P),Z--;for(;q--;){if(z===P||P!==null&&z===P.alternate){be=z;break t}z=be(z),P=be(P)}be=null}else be=null;Y!==null&&cE(ee,Q,Y,be,!1),pe!==null&&rt!==null&&cE(ee,rt,pe,be,!0)}}e:{if(Q=H?On(H):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var Qe=C_;else if(w_(Q))if(I_)Qe=jw;else{Qe=Vw;var ge=Pw}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&vo(H.elementType)&&(Qe=C_):Qe=Uw;if(Qe&&(Qe=Qe(n,H))){R_(ee,Qe,a,W);break e}ge&&ge(n,Q,H),n==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&Zl(Q,"number",Q.value)}switch(ge=H?On(H):window,n){case"focusin":(w_(ge)||ge.contentEditable==="true")&&(Co=ge,tm=H,hu=null);break;case"focusout":hu=tm=Co=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,P_(ee,a,W);break;case"selectionchange":if(Bw)break;case"keydown":case"keyup":P_(ee,a,W)}var De;if(Ye)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ro?va(n,a)&&(Pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Gi&&a.locale!=="ko"&&(Ro||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ro&&(De=su()):(Bi=W,iu="value"in Bi?Bi.value:Bi.textContent,Ro=!0)),ge=sf(H,Pe),0<ge.length&&(Pe=new Hi(Pe,n,null,a,W),ee.push({event:Pe,listeners:ge}),De?Pe.data=De:(De=wo(a),De!==null&&(Pe.data=De)))),(De=Yn?Ow(n,a):Mw(n,a))&&(Pe=sf(H,"onBeforeInput"),0<Pe.length&&(ge=new Hi("onBeforeInput","beforeinput",null,a,W),ee.push({event:ge,listeners:Pe}),ge.data=De)),AR(ee,n,H,a,W)}lE(ee,s)})}function Pu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function sf(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=hi(n,a),f!=null&&l.unshift(Pu(n,f,d)),f=hi(n,s),f!=null&&l.push(Pu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function IR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function cE(n,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var T=a,M=T.alternate,H=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||H===null||(M=H,f?(H=hi(a,d),H!=null&&v.unshift(Pu(a,H,M))):f||(H=hi(a,d),H!=null&&v.push(Pu(a,H,M)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var xR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function hE(n){return(typeof n=="string"?n:""+n).replace(xR,`
`).replace(NR,"")}function fE(n,s){return s=hE(s),hE(n)===s}function st(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Tn(n,""+l);break;case"className":Mn(n,"class",l);break;case"tabIndex":Mn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(n,a,l);break;case"style":tu(n,l,d);break;case"data":if(s!=="object"){Mn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Eo(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&st(n,s,"name",f.name,f,null),st(n,s,"formEncType",f.formEncType,f,null),st(n,s,"formMethod",f.formMethod,f,null),st(n,s,"formTarget",f.formTarget,f,null)):(st(n,s,"encType",f.encType,f,null),st(n,s,"method",f.method,f,null),st(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Eo(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ci);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Eo(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),yo(n,"popover",l);break;case"xlinkActuate":Mt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ih.get(a)||a,yo(n,a,l))}}function Cp(n,s,a,l,f,d){switch(a){case"style":tu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Tn(n,l):(typeof l=="number"||typeof l=="bigint")&&Tn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):yo(n,a,l)}}}function rn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(n,s,d,v,a,null)}}f&&st(n,s,"srcSet",a.srcSet,a,null),l&&st(n,s,"src",a.src,a,null);return;case"input":ke("invalid",n);var T=d=v=f=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":M=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:st(n,s,l,W,a,null)}}eh(n,d,T,M,H,v,f,!1);return;case"select":ke("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:st(n,s,f,T,a,null)}s=d,a=v,n.multiple=!!l,s!=null?Ks(n,!!l,s,!1):a!=null&&Ks(n,!!l,a,!0);return;case"textarea":ke("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:st(n,s,v,T,a,null)}Ys(n,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(n,s,M,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Lu.length;l++)ke(Lu[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(n,s,H,l,a,null)}return;default:if(vo(s)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Cp(n,s,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&st(n,s,T,l,a,null))}function DR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,M=null,H=null,W=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=ee;default:l.hasOwnProperty(Y)||st(n,s,Y,null,l,ee)}}for(var Q in l){var Y=l[Q];if(ee=a[Q],l.hasOwnProperty(Q)&&(Y!=null||ee!=null))switch(Q){case"type":d=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":W=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==ee&&st(n,s,Q,Y,l,ee)}}_o(n,v,T,M,H,W,d,f);return;case"select":Y=v=T=Q=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Y=M;default:l.hasOwnProperty(d)||st(n,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==M&&st(n,s,f,d,l,M)}s=T,a=v,l=Y,Q!=null?Ks(n,!!a,Q,!1):!!l!=!!a&&(s!=null?Ks(n,!!a,s,!0):Ks(n,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(n,s,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&st(n,s,v,f,l,d)}th(n,Q,Y);return;case"option":for(var pe in a)if(Q=a[pe],a.hasOwnProperty(pe)&&Q!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:st(n,s,pe,null,l,Q)}for(M in l)if(Q=l[M],Y=a[M],l.hasOwnProperty(M)&&Q!==Y&&(Q!=null||Y!=null))switch(M){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:st(n,s,M,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)Q=a[be],a.hasOwnProperty(be)&&Q!=null&&!l.hasOwnProperty(be)&&st(n,s,be,null,l,Q);for(H in l)if(Q=l[H],Y=a[H],l.hasOwnProperty(H)&&Q!==Y&&(Q!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:st(n,s,H,Q,l,Y)}return;default:if(vo(s)){for(var rt in a)Q=a[rt],a.hasOwnProperty(rt)&&Q!==void 0&&!l.hasOwnProperty(rt)&&Cp(n,s,rt,void 0,l,Q);for(W in l)Q=l[W],Y=a[W],!l.hasOwnProperty(W)||Q===Y||Q===void 0&&Y===void 0||Cp(n,s,W,Q,l,Y);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&st(n,s,z,null,l,Q);for(ee in l)Q=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||Q===Y||Q==null&&Y==null||st(n,s,ee,Q,l,Y)}function dE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,T=f.duration;if(d&&T&&dE(v)){for(v=0,T=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>T)break;var W=M.transferSize,ee=M.initiatorType;W&&dE(ee)&&(M=M.responseEnd,v+=W*(M<T?1:(T-H)/(M-H)))}if(--l,s+=8*(d+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ip=null,xp=null;function rf(n){return n.nodeType===9?n:n.ownerDocument}function mE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pE(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Np(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dp=null;function MR(){var n=window.event;return n&&n.type==="popstate"?n===Dp?!1:(Dp=n,!0):(Dp=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,LR=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(n){return yE.resolve(null).then(n).catch(PR)}:gE;function PR(n){setTimeout(function(){throw n})}function yr(n){return n==="head"}function _E(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),el(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Vu(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ki]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Vu(n.ownerDocument.body);a=f}while(a);el(s)}function vE(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Op(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Op(a),go(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function VR(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ki])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ti(n.nextSibling),n===null)break}return null}function UR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ti(n.nextSibling),n===null))return null;return n}function EE(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ti(n.nextSibling),n===null))return null;return n}function Mp(n){return n.data==="$?"||n.data==="$~"}function kp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function jR(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ti(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Lp=null;function bE(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return ti(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function TE(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function SE(n,s,a){switch(s=rf(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Vu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);go(n)}var ni=new Map,AE=new Set;function af(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Is=le.d;le.d={f:zR,r:BR,D:FR,C:qR,L:HR,m:GR,X:KR,S:QR,M:YR};function zR(){var n=Is.f(),s=Xh();return n||s}function BR(n){var s=Gn(n);s!==null&&s.tag===5&&s.type==="form"?Bv(s):Is.r(n)}var Wo=typeof document>"u"?null:document;function wE(n,s,a){var l=Wo;if(l&&typeof s=="string"&&s){var f=bn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),AE.has(f)||(AE.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),rn(s,"link",n),Ot(s),l.head.appendChild(s)))}}function FR(n){Is.D(n),wE("dns-prefetch",n,null)}function qR(n,s){Is.C(n,s),wE("preconnect",n,s)}function HR(n,s,a){Is.L(n,s,a);var l=Wo;if(l&&n&&s){var f='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(n)+'"]';var d=f;switch(s){case"style":d=Jo(n);break;case"script":d=Zo(n)}ni.has(d)||(n=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),ni.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Uu(d))||s==="script"&&l.querySelector(ju(d))||(s=l.createElement("link"),rn(s,"link",n),Ot(s),l.head.appendChild(s)))}}function GR(n,s){Is.m(n,s);var a=Wo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Zo(n)}if(!ni.has(d)&&(n=b({rel:"modulepreload",href:n},s),ni.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ju(d)))return}l=a.createElement("link"),rn(l,"link",n),Ot(l),a.head.appendChild(l)}}}function QR(n,s,a){Is.S(n,s,a);var l=Wo;if(l&&n){var f=Pi(l).hoistableStyles,d=Jo(n);s=s||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Uu(d)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},a),(a=ni.get(d))&&Pp(n,a);var M=v=l.createElement("link");Ot(M),rn(M,"link",n),M._p=new Promise(function(H,W){M.onload=H,M.onerror=W}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,of(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function KR(n,s){Is.X(n,s);var a=Wo;if(a&&n){var l=Pi(a).hoistableScripts,f=Zo(n),d=l.get(f);d||(d=a.querySelector(ju(f)),d||(n=b({src:n,async:!0},s),(s=ni.get(f))&&Vp(n,s),d=a.createElement("script"),Ot(d),rn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function YR(n,s){Is.M(n,s);var a=Wo;if(a&&n){var l=Pi(a).hoistableScripts,f=Zo(n),d=l.get(f);d||(d=a.querySelector(ju(f)),d||(n=b({src:n,async:!0,type:"module"},s),(s=ni.get(f))&&Vp(n,s),d=a.createElement("script"),Ot(d),rn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function RE(n,s,a,l){var f=(f=Ne.current)?af(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Jo(a.href),a=Pi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Jo(a.href);var d=Pi(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Uu(n)))&&!d._p&&(v.instance=d,v.state.loading=5),ni.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(n,a),d||$R(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(a),a=Pi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Jo(n){return'href="'+bn(n)+'"'}function Uu(n){return'link[rel="stylesheet"]['+n+"]"}function CE(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function $R(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rn(s,"link",a),Ot(s),n.head.appendChild(s))}function Zo(n){return'[src="'+bn(n)+'"]'}function ju(n){return"script[async]"+n}function IE(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return s.instance=l,Ot(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ot(l),rn(l,"style",f),of(l,a.precedence,n),s.instance=l;case"stylesheet":f=Jo(a.href);var d=n.querySelector(Uu(f));if(d)return s.state.loading|=4,s.instance=d,Ot(d),d;l=CE(a),(f=ni.get(f))&&Pp(l,f),d=(n.ownerDocument||n).createElement("link"),Ot(d);var v=d;return v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),rn(d,"link",l),s.state.loading|=4,of(d,a.precedence,n),s.instance=d;case"script":return d=Zo(a.src),(f=n.querySelector(ju(d)))?(s.instance=f,Ot(f),f):(l=a,(f=ni.get(d))&&(l=b({},a),Vp(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ot(f),rn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,of(l,a.precedence,n));return s.instance}function of(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Pp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Vp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var lf=null;function xE(n,s,a){if(lf===null){var l=new Map,f=lf=new Map;f.set(a,l)}else f=lf,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ki]||d[Dt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function NE(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function XR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function DE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function WR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Jo(l.href),d=s.querySelector(Uu(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=uf.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Ot(d);return}d=s.ownerDocument||s,l=CE(l),(f=ni.get(f))&&Pp(l,f),d=d.createElement("link"),Ot(d);var v=d;v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),rn(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=uf.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Up=0;function JR(n,s){return n.stylesheets&&n.count===0&&hf(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&hf(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Up===0&&(Up=62500*OR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&hf(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Up?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var cf=null;function hf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,cf=new Map,s.forEach(ZR,n),cf=null,uf.call(n))}function ZR(n,s){if(!(s.state.loading&4)){var a=cf.get(n);if(a)var l=a.get(null);else{a=new Map,cf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=uf.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var zu={$$typeof:$,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function eC(n,s,a,l,f,d,v,T,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function OE(n,s,a,l,f,d,v,T,M,H,W,ee){return n=new eC(n,s,a,v,M,H,W,ee,T),s=1,d===!0&&(s|=24),d=Ln(3,null,null,s),n.current=d,d.stateNode=n,s=ym(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},bm(d),n}function ME(n){return n?(n=No,n):No}function kE(n,s,a,l,f,d){f=ME(f),l.context===null?l.context=f:l.pendingContext=f,l=ar(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=or(n,l,s),a!==null&&(Cn(a,n,s),_u(a,n,s))}function LE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function jp(n,s){LE(n,s),(n=n.alternate)&&LE(n,s)}function PE(n){if(n.tag===13||n.tag===31){var s=Ta(n,67108864);s!==null&&Cn(s,n,67108864),jp(n,67108864)}}function VE(n){if(n.tag===13||n.tag===31){var s=zn();s=ca(s);var a=Ta(n,s);a!==null&&Cn(a,n,s),jp(n,s)}}var ff=!0;function tC(n,s,a,l){var f=J.T;J.T=null;var d=le.p;try{le.p=2,zp(n,s,a,l)}finally{le.p=d,J.T=f}}function nC(n,s,a,l){var f=J.T;J.T=null;var d=le.p;try{le.p=8,zp(n,s,a,l)}finally{le.p=d,J.T=f}}function zp(n,s,a,l){if(ff){var f=Bp(l);if(f===null)Rp(n,s,l,df,a),jE(n,l);else if(sC(f,n,s,a,l))l.stopPropagation();else if(jE(n,l),s&4&&-1<iC.indexOf(n)){for(;f!==null;){var d=Gn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ni(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var M=1<<31-At(v);T.entanglements[1]|=M,v&=~M}$i(d),($e&6)===0&&(Yh=mn()+500,ku(0))}}break;case 31:case 13:T=Ta(d,2),T!==null&&Cn(T,d,2),Xh(),jp(d,2)}if(d=Bp(l),d===null&&Rp(n,s,l,df,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Rp(n,s,l,null,a)}}function Bp(n){return n=Qn(n),Fp(n)}var df=null;function Fp(n){if(df=null,n=Li(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return df=n,null}function UE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case ql:return 2;case Hl:return 8;case Gs:case Yd:return 32;case Hc:return 268435456;default:return 32}default:return 32}}var qp=!1,_r=null,vr=null,Er=null,Bu=new Map,Fu=new Map,br=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(n,s){switch(n){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Bu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(s.pointerId)}}function qu(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Gn(s),s!==null&&PE(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function sC(n,s,a,l,f){switch(s){case"focusin":return _r=qu(_r,n,s,a,l,f),!0;case"dragenter":return vr=qu(vr,n,s,a,l,f),!0;case"mouseover":return Er=qu(Er,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Bu.set(d,qu(Bu.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fu.set(d,qu(Fu.get(d)||null,n,s,a,l,f)),!0}return!1}function zE(n){var s=Li(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,li(n.priority,function(){VE(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,li(n.priority,function(){VE(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Bp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);nu=l,a.target.dispatchEvent(l),nu=null}else return s=Gn(a),s!==null&&PE(s),n.blockedOn=a,!1;s.shift()}return!0}function BE(n,s,a){mf(n)&&a.delete(s)}function rC(){qp=!1,_r!==null&&mf(_r)&&(_r=null),vr!==null&&mf(vr)&&(vr=null),Er!==null&&mf(Er)&&(Er=null),Bu.forEach(BE),Fu.forEach(BE)}function pf(n,s){n.blockedOn===s&&(n.blockedOn=null,qp||(qp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rC)))}var gf=null;function FE(n){gf!==n&&(gf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gf===n&&(gf=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Fp(l||a)===null)continue;break}var d=Gn(a);d!==null&&(n.splice(s,3),s-=3,Bm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function el(n){function s(M){return pf(M,n)}_r!==null&&pf(_r,n),vr!==null&&pf(vr,n),Er!==null&&pf(Er,n),Bu.forEach(s),Fu.forEach(s);for(var a=0;a<br.length;a++){var l=br[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<br.length&&(a=br[0],a.blockedOn===null);)zE(a),a.blockedOn===null&&br.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Yt]||null;if(typeof d=="function")v||FE(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Yt]||null)T=v.formAction;else if(Fp(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),FE(a)}}}function qE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Hp(n){this._internalRoot=n}yf.prototype.render=Hp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=zn();kE(a,l,n,s,null,null)},yf.prototype.unmount=Hp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;kE(n.current,2,null,n,null,null),Xh(),s[Mi]=null}};function yf(n){this._internalRoot=n}yf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<br.length&&s!==0&&s<br[a].priority;a++);br.splice(a,0,n),a===0&&zE(n)}};var HE=e.version;if(HE!=="19.2.0")throw Error(r(527,HE,"19.2.0"));le.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var aC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ai=_f.inject(aC),Zt=_f}catch{}}return Gu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Wv,d=Jv,v=Zv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=OE(n,1,!1,null,null,a,l,null,f,d,v,qE),n[Mi]=s.current,wp(n),new Hp(s)},Gu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=Wv,v=Jv,T=Zv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=OE(n,1,!0,s,a??null,l,f,M,d,v,T,qE),s.context=ME(null),a=s.current,l=zn(),l=ca(l),f=ar(l),f.callback=null,or(a,f,l),a=l,s.current.lanes=a,la(s,a),$i(s),n[Mi]=s.current,wp(n),new yf(s)},Gu.version="19.2.0",Gu}var tb;function gC(){if(tb)return Yp.exports;tb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yp.exports=pC(),Yp.exports}var yC=gC();const _C=gS(yC);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nb="popstate";function vC(i={}){function e(r,o){let{pathname:u,search:c,hash:m}=r.location;return gg("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:cc(o)}return bC(e,t,null,i)}function gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substring(2,10)}function ib(i,e){return{usr:i.state,key:i.key,idx:e}}function gg(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:t,key:e&&e.key||r||EC()}}function cc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Nl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function bC(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){m="POP";let V=_(),X=V==null?null:V-g;g=V,p&&p({action:m,location:j.location,delta:X})}function w(V,X){m="PUSH";let se=gg(j.location,V,X);g=_()+1;let $=ib(se,g),ae=j.createHref(se);try{c.pushState($,"",ae)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ae)}u&&p&&p({action:m,location:j.location,delta:1})}function O(V,X){m="REPLACE";let se=gg(j.location,V,X);g=_();let $=ib(se,g),ae=j.createHref(se);c.replaceState($,"",ae),u&&p&&p({action:m,location:j.location,delta:0})}function B(V){return TC(V)}let j={get action(){return m},get location(){return i(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(nb,b),p=V,()=>{o.removeEventListener(nb,b),p=null}},createHref(V){return e(o,V)},createURL:B,encodeLocation(V){let X=B(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:O,go(V){return c.go(V)}};return j}function TC(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:cc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function yS(i,e,t="/"){return SC(i,e,t,!1)}function SC(i,e,t,r){let o=typeof e=="string"?Nl(e):e,u=js(o.pathname||"/",t);if(u==null)return null;let c=_S(i);AC(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=LC(u);m=MC(c[p],g,r)}return m}function _S(i,e=[],t=[],r="",o=!1){let u=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;gt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let b=Ps([r,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),_S(c.children,e,w,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:DC(b,c.index),routesMeta:w})};return i.forEach((c,m)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,m);else for(let g of vS(c.path))u(c,m,!0,g)}),e}function vS(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=vS(r.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function AC(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:OC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var wC=/^:[\w-]+$/,RC=3,CC=2,IC=1,xC=10,NC=-2,sb=i=>i==="*";function DC(i,e){let t=i.split("/"),r=t.length;return t.some(sb)&&(r+=NC),e&&(r+=CC),t.filter(o=>!sb(o)).reduce((o,u)=>o+(wC.test(u)?RC:u===""?IC:xC),r)}function OC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function MC(i,e,t=!1){let{routesMeta:r}=i,o={},u="/",c=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!b&&g&&t&&!r[r.length-1].route.index&&(b=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Ps([u,b.pathname]),pathnameBase:jC(Ps([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Ps([u,b.pathnameBase]))}return c}function Yf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=kC(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:b},w)=>{if(_==="*"){let B=m[w]||"";c=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const O=m[w];return b&&!O?g[_]=void 0:g[_]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function kC(i,e=!1,t=!0){Si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function LC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function js(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function PC(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Nl(i):i;return{pathname:t?t.startsWith("/")?t:VC(t,e):e,search:zC(r),hash:BC(o)}}function VC(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Jp(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uy(i){let e=UC(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function cy(i,e,t,r=!1){let o;typeof i=="string"?o=Nl(i):(o={...i},gt(!o.pathname||!o.pathname.includes("?"),Jp("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Jp("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Jp("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=PC(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Ps=i=>i.join("/").replace(/\/\/+/g,"/"),jC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,BC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function FC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ES=["POST","PUT","PATCH","DELETE"];new Set(ES);var qC=["GET",...ES];new Set(qC);var Dl=G.createContext(null);Dl.displayName="DataRouter";var _d=G.createContext(null);_d.displayName="DataRouterState";G.createContext(!1);var bS=G.createContext({isTransitioning:!1});bS.displayName="ViewTransition";var HC=G.createContext(new Map);HC.displayName="Fetchers";var GC=G.createContext(null);GC.displayName="Await";var Ri=G.createContext(null);Ri.displayName="Navigation";var Ic=G.createContext(null);Ic.displayName="Location";var Ci=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var hy=G.createContext(null);hy.displayName="RouteError";function QC(i,{relative:e}={}){gt(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(Ri),{hash:o,pathname:u,search:c}=xc(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Ps([t,u])),r.createHref({pathname:m,search:c,hash:o})}function Ol(){return G.useContext(Ic)!=null}function Jr(){return gt(Ol(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Ic).location}var TS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SS(i){G.useContext(Ri).static||G.useLayoutEffect(i)}function vd(){let{isDataRoute:i}=G.useContext(Ci);return i?r2():KC()}function KC(){gt(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(Dl),{basename:e,navigator:t}=G.useContext(Ri),{matches:r}=G.useContext(Ci),{pathname:o}=Jr(),u=JSON.stringify(uy(r)),c=G.useRef(!1);return SS(()=>{c.current=!0}),G.useCallback((p,g={})=>{if(Si(c.current,TS),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=cy(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ps([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}G.createContext(null);function Ed(){let{matches:i}=G.useContext(Ci),e=i[i.length-1];return e?e.params:{}}function xc(i,{relative:e}={}){let{matches:t}=G.useContext(Ci),{pathname:r}=Jr(),o=JSON.stringify(uy(t));return G.useMemo(()=>cy(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function YC(i,e){return AS(i,e)}function AS(i,e,t,r,o){var se;gt(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Ri),{matches:c}=G.useContext(Ci),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let $=b&&b.path||"";wS(g,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=Jr(),O;if(e){let $=typeof e=="string"?Nl(e):e;gt(_==="/"||((se=$.pathname)==null?void 0:se.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${$.pathname}" was given in the \`location\` prop.`),O=$}else O=w;let B=O.pathname||"/",j=B;if(_!=="/"){let $=_.replace(/^\//,"").split("/");j="/"+B.replace(/^\//,"").split("/").slice($.length).join("/")}let V=yS(i,{pathname:j});Si(b||V!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Si(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=ZC(V&&V.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Ps([_,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:Ps([_,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,t,r,o);return e&&X?G.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},X):X}function $C(){let i=s2(),e=FC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,c)}var XC=G.createElement($C,null),WC=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?G.createElement(Ci.Provider,{value:this.props.routeContext},G.createElement(hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JC({routeContext:i,match:e,children:t}){let r=G.useContext(Dl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ci.Provider,{value:i},t)}function ZC(i,e=[],t=null,r=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,c=t==null?void 0:t.errors;if(c!=null){let g=u.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);gt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:b,errors:w}=t,O=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,b)=>{let w,O=!1,B=null,j=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,B=_.route.errorElement||XC,m&&(p<0&&b===0?(wS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,j=null):p===b&&(O=!0,j=_.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,b+1)),X=()=>{let se;return w?se=B:O?se=j:_.route.Component?se=G.createElement(_.route.Component,null):_.route.element?se=_.route.element:se=g,G.createElement(JC,{match:_,routeContext:{outlet:g,matches:V,isDataRoute:t!=null},children:se})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?G.createElement(WC,{location:t.location,revalidation:t.revalidation,component:B,error:w,children:X(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:r}):X()},null)}function fy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e2(i){let e=G.useContext(Dl);return gt(e,fy(i)),e}function t2(i){let e=G.useContext(_d);return gt(e,fy(i)),e}function n2(i){let e=G.useContext(Ci);return gt(e,fy(i)),e}function dy(i){let e=n2(i),t=e.matches[e.matches.length-1];return gt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function i2(){return dy("useRouteId")}function s2(){var r;let i=G.useContext(hy),e=t2("useRouteError"),t=dy("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function r2(){let{router:i}=e2("useNavigate"),e=dy("useNavigate"),t=G.useRef(!1);return SS(()=>{t.current=!0}),G.useCallback(async(o,u={})=>{Si(t.current,TS),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var rb={};function wS(i,e,t){!e&&!rb[i]&&(rb[i]=!0,Si(!1,t))}G.memo(a2);function a2({routes:i,future:e,state:t,unstable_onError:r}){return AS(i,void 0,t,r,e)}function o2({to:i,replace:e,state:t,relative:r}){gt(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Ri);Si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Ci),{pathname:c}=Jr(),m=vd(),p=cy(i,uy(u),c,r==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:r})},[m,g,r,e,t]),null}function La(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l2({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:u=!1}){gt(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=Nl(t));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:w="default"}=t,O=G.useMemo(()=>{let B=js(p,c);return B==null?null:{location:{pathname:B,search:g,hash:_,state:b,key:w},navigationType:r}},[c,p,g,_,b,w,r]);return Si(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(Ri.Provider,{value:m},G.createElement(Ic.Provider,{children:e,value:O}))}function u2({children:i,location:e}){return YC(yg(i),e)}function yg(i,e=[]){let t=[];return G.Children.forEach(i,(r,o)=>{if(!G.isValidElement(r))return;let u=[...e,o];if(r.type===G.Fragment){t.push.apply(t,yg(r.props.children,u));return}gt(r.type===La,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=yg(r.props.children,u)),t.push(c)}),t}var Lf="get",Pf="application/x-www-form-urlencoded";function bd(i){return i!=null&&typeof i.tagName=="string"}function c2(i){return bd(i)&&i.tagName.toLowerCase()==="button"}function h2(i){return bd(i)&&i.tagName.toLowerCase()==="form"}function f2(i){return bd(i)&&i.tagName.toLowerCase()==="input"}function d2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function m2(i,e){return i.button===0&&(!e||e==="_self")&&!d2(i)}var Ef=null;function p2(){if(Ef===null)try{new FormData(document.createElement("form"),0),Ef=!1}catch{Ef=!0}return Ef}var g2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(i){return i!=null&&!g2.has(i)?(Si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):i}function y2(i,e){let t,r,o,u,c;if(h2(i)){let m=i.getAttribute("action");r=m?js(m,e):null,t=i.getAttribute("method")||Lf,o=Zp(i.getAttribute("enctype"))||Pf,u=new FormData(i)}else if(c2(i)||f2(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?js(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Lf,o=Zp(i.getAttribute("formenctype"))||Zp(m.getAttribute("enctype"))||Pf,u=new FormData(m,i),!p2()){let{name:g,type:_,value:b}=i;if(_==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(bd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lf,r=null,o=Pf,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function my(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _2(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&js(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function v2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function b2(i,e,t){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await v2(u,t);return c.links?c.links():[]}return[]}));return w2(r.flat(1).filter(E2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ab(i,e,t,r,o,u){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function T2(i,e,{includeHydrateFallback:t}={}){return S2(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function S2(i){return[...new Set(i)]}function A2(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function w2(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(A2(o));return t.has(u)||(t.add(u),r.push({key:u,link:o})),r},[])}function RS(){let i=G.useContext(Dl);return my(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function R2(){let i=G.useContext(_d);return my(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var py=G.createContext(void 0);py.displayName="FrameworkContext";function CS(){let i=G.useContext(py);return my(i,"You must render this element inside a <HydratedRouter> element"),i}function C2(i,e){let t=G.useContext(py),[r,o]=G.useState(!1),[u,c]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,w=G.useRef(null);G.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let j=X=>{X.forEach(se=>{c(se.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[i]),G.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let O=()=>{o(!0)},B=()=>{o(!1),c(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Qu(m,O),onBlur:Qu(p,B),onMouseEnter:Qu(g,O),onMouseLeave:Qu(_,B),onTouchStart:Qu(b,O)}]:[!1,w,{}]}function Qu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function I2({page:i,...e}){let{router:t}=RS(),r=G.useMemo(()=>yS(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?G.createElement(N2,{page:i,matches:r,...e}):null}function x2(i){let{manifest:e,routeModules:t}=CS(),[r,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return b2(i,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,t]),r}function N2({page:i,matches:e,...t}){let r=Jr(),{manifest:o,routeModules:u}=CS(),{basename:c}=RS(),{loaderData:m,matches:p}=R2(),g=G.useMemo(()=>ab(i,e,p,o,r,"data"),[i,e,p,o,r]),_=G.useMemo(()=>ab(i,e,p,o,r,"assets"),[i,e,p,o,r]),b=G.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let B=new Set,j=!1;if(e.forEach(X=>{var $;let se=o.routes[X.route.id];!se||!se.hasLoader||(!g.some(ae=>ae.route.id===X.route.id)&&X.route.id in m&&(($=u[X.route.id])!=null&&$.shouldRevalidate)||se.hasClientLoader?j=!0:B.add(X.route.id))}),B.size===0)return[];let V=_2(i,c,"data");return j&&B.size>0&&V.searchParams.set("_routes",e.filter(X=>B.has(X.route.id)).map(X=>X.route.id).join(",")),[V.pathname+V.search]},[c,m,r,o,g,e,i,u]),w=G.useMemo(()=>T2(_,o),[_,o]),O=x2(_);return G.createElement(G.Fragment,null,b.map(B=>G.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),w.map(B=>G.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),O.map(({key:B,link:j})=>G.createElement("link",{key:B,nonce:t.nonce,...j})))}function D2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IS&&(window.__reactRouterVersion="7.9.5")}catch{}function O2({basename:i,children:e,window:t}){let r=G.useRef();r.current==null&&(r.current=vC({window:t,v5Compat:!0}));let o=r.current,[u,c]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>c(p))},[c]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(l2,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:b,...w},O){let{basename:B}=G.useContext(Ri),j=typeof g=="string"&&xS.test(g),V,X=!1;if(typeof g=="string"&&j&&(V=g,IS))try{let C=new URL(window.location.href),D=g.startsWith("//")?new URL(C.protocol+g):new URL(g),x=js(D.pathname,B);D.origin===C.origin&&x!=null?g=x+D.search+D.hash:X=!0}catch{Si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=QC(g,{relative:o}),[$,ae,re]=C2(r,w),me=P2(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function N(C){e&&e(C),C.defaultPrevented||me(C)}let S=G.createElement("a",{...w,...re,href:V||se,onClick:X||u?e:N,ref:D2(O,ae),target:p,"data-discover":!j&&t==="render"?"true":void 0});return $&&!j?G.createElement(G.Fragment,null,S,G.createElement(I2,{page:se})):S});bi.displayName="Link";var M2=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},_){let b=xc(c,{relative:g.relative}),w=Jr(),O=G.useContext(_d),{navigator:B,basename:j}=G.useContext(Ri),V=O!=null&&B2(b)&&m===!0,X=B.encodeLocation?B.encodeLocation(b).pathname:b.pathname,se=w.pathname,$=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(se=se.toLowerCase(),$=$?$.toLowerCase():null,X=X.toLowerCase()),$&&j&&($=js($,j)||$);const ae=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let re=se===X||!o&&se.startsWith(X)&&se.charAt(ae)==="/",me=$!=null&&($===X||!o&&$.startsWith(X)&&$.charAt(X.length)==="/"),N={isActive:re,isPending:me,isTransitioning:V},S=re?e:void 0,C;typeof r=="function"?C=r(N):C=[r,re?"active":null,me?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(N):u;return G.createElement(bi,{...g,"aria-current":S,className:C,ref:_,style:D,to:c,viewTransition:m},typeof p=="function"?p(N):p)});M2.displayName="NavLink";var k2=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:u,method:c=Lf,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...w},O)=>{let B=j2(),j=z2(m,{relative:g}),V=c.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&xS.test(m),se=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ae=$.nativeEvent.submitter,re=(ae==null?void 0:ae.getAttribute("formmethod"))||c;B(ae||$.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return G.createElement("form",{ref:O,method:V,action:j,onSubmit:r?p:se,...w,"data-discover":!X&&i==="render"?"true":void 0})});k2.displayName="Form";function L2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NS(i){let e=G.useContext(Dl);return gt(e,L2(i)),e}function P2(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=vd(),p=Jr(),g=xc(i,{relative:u});return G.useCallback(_=>{if(m2(_,e)){_.preventDefault();let b=t!==void 0?t:cc(p)===cc(g);m(i,{replace:b,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,g,t,r,e,i,o,u,c])}var V2=0,U2=()=>`__${String(++V2)}__`;function j2(){let{router:i}=NS("useSubmit"),{basename:e}=G.useContext(Ri),t=i2();return G.useCallback(async(r,o={})=>{let{action:u,method:c,encType:m,formData:p,body:g}=y2(r,e);if(o.navigate===!1){let _=o.fetcherKey||U2();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function z2(i,{relative:e}={}){let{basename:t}=G.useContext(Ri),r=G.useContext(Ci);gt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...xc(i||".",{relative:e})},c=Jr();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ps([t,u.pathname])),cc(u)}function B2(i,{relative:e}={}){let t=G.useContext(bS);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NS("useViewTransitionState"),o=xc(i,{relative:e});if(!t.isTransitioning)return!1;let u=js(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=js(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Yf(o.pathname,c)!=null||Yf(o.pathname,u)!=null}var Ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},F2={setTimeout:(i,e)=>setTimeout(i,e),clearTimeout:i=>clearTimeout(i),setInterval:(i,e)=>setInterval(i,e),clearInterval:i=>clearInterval(i)},Nr,oy,rS,q2=(rS=class{constructor(){ye(this,Nr,F2);ye(this,oy,!1)}setTimeoutProvider(i){ce(this,Nr,i)}setTimeout(i,e){return L(this,Nr).setTimeout(i,e)}clearTimeout(i){L(this,Nr).clearTimeout(i)}setInterval(i,e){return L(this,Nr).setInterval(i,e)}clearInterval(i){L(this,Nr).clearInterval(i)}},Nr=new WeakMap,oy=new WeakMap,rS),Va=new q2;function H2(i){setTimeout(i,0)}var $a=typeof window>"u"||"Deno"in globalThis;function En(){}function G2(i,e){return typeof i=="function"?i(e):i}function _g(i){return typeof i=="number"&&i>=0&&i!==1/0}function DS(i,e){return Math.max(i+(e||0)-Date.now(),0)}function zr(i,e){return typeof i=="function"?i(e):i}function si(i,e){return typeof i=="function"?i(e):i}function ob(i,e){const{type:t="all",exact:r,fetchStatus:o,predicate:u,queryKey:c,stale:m}=i;if(c){if(r){if(e.queryHash!==gy(c,e.options))return!1}else if(!hc(e.queryKey,c))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof m=="boolean"&&e.isStale()!==m||o&&o!==e.state.fetchStatus||u&&!u(e))}function lb(i,e){const{exact:t,status:r,predicate:o,mutationKey:u}=i;if(u){if(!e.options.mutationKey)return!1;if(t){if(Xa(e.options.mutationKey)!==Xa(u))return!1}else if(!hc(e.options.mutationKey,u))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function gy(i,e){return((e==null?void 0:e.queryKeyHashFn)||Xa)(i)}function Xa(i){return JSON.stringify(i,(e,t)=>vg(t)?Object.keys(t).sort().reduce((r,o)=>(r[o]=t[o],r),{}):t)}function hc(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?Object.keys(e).every(t=>hc(i[t],e[t])):!1}var Q2=Object.prototype.hasOwnProperty;function OS(i,e){if(i===e)return i;const t=ub(i)&&ub(e);if(!t&&!(vg(i)&&vg(e)))return e;const o=(t?i:Object.keys(i)).length,u=t?e:Object.keys(e),c=u.length,m=t?new Array(c):{};let p=0;for(let g=0;g<c;g++){const _=t?g:u[g],b=i[_],w=e[_];if(b===w){m[_]=b,(t?g<o:Q2.call(i,_))&&p++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){m[_]=w;continue}const O=OS(b,w);m[_]=O,O===b&&p++}return o===c&&p===o?i:m}function $f(i,e){if(!e||Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(i[t]!==e[t])return!1;return!0}function ub(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function vg(i){if(!cb(i))return!1;const e=i.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!cb(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function cb(i){return Object.prototype.toString.call(i)==="[object Object]"}function K2(i){return new Promise(e=>{Va.setTimeout(e,i)})}function Eg(i,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(i,e):t.structuralSharing!==!1?OS(i,e):e}function Y2(i,e,t=0){const r=[...i,e];return t&&r.length>t?r.slice(1):r}function $2(i,e,t=0){const r=[e,...i];return t&&r.length>t?r.slice(0,-1):r}var yy=Symbol();function MS(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===yy?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}function kS(i,e){return typeof i=="function"?i(...e):!!i}var ja,Dr,fl,aS,X2=(aS=class extends Ml{constructor(){super();ye(this,ja);ye(this,Dr);ye(this,fl);ce(this,fl,e=>{if(!$a&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){L(this,Dr)||this.setEventListener(L(this,fl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Dr))==null||e.call(this),ce(this,Dr,void 0))}setEventListener(e){var t;ce(this,fl,e),(t=L(this,Dr))==null||t.call(this),ce(this,Dr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,ja)!==e&&(ce(this,ja,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof L(this,ja)=="boolean"?L(this,ja):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ja=new WeakMap,Dr=new WeakMap,fl=new WeakMap,aS),_y=new X2;function bg(){let i,e;const t=new Promise((o,u)=>{i=o,e=u});t.status="pending",t.catch(()=>{});function r(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{r({status:"fulfilled",value:o}),i(o)},t.reject=o=>{r({status:"rejected",reason:o}),e(o)},t}var W2=H2;function J2(){let i=[],e=0,t=m=>{m()},r=m=>{m()},o=W2;const u=m=>{e?i.push(m):o(()=>{t(m)})},c=()=>{const m=i;i=[],m.length&&o(()=>{r(()=>{m.forEach(p=>{t(p)})})})};return{batch:m=>{let p;e++;try{p=m()}finally{e--,e||c()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{t=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{o=m}}}var Gt=J2(),dl,Or,ml,oS,Z2=(oS=class extends Ml{constructor(){super();ye(this,dl,!0);ye(this,Or);ye(this,ml);ce(this,ml,e=>{if(!$a&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,Or)||this.setEventListener(L(this,ml))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Or))==null||e.call(this),ce(this,Or,void 0))}setEventListener(e){var t;ce(this,ml,e),(t=L(this,Or))==null||t.call(this),ce(this,Or,e(this.setOnline.bind(this)))}setOnline(e){L(this,dl)!==e&&(ce(this,dl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,dl)}},dl=new WeakMap,Or=new WeakMap,ml=new WeakMap,oS),Xf=new Z2;function eI(i){return Math.min(1e3*2**i,3e4)}function LS(i){return(i??"online")==="online"?Xf.isOnline():!0}var Tg=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function PS(i){let e=!1,t=0,r;const o=bg(),u=()=>o.status!=="pending",c=j=>{var V;if(!u()){const X=new Tg(j);w(X),(V=i.onCancel)==null||V.call(i,X)}},m=()=>{e=!0},p=()=>{e=!1},g=()=>_y.isFocused()&&(i.networkMode==="always"||Xf.isOnline())&&i.canRun(),_=()=>LS(i.networkMode)&&i.canRun(),b=j=>{u()||(r==null||r(),o.resolve(j))},w=j=>{u()||(r==null||r(),o.reject(j))},O=()=>new Promise(j=>{var V;r=X=>{(u()||g())&&j(X)},(V=i.onPause)==null||V.call(i)}).then(()=>{var j;r=void 0,u()||(j=i.onContinue)==null||j.call(i)}),B=()=>{if(u())return;let j;const V=t===0?i.initialPromise:void 0;try{j=V??i.fn()}catch(X){j=Promise.reject(X)}Promise.resolve(j).then(b).catch(X=>{var me;if(u())return;const se=i.retry??($a?0:3),$=i.retryDelay??eI,ae=typeof $=="function"?$(t,X):$,re=se===!0||typeof se=="number"&&t<se||typeof se=="function"&&se(t,X);if(e||!re){w(X);return}t++,(me=i.onFail)==null||me.call(i,t,X),K2(ae).then(()=>g()?void 0:O()).then(()=>{e?w(X):B()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(r==null||r(),o),cancelRetry:m,continueRetry:p,canStart:_,start:()=>(_()?B():O().then(B),o)}}var za,lS,VS=(lS=class{constructor(){ye(this,za)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_g(this.gcTime)&&ce(this,za,Va.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??($a?1/0:300*1e3))}clearGcTimeout(){L(this,za)&&(Va.clearTimeout(L(this,za)),ce(this,za,void 0))}},za=new WeakMap,lS),Ba,pl,ii,Fa,Wt,Sc,qa,_i,xs,uS,tI=(uS=class extends VS{constructor(t){super();ye(this,_i);ye(this,Ba);ye(this,pl);ye(this,ii);ye(this,Fa);ye(this,Wt);ye(this,Sc);ye(this,qa);ce(this,qa,!1),ce(this,Sc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,Fa,t.client),ce(this,ii,L(this,Fa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Ba,hb(this.options)),this.state=t.state??L(this,Ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,Wt))==null?void 0:t.promise}setOptions(t){if(this.options={...L(this,Sc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=hb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ce(this,Ba,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,ii).remove(this)}setData(t,r){const o=Eg(this.state.data,t,this.options);return Oe(this,_i,xs).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(t,r){Oe(this,_i,xs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var o,u;const r=(o=L(this,Wt))==null?void 0:o.promise;return(u=L(this,Wt))==null||u.cancel(t),r?r.then(En).catch(En):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Ba))}isActive(){return this.observers.some(t=>si(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!DS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,Wt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,Wt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,ii).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(L(this,Wt)&&(L(this,qa)?L(this,Wt).cancel({revert:!0}):L(this,Wt).cancelRetry()),this.scheduleGc()),L(this,ii).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,_i,xs).call(this,{type:"invalidate"})}async fetch(t,r){var g,_,b,w,O,B,j,V,X,se,$,ae;if(this.state.fetchStatus!=="idle"&&((g=L(this,Wt))==null?void 0:g.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,Wt))return L(this,Wt).continueRetry(),L(this,Wt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const re=this.observers.find(me=>me.options.queryFn);re&&this.setOptions(re.options)}const o=new AbortController,u=re=>{Object.defineProperty(re,"signal",{enumerable:!0,get:()=>(ce(this,qa,!0),o.signal)})},c=()=>{const re=MS(this.options,r),N=(()=>{const S={client:L(this,Fa),queryKey:this.queryKey,meta:this.meta};return u(S),S})();return ce(this,qa,!1),this.options.persister?this.options.persister(re,N,this):re(N)},p=(()=>{const re={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:L(this,Fa),state:this.state,fetchFn:c};return u(re),re})();(_=this.options.behavior)==null||_.onFetch(p,this),ce(this,pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=p.fetchOptions)==null?void 0:b.meta))&&Oe(this,_i,xs).call(this,{type:"fetch",meta:(w=p.fetchOptions)==null?void 0:w.meta}),ce(this,Wt,PS({initialPromise:r==null?void 0:r.initialPromise,fn:p.fetchFn,onCancel:re=>{re instanceof Tg&&re.revert&&this.setState({...L(this,pl),fetchStatus:"idle"}),o.abort()},onFail:(re,me)=>{Oe(this,_i,xs).call(this,{type:"failed",failureCount:re,error:me})},onPause:()=>{Oe(this,_i,xs).call(this,{type:"pause"})},onContinue:()=>{Oe(this,_i,xs).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const re=await L(this,Wt).start();if(re===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(re),(B=(O=L(this,ii).config).onSuccess)==null||B.call(O,re,this),(V=(j=L(this,ii).config).onSettled)==null||V.call(j,re,this.state.error,this),re}catch(re){if(re instanceof Tg){if(re.silent)return L(this,Wt).promise;if(re.revert){if(this.state.data===void 0)throw re;return this.state.data}}throw Oe(this,_i,xs).call(this,{type:"error",error:re}),(se=(X=L(this,ii).config).onError)==null||se.call(X,re,this),(ae=($=L(this,ii).config).onSettled)==null||ae.call($,this.state.data,re,this),re}finally{this.scheduleGc()}}},Ba=new WeakMap,pl=new WeakMap,ii=new WeakMap,Fa=new WeakMap,Wt=new WeakMap,Sc=new WeakMap,qa=new WeakMap,_i=new WeakSet,xs=function(t){const r=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...US(o.data,this.options),fetchMeta:t.meta??null};case"success":const u={...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,pl,t.manual?u:void 0),u;case"error":const c=t.error;return{...o,error:c,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=r(this.state),Gt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),L(this,ii).notify({query:this,type:"updated",action:t})})},uS);function US(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LS(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function hb(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,t=e!==void 0,r=t?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var In,ze,Ac,_n,Ha,gl,Ns,Mr,wc,yl,_l,Ga,Qa,kr,vl,Xe,Wu,Sg,Ag,wg,Rg,Cg,Ig,xg,jS,cS,nI=(cS=class extends Ml{constructor(e,t){super();ye(this,Xe);ye(this,In);ye(this,ze);ye(this,Ac);ye(this,_n);ye(this,Ha);ye(this,gl);ye(this,Ns);ye(this,Mr);ye(this,wc);ye(this,yl);ye(this,_l);ye(this,Ga);ye(this,Qa);ye(this,kr);ye(this,vl,new Set);this.options=t,ce(this,In,e),ce(this,Mr,null),ce(this,Ns,bg()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,ze).addObserver(this),fb(L(this,ze),this.options)?Oe(this,Xe,Wu).call(this):this.updateResult(),Oe(this,Xe,Rg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ng(L(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ng(L(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Xe,Cg).call(this),Oe(this,Xe,Ig).call(this),L(this,ze).removeObserver(this)}setOptions(e){const t=this.options,r=L(this,ze);if(this.options=L(this,In).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof si(this.options.enabled,L(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,Xe,xg).call(this),L(this,ze).setOptions(this.options),t._defaulted&&!$f(this.options,t)&&L(this,In).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,ze),observer:this});const o=this.hasListeners();o&&db(L(this,ze),r,this.options,t)&&Oe(this,Xe,Wu).call(this),this.updateResult(),o&&(L(this,ze)!==r||si(this.options.enabled,L(this,ze))!==si(t.enabled,L(this,ze))||zr(this.options.staleTime,L(this,ze))!==zr(t.staleTime,L(this,ze)))&&Oe(this,Xe,Sg).call(this);const u=Oe(this,Xe,Ag).call(this);o&&(L(this,ze)!==r||si(this.options.enabled,L(this,ze))!==si(t.enabled,L(this,ze))||u!==L(this,kr))&&Oe(this,Xe,wg).call(this,u)}getOptimisticResult(e){const t=L(this,In).getQueryCache().build(L(this,In),e),r=this.createResult(t,e);return sI(this,r)&&(ce(this,_n,r),ce(this,gl,this.options),ce(this,Ha,L(this,ze).state)),r}getCurrentResult(){return L(this,_n)}trackResult(e,t){return new Proxy(e,{get:(r,o)=>(this.trackProp(o),t==null||t(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&L(this,Ns).status==="pending"&&L(this,Ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,o))})}trackProp(e){L(this,vl).add(e)}getCurrentQuery(){return L(this,ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=L(this,In).defaultQueryOptions(e),r=L(this,In).getQueryCache().build(L(this,In),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Oe(this,Xe,Wu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,_n)))}createResult(e,t){var C;const r=L(this,ze),o=this.options,u=L(this,_n),c=L(this,Ha),m=L(this,gl),g=e!==r?e.state:L(this,Ac),{state:_}=e;let b={..._},w=!1,O;if(t._optimisticResults){const D=this.hasListeners(),x=!D&&fb(e,t),k=D&&db(e,r,t,o);(x||k)&&(b={...b,...US(_.data,e.options)}),t._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:B,errorUpdatedAt:j,status:V}=b;O=b.data;let X=!1;if(t.placeholderData!==void 0&&O===void 0&&V==="pending"){let D;u!=null&&u.isPlaceholderData&&t.placeholderData===(m==null?void 0:m.placeholderData)?(D=u.data,X=!0):D=typeof t.placeholderData=="function"?t.placeholderData((C=L(this,_l))==null?void 0:C.state.data,L(this,_l)):t.placeholderData,D!==void 0&&(V="success",O=Eg(u==null?void 0:u.data,D,t),w=!0)}if(t.select&&O!==void 0&&!X)if(u&&O===(c==null?void 0:c.data)&&t.select===L(this,wc))O=L(this,yl);else try{ce(this,wc,t.select),O=t.select(O),O=Eg(u==null?void 0:u.data,O,t),ce(this,yl,O),ce(this,Mr,null)}catch(D){ce(this,Mr,D)}L(this,Mr)&&(B=L(this,Mr),O=L(this,yl),j=Date.now(),V="error");const se=b.fetchStatus==="fetching",$=V==="pending",ae=V==="error",re=$&&se,me=O!==void 0,S={status:V,fetchStatus:b.fetchStatus,isPending:$,isSuccess:V==="success",isError:ae,isInitialLoading:re,isLoading:re,data:O,dataUpdatedAt:b.dataUpdatedAt,error:B,errorUpdatedAt:j,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:se,isRefetching:se&&!$,isLoadingError:ae&&!me,isPaused:b.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:ae&&me,isStale:vy(e,t),refetch:this.refetch,promise:L(this,Ns),isEnabled:si(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},x=()=>{const I=ce(this,Ns,S.promise=bg());D(I)},k=L(this,Ns);switch(k.status){case"pending":e.queryHash===r.queryHash&&D(k);break;case"fulfilled":(S.status==="error"||S.data!==k.value)&&x();break;case"rejected":(S.status!=="error"||S.error!==k.reason)&&x();break}}return S}updateResult(){const e=L(this,_n),t=this.createResult(L(this,ze),this.options);if(ce(this,Ha,L(this,ze).state),ce(this,gl,this.options),L(this,Ha).data!==void 0&&ce(this,_l,L(this,ze)),$f(t,e))return;ce(this,_n,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!L(this,vl).size)return!0;const c=new Set(u??L(this,vl));return this.options.throwOnError&&c.add("error"),Object.keys(L(this,_n)).some(m=>{const p=m;return L(this,_n)[p]!==e[p]&&c.has(p)})};Oe(this,Xe,jS).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Xe,Rg).call(this)}},In=new WeakMap,ze=new WeakMap,Ac=new WeakMap,_n=new WeakMap,Ha=new WeakMap,gl=new WeakMap,Ns=new WeakMap,Mr=new WeakMap,wc=new WeakMap,yl=new WeakMap,_l=new WeakMap,Ga=new WeakMap,Qa=new WeakMap,kr=new WeakMap,vl=new WeakMap,Xe=new WeakSet,Wu=function(e){Oe(this,Xe,xg).call(this);let t=L(this,ze).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(En)),t},Sg=function(){Oe(this,Xe,Cg).call(this);const e=zr(this.options.staleTime,L(this,ze));if($a||L(this,_n).isStale||!_g(e))return;const r=DS(L(this,_n).dataUpdatedAt,e)+1;ce(this,Ga,Va.setTimeout(()=>{L(this,_n).isStale||this.updateResult()},r))},Ag=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,ze)):this.options.refetchInterval)??!1},wg=function(e){Oe(this,Xe,Ig).call(this),ce(this,kr,e),!($a||si(this.options.enabled,L(this,ze))===!1||!_g(L(this,kr))||L(this,kr)===0)&&ce(this,Qa,Va.setInterval(()=>{(this.options.refetchIntervalInBackground||_y.isFocused())&&Oe(this,Xe,Wu).call(this)},L(this,kr)))},Rg=function(){Oe(this,Xe,Sg).call(this),Oe(this,Xe,wg).call(this,Oe(this,Xe,Ag).call(this))},Cg=function(){L(this,Ga)&&(Va.clearTimeout(L(this,Ga)),ce(this,Ga,void 0))},Ig=function(){L(this,Qa)&&(Va.clearInterval(L(this,Qa)),ce(this,Qa,void 0))},xg=function(){const e=L(this,In).getQueryCache().build(L(this,In),this.options);if(e===L(this,ze))return;const t=L(this,ze);ce(this,ze,e),ce(this,Ac,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},jS=function(e){Gt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(L(this,_n))}),L(this,In).getQueryCache().notify({query:L(this,ze),type:"observerResultsUpdated"})})},cS);function iI(i,e){return si(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function fb(i,e){return iI(i,e)||i.state.data!==void 0&&Ng(i,e,e.refetchOnMount)}function Ng(i,e,t){if(si(e.enabled,i)!==!1&&zr(e.staleTime,i)!=="static"){const r=typeof t=="function"?t(i):t;return r==="always"||r!==!1&&vy(i,e)}return!1}function db(i,e,t,r){return(i!==e||si(r.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&vy(i,t)}function vy(i,e){return si(e.enabled,i)!==!1&&i.isStaleByTime(zr(e.staleTime,i))}function sI(i,e){return!$f(i.getCurrentResult(),e)}function mb(i){return{onFetch:(e,t)=>{var _,b,w,O,B;const r=e.options,o=(w=(b=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,u=((O=e.state.data)==null?void 0:O.pages)||[],c=((B=e.state.data)==null?void 0:B.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const g=async()=>{let j=!1;const V=$=>{Object.defineProperty($,"signal",{enumerable:!0,get:()=>(e.signal.aborted?j=!0:e.signal.addEventListener("abort",()=>{j=!0}),e.signal)})},X=MS(e.options,e.fetchOptions),se=async($,ae,re)=>{if(j)return Promise.reject();if(ae==null&&$.pages.length)return Promise.resolve($);const N=(()=>{const x={client:e.client,queryKey:e.queryKey,pageParam:ae,direction:re?"backward":"forward",meta:e.options.meta};return V(x),x})(),S=await X(N),{maxPages:C}=e.options,D=re?$2:Y2;return{pages:D($.pages,S,C),pageParams:D($.pageParams,ae,C)}};if(o&&u.length){const $=o==="backward",ae=$?rI:pb,re={pages:u,pageParams:c},me=ae(r,re);m=await se(re,me,$)}else{const $=i??u.length;do{const ae=p===0?c[0]??r.initialPageParam:pb(r,m);if(p>0&&ae==null)break;m=await se(m,ae),p++}while(p<$)}return m};e.options.persister?e.fetchFn=()=>{var j,V;return(V=(j=e.options).persister)==null?void 0:V.call(j,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=g}}}function pb(i,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?i.getNextPageParam(e[r],e,t[r],t):void 0}function rI(i,{pages:e,pageParams:t}){var r;return e.length>0?(r=i.getPreviousPageParam)==null?void 0:r.call(i,e[0],e,t[0],t):void 0}var Rc,Wi,vn,Ka,Ji,Ar,hS,aI=(hS=class extends VS{constructor(t){super();ye(this,Ji);ye(this,Rc);ye(this,Wi);ye(this,vn);ye(this,Ka);ce(this,Rc,t.client),this.mutationId=t.mutationId,ce(this,vn,t.mutationCache),ce(this,Wi,[]),this.state=t.state||zS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,Wi).includes(t)||(L(this,Wi).push(t),this.clearGcTimeout(),L(this,vn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,Wi,L(this,Wi).filter(r=>r!==t)),this.scheduleGc(),L(this,vn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():L(this,vn).remove(this))}continue(){var t;return((t=L(this,Ka))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var m,p,g,_,b,w,O,B,j,V,X,se,$,ae,re,me,N,S,C,D;const r=()=>{Oe(this,Ji,Ar).call(this,{type:"continue"})},o={client:L(this,Rc),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Ka,PS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,o):Promise.reject(new Error("No mutationFn found")),onFail:(x,k)=>{Oe(this,Ji,Ar).call(this,{type:"failed",failureCount:x,error:k})},onPause:()=>{Oe(this,Ji,Ar).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,vn).canRun(this)}));const u=this.state.status==="pending",c=!L(this,Ka).canStart();try{if(u)r();else{Oe(this,Ji,Ar).call(this,{type:"pending",variables:t,isPaused:c}),await((p=(m=L(this,vn).config).onMutate)==null?void 0:p.call(m,t,this,o));const k=await((_=(g=this.options).onMutate)==null?void 0:_.call(g,t,o));k!==this.state.context&&Oe(this,Ji,Ar).call(this,{type:"pending",context:k,variables:t,isPaused:c})}const x=await L(this,Ka).start();return await((w=(b=L(this,vn).config).onSuccess)==null?void 0:w.call(b,x,t,this.state.context,this,o)),await((B=(O=this.options).onSuccess)==null?void 0:B.call(O,x,t,this.state.context,o)),await((V=(j=L(this,vn).config).onSettled)==null?void 0:V.call(j,x,null,this.state.variables,this.state.context,this,o)),await((se=(X=this.options).onSettled)==null?void 0:se.call(X,x,null,t,this.state.context,o)),Oe(this,Ji,Ar).call(this,{type:"success",data:x}),x}catch(x){try{throw await((ae=($=L(this,vn).config).onError)==null?void 0:ae.call($,x,t,this.state.context,this,o)),await((me=(re=this.options).onError)==null?void 0:me.call(re,x,t,this.state.context,o)),await((S=(N=L(this,vn).config).onSettled)==null?void 0:S.call(N,void 0,x,this.state.variables,this.state.context,this,o)),await((D=(C=this.options).onSettled)==null?void 0:D.call(C,void 0,x,t,this.state.context,o)),x}finally{Oe(this,Ji,Ar).call(this,{type:"error",error:x})}}finally{L(this,vn).runNext(this)}}},Rc=new WeakMap,Wi=new WeakMap,vn=new WeakMap,Ka=new WeakMap,Ji=new WeakSet,Ar=function(t){const r=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gt.batch(()=>{L(this,Wi).forEach(o=>{o.onMutationUpdate(t)}),L(this,vn).notify({mutation:this,type:"updated",action:t})})},hS);function zS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ds,vi,Cc,fS,oI=(fS=class extends Ml{constructor(e={}){super();ye(this,Ds);ye(this,vi);ye(this,Cc);this.config=e,ce(this,Ds,new Set),ce(this,vi,new Map),ce(this,Cc,0)}build(e,t,r){const o=new aI({client:e,mutationCache:this,mutationId:++vf(this,Cc)._,options:e.defaultMutationOptions(t),state:r});return this.add(o),o}add(e){L(this,Ds).add(e);const t=bf(e);if(typeof t=="string"){const r=L(this,vi).get(t);r?r.push(e):L(this,vi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(L(this,Ds).delete(e)){const t=bf(e);if(typeof t=="string"){const r=L(this,vi).get(t);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&L(this,vi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=bf(e);if(typeof t=="string"){const r=L(this,vi).get(t),o=r==null?void 0:r.find(u=>u.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const t=bf(e);if(typeof t=="string"){const o=(r=L(this,vi).get(t))==null?void 0:r.find(u=>u!==e&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gt.batch(()=>{L(this,Ds).forEach(e=>{this.notify({type:"removed",mutation:e})}),L(this,Ds).clear(),L(this,vi).clear()})}getAll(){return Array.from(L(this,Ds))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>lb(t,r))}findAll(e={}){return this.getAll().filter(t=>lb(e,t))}notify(e){Gt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Gt.batch(()=>Promise.all(e.map(t=>t.continue().catch(En))))}},Ds=new WeakMap,vi=new WeakMap,Cc=new WeakMap,fS);function bf(i){var e;return(e=i.options.scope)==null?void 0:e.id}var Os,Lr,xn,Ms,Us,Vf,Dg,dS,lI=(dS=class extends Ml{constructor(t,r){super();ye(this,Us);ye(this,Os);ye(this,Lr);ye(this,xn);ye(this,Ms);ce(this,Os,t),this.setOptions(r),this.bindMethods(),Oe(this,Us,Vf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const r=this.options;this.options=L(this,Os).defaultMutationOptions(t),$f(this.options,r)||L(this,Os).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,xn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Xa(r.mutationKey)!==Xa(this.options.mutationKey)?this.reset():((o=L(this,xn))==null?void 0:o.state.status)==="pending"&&L(this,xn).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=L(this,xn))==null||t.removeObserver(this)}onMutationUpdate(t){Oe(this,Us,Vf).call(this),Oe(this,Us,Dg).call(this,t)}getCurrentResult(){return L(this,Lr)}reset(){var t;(t=L(this,xn))==null||t.removeObserver(this),ce(this,xn,void 0),Oe(this,Us,Vf).call(this),Oe(this,Us,Dg).call(this)}mutate(t,r){var o;return ce(this,Ms,r),(o=L(this,xn))==null||o.removeObserver(this),ce(this,xn,L(this,Os).getMutationCache().build(L(this,Os),this.options)),L(this,xn).addObserver(this),L(this,xn).execute(t)}},Os=new WeakMap,Lr=new WeakMap,xn=new WeakMap,Ms=new WeakMap,Us=new WeakSet,Vf=function(){var r;const t=((r=L(this,xn))==null?void 0:r.state)??zS();ce(this,Lr,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Dg=function(t){Gt.batch(()=>{var r,o,u,c,m,p,g,_;if(L(this,Ms)&&this.hasListeners()){const b=L(this,Lr).variables,w=L(this,Lr).context,O={client:L(this,Os),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((o=(r=L(this,Ms)).onSuccess)==null||o.call(r,t.data,b,w,O),(c=(u=L(this,Ms)).onSettled)==null||c.call(u,t.data,null,b,w,O)):(t==null?void 0:t.type)==="error"&&((p=(m=L(this,Ms)).onError)==null||p.call(m,t.error,b,w,O),(_=(g=L(this,Ms)).onSettled)==null||_.call(g,void 0,t.error,b,w,O))}this.listeners.forEach(b=>{b(L(this,Lr))})})},dS),Zi,mS,uI=(mS=class extends Ml{constructor(e={}){super();ye(this,Zi);this.config=e,ce(this,Zi,new Map)}build(e,t,r){const o=t.queryKey,u=t.queryHash??gy(o,t);let c=this.get(u);return c||(c=new tI({client:e,queryKey:o,queryHash:u,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(c)),c}add(e){L(this,Zi).has(e.queryHash)||(L(this,Zi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=L(this,Zi).get(e.queryHash);t&&(e.destroy(),t===e&&L(this,Zi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Zi).get(e)}getAll(){return[...L(this,Zi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ob(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ob(e,r)):t}notify(e){Gt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zi=new WeakMap,mS),bt,Pr,Vr,El,bl,Ur,Tl,Sl,pS,cI=(pS=class{constructor(i={}){ye(this,bt);ye(this,Pr);ye(this,Vr);ye(this,El);ye(this,bl);ye(this,Ur);ye(this,Tl);ye(this,Sl);ce(this,bt,i.queryCache||new uI),ce(this,Pr,i.mutationCache||new oI),ce(this,Vr,i.defaultOptions||{}),ce(this,El,new Map),ce(this,bl,new Map),ce(this,Ur,0)}mount(){vf(this,Ur)._++,L(this,Ur)===1&&(ce(this,Tl,_y.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,bt).onFocus())})),ce(this,Sl,Xf.subscribe(async i=>{i&&(await this.resumePausedMutations(),L(this,bt).onOnline())})))}unmount(){var i,e;vf(this,Ur)._--,L(this,Ur)===0&&((i=L(this,Tl))==null||i.call(this),ce(this,Tl,void 0),(e=L(this,Sl))==null||e.call(this),ce(this,Sl,void 0))}isFetching(i){return L(this,bt).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return L(this,Pr).findAll({...i,status:"pending"}).length}getQueryData(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=L(this,bt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),t=L(this,bt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(i):(i.revalidateIfStale&&t.isStaleByTime(zr(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(i){return L(this,bt).findAll(i).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(i,e,t){const r=this.defaultQueryOptions({queryKey:i}),o=L(this,bt).get(r.queryHash),u=o==null?void 0:o.state.data,c=G2(e,u);if(c!==void 0)return L(this,bt).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(i,e,t){return Gt.batch(()=>L(this,bt).findAll(i).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=L(this,bt).get(e.queryHash))==null?void 0:t.state}removeQueries(i){const e=L(this,bt);Gt.batch(()=>{e.findAll(i).forEach(t=>{e.remove(t)})})}resetQueries(i,e){const t=L(this,bt);return Gt.batch(()=>(t.findAll(i).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const t={revert:!0,...e},r=Gt.batch(()=>L(this,bt).findAll(i).map(o=>o.cancel(t)));return Promise.all(r).then(En).catch(En)}invalidateQueries(i,e={}){return Gt.batch(()=>(L(this,bt).findAll(i).forEach(t=>{t.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Gt.batch(()=>L(this,bt).findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,t);return t.throwOnError||(u=u.catch(En)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(En)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const t=L(this,bt).build(this,e);return t.isStaleByTime(zr(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(En).catch(En)}fetchInfiniteQuery(i){return i.behavior=mb(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(En).catch(En)}ensureInfiniteQueryData(i){return i.behavior=mb(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Xf.isOnline()?L(this,Pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,bt)}getMutationCache(){return L(this,Pr)}getDefaultOptions(){return L(this,Vr)}setDefaultOptions(i){ce(this,Vr,i)}setQueryDefaults(i,e){L(this,El).set(Xa(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...L(this,El).values()],t={};return e.forEach(r=>{hc(i,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(i,e){L(this,bl).set(Xa(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...L(this,bl).values()],t={};return e.forEach(r=>{hc(i,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(i){if(i._defaulted)return i;const e={...L(this,Vr).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=gy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yy&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...L(this,Vr).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){L(this,bt).clear(),L(this,Pr).clear()}},bt=new WeakMap,Pr=new WeakMap,Vr=new WeakMap,El=new WeakMap,bl=new WeakMap,Ur=new WeakMap,Tl=new WeakMap,Sl=new WeakMap,pS),BS=G.createContext(void 0),Ey=i=>{const e=G.useContext(BS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hI=({client:i,children:e})=>(G.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),R.jsx(BS.Provider,{value:i,children:e})),FS=G.createContext(!1),fI=()=>G.useContext(FS);FS.Provider;function dI(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var mI=G.createContext(dI()),pI=()=>G.useContext(mI),gI=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},yI=i=>{G.useEffect(()=>{i.clearReset()},[i])},_I=({result:i,errorResetBoundary:e,throwOnError:t,query:r,suspense:o})=>i.isError&&!e.isReset()&&!i.isFetching&&r&&(o&&i.data===void 0||kS(t,[i.error,r])),vI=i=>{if(i.suspense){const t=o=>o==="static"?o:Math.max(o??1e3,1e3),r=i.staleTime;i.staleTime=typeof r=="function"?(...o)=>t(r(...o)):t(r),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3))}},EI=(i,e)=>i.isLoading&&i.isFetching&&!e,bI=(i,e)=>(i==null?void 0:i.suspense)&&e.isPending,gb=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function TI(i,e,t){var b,w,O,B,j;const r=fI(),o=pI(),u=Ey(),c=u.defaultQueryOptions(i);(w=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||w.call(b,c),c._optimisticResults=r?"isRestoring":"optimistic",vI(c),gI(c,o),yI(o);const m=!u.getQueryCache().get(c.queryHash),[p]=G.useState(()=>new e(u,c)),g=p.getOptimisticResult(c),_=!r&&i.subscribed!==!1;if(G.useSyncExternalStore(G.useCallback(V=>{const X=_?p.subscribe(Gt.batchCalls(V)):En;return p.updateResult(),X},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),G.useEffect(()=>{p.setOptions(c)},[c,p]),bI(c,g))throw gb(c,p,o);if(_I({result:g,errorResetBoundary:o,throwOnError:c.throwOnError,query:u.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((B=(O=u.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||B.call(O,c,g),c.experimental_prefetchInRender&&!$a&&EI(g,r)){const V=m?gb(c,p,o):(j=u.getQueryCache().get(c.queryHash))==null?void 0:j.promise;V==null||V.catch(En).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?g:p.trackResult(g)}function by(i,e){return TI(i,nI)}function eg(i,e){const t=Ey(),[r]=G.useState(()=>new lI(t,i));G.useEffect(()=>{r.setOptions(i)},[r,i]);const o=G.useSyncExternalStore(G.useCallback(c=>r.subscribe(Gt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=G.useCallback((c,m)=>{r.mutate(c,m).catch(En)},[r]);if(o.error&&kS(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const SI=()=>{};var yb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},AI=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],c=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},HS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,c||(w=64)),r.push(t[_],t[b],t[w],t[O])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):AI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new wI;const w=u<<2|m>>4;if(r.push(w),g!==64){const O=m<<4&240|g>>2;if(r.push(O),b!==64){const B=g<<6&192|b;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RI=function(i){const e=qS(i);return HS.encodeByteArray(e,!0)},Wf=function(i){return RI(i).replace(/\./g,"")},GS=function(i){try{return HS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=()=>CI().__FIREBASE_DEFAULTS__,xI=()=>{if(typeof process>"u"||typeof yb>"u")return;const i=yb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},NI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&GS(i[1]);return e&&JSON.parse(e)},Td=()=>{try{return SI()||II()||xI()||NI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QS=i=>{var e,t;return(t=(e=Td())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},KS=i=>{const e=QS(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},YS=()=>{var i;return(i=Td())==null?void 0:i.config},$S=i=>{var e;return(e=Td())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ty(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Wf(JSON.stringify(t)),Wf(JSON.stringify(c)),""].join(".")}const ic={};function OI(){const i={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?i.emulator.push(e):i.prod.push(e);return i}function MI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let _b=!1;function Sy(i,e){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||ic[i]===e||ic[i]||_b)return;ic[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=OI().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{_b=!0,c()},w}function _(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=MI(r),O=t("text"),B=document.getElementById(O)||document.createElement("span"),j=t("learnmore"),V=document.getElementById(j)||document.createElement("a"),X=t("preprendIcon"),se=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;m($),_(V,j);const ae=g();p(se,X),$.append(se,B,V,ae),document.body.appendChild($)}u?(B.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function LI(){var e;const i=(e=Td())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function UI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jI(){const i=dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function zI(){return!LI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BI(){try{return typeof indexedDB=="object"}catch{return!1}}function FI(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="FirebaseError";class us extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=qI,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?HI(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new us(o,m,r)}}function HI(i,e){return i.replace(GI,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const GI=/\{\$([^}]+)}/g;function QI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Wa(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=i[o],c=e[o];if(vb(u)&&vb(c)){if(!Wa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function vb(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function KI(i,e){const t=new YI(i,e);return t.subscribe.bind(t)}class YI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$I(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=tg),o.error===void 0&&(o.error=tg),o.complete===void 0&&(o.complete=tg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $I(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(i){return i&&i._delegate?i._delegate:i}let Jf=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new DI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WI(i){return i===Pa?void 0:i}function JI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ht||(ht={}));const ex={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},tx=ht.INFO,nx={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},ix=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=nx[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let sx=class{constructor(e){this.name=e,this._logLevel=tx,this._logHandler=ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ex[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}};const rx=(i,e)=>e.some(t=>i instanceof t);let Eb,bb;function ax(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ox(){return bb||(bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,Og=new WeakMap,JS=new WeakMap,ng=new WeakMap,Ay=new WeakMap;function lx(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{t(Br(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&WS.set(t,i)}).catch(()=>{}),Ay.set(e,i),e}function ux(i){if(Og.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Og.set(i,e)}let Mg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Og.get(i);if(e==="objectStoreNames")return i.objectStoreNames||JS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Br(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function cx(i){Mg=i(Mg)}function hx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(ig(this),e,...t);return JS.set(r,e.sort?e.sort():[e]),Br(r)}:ox().includes(i)?function(...e){return i.apply(ig(this),e),Br(WS.get(this))}:function(...e){return Br(i.apply(ig(this),e))}}function fx(i){return typeof i=="function"?hx(i):(i instanceof IDBTransaction&&ux(i),rx(i,ax())?new Proxy(i,Mg):i)}function Br(i){if(i instanceof IDBRequest)return lx(i);if(ng.has(i))return ng.get(i);const e=fx(i);return e!==i&&(ng.set(i,e),Ay.set(e,i)),e}const ig=i=>Ay.get(i);function dx(i,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=Br(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Br(c.result),p.oldVersion,p.newVersion,Br(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const mx=["get","getKey","getAll","getAllKeys","count"],px=["put","add","delete","clear"],sg=new Map;function Tb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=px.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mx.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return sg.set(e,u),u}cx(i=>({...i,get:(e,t,r)=>Tb(e,t)||i.get(e,t,r),has:(e,t)=>!!Tb(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yx(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function yx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kg="@firebase/app",Sb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new sx("@firebase/app"),_x="@firebase/app-compat",vx="@firebase/analytics-compat",Ex="@firebase/analytics",bx="@firebase/app-check-compat",Tx="@firebase/app-check",Sx="@firebase/auth",Ax="@firebase/auth-compat",wx="@firebase/database",Rx="@firebase/data-connect",Cx="@firebase/database-compat",Ix="@firebase/functions",xx="@firebase/functions-compat",Nx="@firebase/installations",Dx="@firebase/installations-compat",Ox="@firebase/messaging",Mx="@firebase/messaging-compat",kx="@firebase/performance",Lx="@firebase/performance-compat",Px="@firebase/remote-config",Vx="@firebase/remote-config-compat",Ux="@firebase/storage",jx="@firebase/storage-compat",zx="@firebase/firestore",Bx="@firebase/ai",Fx="@firebase/firestore-compat",qx="firebase",Hx="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="[DEFAULT]",Gx={[kg]:"fire-core",[_x]:"fire-core-compat",[Ex]:"fire-analytics",[vx]:"fire-analytics-compat",[Tx]:"fire-app-check",[bx]:"fire-app-check-compat",[Sx]:"fire-auth",[Ax]:"fire-auth-compat",[wx]:"fire-rtdb",[Rx]:"fire-data-connect",[Cx]:"fire-rtdb-compat",[Ix]:"fire-fn",[xx]:"fire-fn-compat",[Nx]:"fire-iid",[Dx]:"fire-iid-compat",[Ox]:"fire-fcm",[Mx]:"fire-fcm-compat",[kx]:"fire-perf",[Lx]:"fire-perf-compat",[Px]:"fire-rc",[Vx]:"fire-rc-compat",[Ux]:"fire-gcs",[jx]:"fire-gcs-compat",[zx]:"fire-fst",[Fx]:"fire-fst-compat",[Bx]:"fire-vertex","fire-js":"fire-js",[qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,Qx=new Map,Pg=new Map;function Ab(i,e){try{i.container.addComponent(e)}catch(t){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ja(i){const e=i.name;if(Pg.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,i);for(const t of Zf.values())Ab(t,i);for(const t of Qx.values())Ab(t,i);return!0}function Sd(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Bn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Nc("app","Firebase",Kx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=Hx;function ZS(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:Lg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(t||(t=YS()),!t)throw Fr.create("no-options");const u=Zf.get(o);if(u){if(Wa(t,u.options)&&Wa(r,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const c=new ZI(o);for(const p of Pg.values())c.addComponent(p);const m=new Yx(t,r,c);return Zf.set(o,m),m}function wy(i=Lg){const e=Zf.get(i);if(!e&&i===Lg&&YS())return ZS();if(!e)throw Fr.create("no-app",{appName:i});return e}function ts(i,e,t){let r=Gx[i]??i;t&&(r+=`-${t}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}Ja(new Jf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebase-heartbeat-database",Xx=1,fc="firebase-heartbeat-store";let rg=null;function e1(){return rg||(rg=dx($x,Xx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),rg}async function Wx(i){try{const t=(await e1()).transaction(fc),r=await t.objectStore(fc).get(t1(i));return await t.done,r}catch(e){if(e instanceof us)zs.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(t.message)}}}async function wb(i,e){try{const r=(await e1()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,t1(i)),await r.done}catch(t){if(t instanceof us)zs.warn(t.message);else{const r=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zs.warn(r.message)}}}function t1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=1024,Zx=30;class eN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Zx){const c=iN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rb(),{heartbeatsToSend:r,unsentEntries:o}=tN(this._heartbeatsCache.heartbeats),u=Wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return zs.warn(t),""}}}function Rb(){return new Date().toISOString().substring(0,10)}function tN(i,e=Jx){const t=[];let r=i.slice();for(const o of i){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Cb(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Cb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class nN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BI()?FI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Wx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cb(i){return Wf(JSON.stringify({version:2,heartbeats:i})).length}function iN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(i){Ja(new Jf("platform-logger",e=>new gx(e),"PRIVATE")),Ja(new Jf("heartbeat",e=>new eN(e),"PRIVATE")),ts(kg,Sb,i),ts(kg,Sb,"esm2020"),ts("fire-js","")}sN("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ot||(ot={}));const rN={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},aN=ot.INFO,oN={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},lN=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=oN[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let uN=class{constructor(e){this.name=e,this._logLevel=aN,this._logHandler=lN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}},Ib=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function n1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cN=n1,i1=new Nc("auth","Firebase",n1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new uN("@firebase/auth");function hN(i,...e){ed.logLevel<=ot.WARN&&ed.warn(`Auth (${ro}): ${i}`,...e)}function Uf(i,...e){ed.logLevel<=ot.ERROR&&ed.error(`Auth (${ro}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(i,...e){throw Ry(i,...e)}function ns(i,...e){return Ry(i,...e)}function s1(i,e,t){const r={...cN(),[e]:t};return new Nc("auth","Firebase",r).create(e,{appName:i.name})}function Vs(i){return s1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return i1.create(i,...e)}function Te(i,e,...t){if(!i)throw Ry(e,...t)}function ks(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Uf(e),new Error(e)}function Bs(i,e){i||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function fN(){return xb()==="http:"||xb()==="https:"}function xb(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fN()||VI()||"connection"in navigator)?navigator.onLine:!0}function mN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bs(t>e,"Short delay should be less than long delay!"),this.isMobile=kI()||UI()}get(){return dN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(i,e){Bs(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yN=new Oc(3e4,6e4);function ea(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ta(i,e,t,r,o={}){return a1(i,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const m=Dc({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return PI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Zr(i.emulatorConfig.host)&&(g.credentials="include"),r1.fetch()(await o1(i,i.config.apiHost,t,m),g)})}async function a1(i,e,t){i._canInitEmulator=!1;const r={...pN,...e};try{const o=new vN(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Tf(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Tf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Tf(i,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw s1(i,_,g);Ai(i,_)}}catch(o){if(o instanceof us)throw o;Ai(i,"network-request-failed",{message:String(o)})}}async function Mc(i,e,t,r,o={}){const u=await ta(i,e,t,r,o);return"mfaPendingCredential"in u&&Ai(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function o1(i,e,t,r){const o=`${e}${t}?${r}`,u=i,c=u.config.emulator?Cy(i.config,o):`${i.config.apiScheme}://${o}`;return gN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function _N(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),yN.get())})}}function Tf(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=ns(i,e,r);return o.customData._tokenResponse=t,o}function Nb(i){return i!==void 0&&i.enterprise!==void 0}class EN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _N(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bN(i,e){return ta(i,"GET","/v2/recaptchaConfig",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(i,e){return ta(i,"POST","/v1/accounts:delete",e)}async function td(i,e){return ta(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SN(i,e=!1){const t=yt(i),r=await t.getIdToken(e),o=Iy(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:sc(ag(o.auth_time)),issuedAtTime:sc(ag(o.iat)),expirationTime:sc(ag(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ag(i){return Number(i)*1e3}function Iy(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const o=GS(t);return o?JSON.parse(o):(Uf("Failed to decode base64 JWT payload"),null)}catch(o){return Uf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Db(i){const e=Iy(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof us&&AN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function AN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(i){var b;const e=i.auth,t=await i.getIdToken(),r=await dc(i,td(e,{idToken:t}));Te(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=(b=o.providerUserInfo)!=null&&b.length?l1(o.providerUserInfo):[],c=CN(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(c!=null&&c.length),g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ug(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function RN(i){const e=yt(i);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CN(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function l1(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e){const t=await a1(i,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await o1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Zr(i.emulatorConfig.host)&&(p.credentials="include"),r1.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xN(i,e){return ta(i,"POST","/v2/accounts:revokeToken",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Db(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:u}=await IN(e,t);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,c=new al;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new wN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ug(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SN(this,e)}reload(){return RN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await dc(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:O,providerData:B,stsTokenManager:j}=t;Te(b&&j,e,"internal-error");const V=al.fromJSON(this.name,j);Te(typeof b=="string",e,"internal-error"),Sr(r,e.name),Sr(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof O=="boolean",e,"internal-error"),Sr(u,e.name),Sr(c,e.name),Sr(m,e.name),Sr(p,e.name),Sr(g,e.name),Sr(_,e.name);const X=new Ei({uid:b,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:O,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:_});return B&&Array.isArray(B)&&(X.providerData=B.map(se=>({...se}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,t,r=!1){const o=new al;o.updateFromServerResponse(t);const u=new Ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nd(u),u}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?l1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new al;m.updateFromIdToken(r);const p=new Ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ug(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function Ls(i){Bs(i instanceof Function,"Expected a class definition");let e=Ob.get(i);return e?(Bs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ob.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}u1.type="NONE";const Mb=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(i,e,t){return`firebase:${i}:${e}:${t}`}class ol{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=jf(this.userKey,o.apiKey,u),this.fullPersistenceKey=jf("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await td(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ol(Ls(Mb),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ls(Mb);const c=jf(r,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const w=await td(e,{idToken:_}).catch(()=>{});if(!w)break;b=await Ei._fromGetAccountInfoResponse(e,w,_)}else b=Ei._fromJSON(e,_);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ol(u,e,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new ol(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(g1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||f1(e))&&!e.includes("edge/"))return"Chrome";if(m1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function c1(i=dn()){return/firefox\//i.test(i)}function h1(i=dn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f1(i=dn()){return/crios\//i.test(i)}function d1(i=dn()){return/iemobile/i.test(i)}function m1(i=dn()){return/android/i.test(i)}function p1(i=dn()){return/blackberry/i.test(i)}function g1(i=dn()){return/webos/i.test(i)}function xy(i=dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function NN(i=dn()){var e;return xy(i)&&!!((e=window.navigator)!=null&&e.standalone)}function DN(){return jI()&&document.documentMode===10}function y1(i=dn()){return xy(i)||m1(i)||g1(i)||p1(i)||/windows phone/i.test(i)||d1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(i,e=[]){let t;switch(i){case"Browser":t=kb(dn());break;case"Worker":t=`${kb(dn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(i,e={}){return ta(i,"GET","/v2/passwordPolicy",ea(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=6;class LN{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lb(this),this.idTokenSubscription=new Lb(this),this.beforeStateQueue=new ON(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ls(t)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await td(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===m)&&(p!=null&&p.user)&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Vs(this));const t=e?yt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MN(this),t=new LN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ls(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[Ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&hN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ao(i){return yt(i)}class Lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=KI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VN(i){Ad=i}function v1(i){return Ad.loadJS(i)}function UN(){return Ad.recaptchaEnterpriseScript}function jN(){return Ad.gapiScript}function zN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class BN{constructor(){this.enterprise=new FN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qN="recaptcha-enterprise",E1="NO_RECAPTCHA";class HN{constructor(e){this.type=qN,this.auth=ao(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{bN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new EN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;Nb(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(E1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BN().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(m=>{if(!t&&Nb(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UN();p.length!==0&&(p+=m),v1(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function Pb(i,e,t,r=!1,o=!1){const u=new HN(i);let c;if(o)c=E1;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function jg(i,e,t,r,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Pb(i,e,t,t==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Pb(i,e,t,t==="getOobCode");return r(i,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(i,e){const t=Sd(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Wa(u,e??{}))return o;Ai(o,"already-initialized")}return t.initialize({options:e})}function QN(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ls);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KN(i,e,t){const r=ao(i);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=b1(e),{host:c,port:m}=YN(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Wa(g,r.config.emulator)&&Wa(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Zr(c)?(Ty(`${u}//${c}${p}`),Sy("Auth",!0)):$N()}function b1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function YN(i){const e=b1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Vb(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:Vb(c)}}}function Vb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function $N(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function XN(i,e){return ta(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(i,e){return Mc(i,"POST","/v1/accounts:signInWithPassword",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(i,e){return Mc(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}async function ZN(i,e){return Mc(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Ny{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new mc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new mc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,t,"signInWithPassword",WN);case"emailLink":return JN(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,r,"signUpPassword",XN);case"emailLink":return ZN(e,{idToken:t,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(i,e){return Mc(i,"POST","/v1/accounts:signInWithIdp",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="http://localhost";class Za extends Ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=t;if(!r||!o)return null;const c=new Za(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ll(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ll(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ll(e,t)}buildRequest(){const e={requestUri:eD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nD(i){const e=Ju(Zu(i)).link,t=e?Ju(Zu(e)).deep_link_id:null,r=Ju(Zu(i)).deep_link_id;return(r?Ju(Zu(r)).link:null)||r||t||e||i}class Dy{constructor(e){const t=Ju(Zu(e)),r=t.apiKey??null,o=t.oobCode??null,u=tD(t.mode??null);Te(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=nD(e);try{return new Dy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,t){return mc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dy.parseLink(t);return Te(r,"argument-error"),mc._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends T1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends kc{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Za._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Rr.credential(t,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends kc{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends kc{constructor(){super("twitter.com")}static credential(e,t){return Za._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ir.credential(t,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(i,e){return Mc(i,"POST","/v1/accounts:signUp",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const u=await Ei._fromIdTokenResponse(e,r,o),c=Ub(r);return new eo({user:u,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Ub(r);return new eo({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Ub(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends us{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new id(e,t,r,o)}}function S1(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(i,u,e,r):u})}async function sD(i,e,t=!1){const r=await dc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return eo._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(i,e,t=!1){const{auth:r}=i;if(Bn(r.app))return Promise.reject(Vs(r));const o="reauthenticate";try{const u=await dc(i,S1(r,o,e,i),t);Te(u.idToken,r,"internal-error");const c=Iy(u.idToken);Te(c,r,"internal-error");const{sub:m}=c;return Te(i.uid===m,r,"user-mismatch"),eo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ai(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(i,e,t=!1){if(Bn(i.app))return Promise.reject(Vs(i));const r="signIn",o=await S1(i,r,e),u=await eo._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(u.user),u}async function aD(i,e){return A1(ao(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(i){const e=ao(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oD(i,e,t){if(Bn(i.app))return Promise.reject(Vs(i));const r=ao(i),c=await jg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&w1(i),p}),m=await eo._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function lD(i,e,t){return Bn(i.app)?Promise.reject(Vs(i)):aD(yt(i),kl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w1(i),r})}function uD(i,e,t,r){return yt(i).onIdTokenChanged(e,t,r)}function cD(i,e,t){return yt(i).beforeAuthStateChanged(e,t)}function hD(i,e,t,r){return yt(i).onAuthStateChanged(e,t,r)}function fD(i){return yt(i).signOut()}const sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1e3,mD=10;class C1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);DN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mD):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C1.type="LOCAL";const pD=C1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}I1.type="SESSION";const x1=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await gD(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Oy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function _D(i){is().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function vD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ED(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function bD(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebaseLocalStorageDb",TD=1,rd="firebaseLocalStorage",O1="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rd(i,e){return i.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function SD(){const i=indexedDB.deleteDatabase(D1);return new Lc(i).toPromise()}function zg(){const i=indexedDB.open(D1,TD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(rd,{keyPath:O1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(rd)?e(r):(r.close(),await SD(),e(await zg()))})})}async function jb(i,e,t){const r=Rd(i,!0).put({[O1]:e,value:t});return new Lc(r).toPromise()}async function AD(i,e){const t=Rd(i,!1).get(e),r=await new Lc(t).toPromise();return r===void 0?null:r.value}function zb(i,e){const t=Rd(i,!0).delete(e);return new Lc(t).toPromise()}const wD=800,RD=3;class M1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>RD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(bD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await vD(),!this.activeServiceWorker)return;this.sender=new yD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ED()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zg();return await jb(e,sd,"1"),await zb(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>AD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rd(o,!1).getAll();return new Lc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M1.type="LOCAL";const CD=M1;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(i,e){return e?Ls(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xD(i){return A1(i.auth,new My(i),i.bypassAuthState)}function ND(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),rD(t,new My(i),i.bypassAuthState)}async function DD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),sD(t,new My(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xD;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return ND;default:Ai(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Oc(2e3,1e4);class rl extends k1{constructor(e,t,r,o,u){super(e,t,o,u),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="pendingRedirect",zf=new Map;class kD extends k1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const r=await LD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LD(i,e){const t=UD(e),r=VD(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function PD(i,e){zf.set(i._key(),e)}function VD(i){return Ls(i._redirectPersistence)}function UD(i){return jf(MD,i.config.apiKey,i.name)}async function jD(i,e,t=!1){if(Bn(i.app))return Promise.reject(Vs(i));const r=ao(i),o=ID(r,e),c=await new kD(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=600*1e3;class BD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!L1(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(ns(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bb(e))}saveEventToCache(e){this.cachedEventUids.add(Bb(e)),this.lastProcessedEventTime=Date.now()}}function Bb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function L1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(i,e={}){return ta(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GD=/^https?/;async function QD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await qD(i);for(const t of e)try{if(KD(t))return}catch{}Ai(i,"unauthorized-domain")}function KD(i){const e=Vg(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!GD.test(t))return!1;if(HD.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Oc(3e4,6e4);function Fb(){const i=is().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function $D(i){return new Promise((e,t)=>{var o,u,c;function r(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),t(ns(i,"network-request-failed"))},timeout:YD.get()})}if((u=(o=is().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((c=is().gapi)!=null&&c.load)r();else{const m=zN("iframefcb");return is()[m]=()=>{gapi.load?r():t(ns(i,"network-request-failed"))},v1(`${jN()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function XD(i){return Bf=Bf||$D(i),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Oc(5e3,15e3),JD="__/auth/iframe",ZD="emulator/auth/iframe",eO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nO(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Cy(e,ZD):`https://${i.config.authDomain}/${JD}`,r={apiKey:e.apiKey,appName:i.name,v:ro},o=tO.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Dc(r).slice(1)}`}async function iO(i){const e=await XD(i),t=is().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:nO(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=ns(i,"network-request-failed"),m=is().setTimeout(()=>{u(c)},WD.get());function p(){is().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rO=500,aO=600,oO="_blank",lO="http://localhost";class qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uO(i,e,t,r=rO,o=aO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...sO,width:r.toString(),height:o.toString(),top:u,left:c},g=dn().toLowerCase();t&&(m=f1(g)?oO:t),c1(g)&&(e=e||lO,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[O,B])=>`${w}${O}=${B},`,"");if(NN(g)&&m!=="_self")return cO(e||"",m),new qb(null);const b=window.open(e||"",m,_);Te(b,i,"popup-blocked");try{b.focus()}catch{}return new qb(b)}function cO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="__/auth/handler",fO="emulator/auth/handler",dO=encodeURIComponent("fac");async function Hb(i,e,t,r,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:ro,eventId:o};if(e instanceof T1){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",QI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof kc){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${dO}=${encodeURIComponent(p)}`:"";return`${mO(i)}?${Dc(m).slice(1)}${g}`}function mO({config:i}){return i.emulator?Cy(i,fO):`https://${i.authDomain}/${hO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class pO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x1,this._completeRedirectFn=jD,this._overrideRedirectResult=PD}async _openPopup(e,t,r,o){var c;Bs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await Hb(e,t,r,Vg(),o);return uO(e,u,Oy())}async _openRedirect(e,t,r,o){await this._originValidation(e);const u=await Hb(e,t,r,Vg(),o);return _D(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Bs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await iO(e),r=new BD(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(og,{type:og},o=>{var c;const u=(c=o==null?void 0:o[0])==null?void 0:c[og];u!==void 0&&t(!!u),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return y1()||h1()||xy()}}const gO=pO;var Gb="@firebase/auth",Qb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vO(i){Ja(new Ib("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(i)},g=new PN(r,o,u,p);return QN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ja(new Ib("auth-internal",e=>{const t=ao(e.getProvider("auth").getImmediate());return(r=>new yO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Gb,Qb,_O(i)),ts(Gb,Qb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=300,bO=$S("authIdTokenMaxAge")||EO;let Kb=null;const TO=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>bO)return;const o=t==null?void 0:t.token;Kb!==o&&(Kb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SO(i=wy()){const e=Sd(i,"auth");if(e.isInitialized())return e.getImmediate();const t=GN(i,{popupRedirectResolver:gO,persistence:[CD,pD,x1]}),r=$S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=TO(u.toString());cD(t,c,()=>c(t.currentUser)),uD(t,m=>c(m))}}const o=QS("auth");return o&&KN(t,`http://${o}`),t}function AO(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}VN({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=ns("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",AO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vO("Browser");var wO="firebase",RO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(wO,RO,"app");let CO=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const IO={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},xO=He.INFO,NO={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},DO=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=NO[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OO{constructor(e){this.name=e,this._logLevel=xO,this._logHandler=DO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}var Yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,P1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(D,x,k){for(var I=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)I[Be-2]=arguments[Be];return S.prototype[x].apply(D,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);const D=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)D[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)D[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],x=N.g[2];let k=N.g[3],I;I=S+(k^C&(x^k))+D[0]+3614090360&4294967295,S=C+(I<<7&4294967295|I>>>25),I=k+(x^S&(C^x))+D[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(C^k&(S^C))+D[2]+606105819&4294967295,x=k+(I<<17&4294967295|I>>>15),I=C+(S^x&(k^S))+D[3]+3250441966&4294967295,C=x+(I<<22&4294967295|I>>>10),I=S+(k^C&(x^k))+D[4]+4118548399&4294967295,S=C+(I<<7&4294967295|I>>>25),I=k+(x^S&(C^x))+D[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(C^k&(S^C))+D[6]+2821735955&4294967295,x=k+(I<<17&4294967295|I>>>15),I=C+(S^x&(k^S))+D[7]+4249261313&4294967295,C=x+(I<<22&4294967295|I>>>10),I=S+(k^C&(x^k))+D[8]+1770035416&4294967295,S=C+(I<<7&4294967295|I>>>25),I=k+(x^S&(C^x))+D[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(C^k&(S^C))+D[10]+4294925233&4294967295,x=k+(I<<17&4294967295|I>>>15),I=C+(S^x&(k^S))+D[11]+2304563134&4294967295,C=x+(I<<22&4294967295|I>>>10),I=S+(k^C&(x^k))+D[12]+1804603682&4294967295,S=C+(I<<7&4294967295|I>>>25),I=k+(x^S&(C^x))+D[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(C^k&(S^C))+D[14]+2792965006&4294967295,x=k+(I<<17&4294967295|I>>>15),I=C+(S^x&(k^S))+D[15]+1236535329&4294967295,C=x+(I<<22&4294967295|I>>>10),I=S+(x^k&(C^x))+D[1]+4129170786&4294967295,S=C+(I<<5&4294967295|I>>>27),I=k+(C^x&(S^C))+D[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^C&(k^S))+D[11]+643717713&4294967295,x=k+(I<<14&4294967295|I>>>18),I=C+(k^S&(x^k))+D[0]+3921069994&4294967295,C=x+(I<<20&4294967295|I>>>12),I=S+(x^k&(C^x))+D[5]+3593408605&4294967295,S=C+(I<<5&4294967295|I>>>27),I=k+(C^x&(S^C))+D[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^C&(k^S))+D[15]+3634488961&4294967295,x=k+(I<<14&4294967295|I>>>18),I=C+(k^S&(x^k))+D[4]+3889429448&4294967295,C=x+(I<<20&4294967295|I>>>12),I=S+(x^k&(C^x))+D[9]+568446438&4294967295,S=C+(I<<5&4294967295|I>>>27),I=k+(C^x&(S^C))+D[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^C&(k^S))+D[3]+4107603335&4294967295,x=k+(I<<14&4294967295|I>>>18),I=C+(k^S&(x^k))+D[8]+1163531501&4294967295,C=x+(I<<20&4294967295|I>>>12),I=S+(x^k&(C^x))+D[13]+2850285829&4294967295,S=C+(I<<5&4294967295|I>>>27),I=k+(C^x&(S^C))+D[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^C&(k^S))+D[7]+1735328473&4294967295,x=k+(I<<14&4294967295|I>>>18),I=C+(k^S&(x^k))+D[12]+2368359562&4294967295,C=x+(I<<20&4294967295|I>>>12),I=S+(C^x^k)+D[5]+4294588738&4294967295,S=C+(I<<4&4294967295|I>>>28),I=k+(S^C^x)+D[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^C)+D[11]+1839030562&4294967295,x=k+(I<<16&4294967295|I>>>16),I=C+(x^k^S)+D[14]+4259657740&4294967295,C=x+(I<<23&4294967295|I>>>9),I=S+(C^x^k)+D[1]+2763975236&4294967295,S=C+(I<<4&4294967295|I>>>28),I=k+(S^C^x)+D[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^C)+D[7]+4139469664&4294967295,x=k+(I<<16&4294967295|I>>>16),I=C+(x^k^S)+D[10]+3200236656&4294967295,C=x+(I<<23&4294967295|I>>>9),I=S+(C^x^k)+D[13]+681279174&4294967295,S=C+(I<<4&4294967295|I>>>28),I=k+(S^C^x)+D[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^C)+D[3]+3572445317&4294967295,x=k+(I<<16&4294967295|I>>>16),I=C+(x^k^S)+D[6]+76029189&4294967295,C=x+(I<<23&4294967295|I>>>9),I=S+(C^x^k)+D[9]+3654602809&4294967295,S=C+(I<<4&4294967295|I>>>28),I=k+(S^C^x)+D[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^C)+D[15]+530742520&4294967295,x=k+(I<<16&4294967295|I>>>16),I=C+(x^k^S)+D[2]+3299628645&4294967295,C=x+(I<<23&4294967295|I>>>9),I=S+(x^(C|~k))+D[0]+4096336452&4294967295,S=C+(I<<6&4294967295|I>>>26),I=k+(C^(S|~x))+D[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~C))+D[14]+2878612391&4294967295,x=k+(I<<15&4294967295|I>>>17),I=C+(k^(x|~S))+D[5]+4237533241&4294967295,C=x+(I<<21&4294967295|I>>>11),I=S+(x^(C|~k))+D[12]+1700485571&4294967295,S=C+(I<<6&4294967295|I>>>26),I=k+(C^(S|~x))+D[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~C))+D[10]+4293915773&4294967295,x=k+(I<<15&4294967295|I>>>17),I=C+(k^(x|~S))+D[1]+2240044497&4294967295,C=x+(I<<21&4294967295|I>>>11),I=S+(x^(C|~k))+D[8]+1873313359&4294967295,S=C+(I<<6&4294967295|I>>>26),I=k+(C^(S|~x))+D[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~C))+D[6]+2734768916&4294967295,x=k+(I<<15&4294967295|I>>>17),I=C+(k^(x|~S))+D[13]+1309151649&4294967295,C=x+(I<<21&4294967295|I>>>11),I=S+(x^(C|~k))+D[4]+4149444226&4294967295,S=C+(I<<6&4294967295|I>>>26),I=k+(C^(S|~x))+D[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~C))+D[2]+718787259&4294967295,x=k+(I<<15&4294967295|I>>>17),I=C+(k^(x|~S))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,D=this.C;let x=this.h,k=0;for(;k<S;){if(x==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(D[x++]=N.charCodeAt(k++),x==this.blockSize){o(this,D),x=0;break}}else for(;k<S;)if(D[x++]=N[k++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)N[S++]=this.g[C]>>>D&255;return N};function u(N,S){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function c(N,S){this.h=S;const C=[];let D=!0;for(let x=N.length-1;x>=0;x--){const k=N[x]|0;D&&k==S||(C[x]=k,D=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(S){return new c([S|0],S<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return V(g(-N));const S=[];let C=1;for(let D=0;N>=C;D++)S[D]=N/C|0,C*=4294967296;return new c(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return V(_(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let D=b;for(let k=0;k<N.length;k+=8){var x=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+x),S);x<8?(x=g(Math.pow(S,x)),D=D.j(x).add(g(I))):(D=D.j(C),D=D.add(g(I)))}return D}var b=p(0),w=p(1),O=p(16777216);i=c.prototype,i.m=function(){if(j(this))return-V(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);N+=(D>=0?D:4294967296+D)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(B(this))return"0";if(j(this))return"-"+V(this).toString(N);const S=g(Math.pow(N,6));var C=this;let D="";for(;;){const x=ae(C,S).g;C=X(C,x.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=x,B(C))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function B(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function j(N){return N.h==-1}i.l=function(N){return N=X(this,N),j(N)?-1:B(N)?0:1};function V(N){const S=N.g.length,C=[];for(let D=0;D<S;D++)C[D]=~N.g[D];return new c(C,~N.h).add(w)}i.abs=function(){return j(this)?V(this):this},i.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let D=0;for(let x=0;x<=S;x++){let k=D+(this.i(x)&65535)+(N.i(x)&65535),I=(k>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);D=I>>>16,k&=65535,I&=65535,C[x]=I<<16|k}return new c(C,C[C.length-1]&-2147483648?-1:0)};function X(N,S){return N.add(V(S))}i.j=function(N){if(B(this)||B(N))return b;if(j(this))return j(N)?V(this).j(V(N)):V(V(this).j(N));if(j(N))return V(this.j(V(N)));if(this.l(O)<0&&N.l(O)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<N.g.length;x++){const k=this.i(D)>>>16,I=this.i(D)&65535,Be=N.i(x)>>>16,Bt=N.i(x)&65535;C[2*D+2*x]+=I*Bt,se(C,2*D+2*x),C[2*D+2*x+1]+=k*Bt,se(C,2*D+2*x+1),C[2*D+2*x+1]+=I*Be,se(C,2*D+2*x+1),C[2*D+2*x+2]+=k*Be,se(C,2*D+2*x+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new c(C,0)};function se(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function $(N,S){this.g=N,this.h=S}function ae(N,S){if(B(S))throw Error("division by zero");if(B(N))return new $(b,b);if(j(N))return S=ae(V(N),S),new $(V(S.g),V(S.h));if(j(S))return S=ae(N,V(S)),new $(V(S.g),S.h);if(N.g.length>30){if(j(N)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var C=w,D=S;D.l(N)<=0;)C=re(C),D=re(D);var x=me(C,1),k=me(D,1);for(D=me(D,2),C=me(C,2);!B(D);){var I=k.add(D);I.l(N)<=0&&(x=x.add(C),k=I),D=me(D,1),C=me(C,1)}return S=X(N,x.j(S)),new $(x,S)}for(x=b;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=g(C),I=k.j(S);j(I)||I.l(N)>0;)C-=D,k=g(C),I=k.j(S);B(k)&&(k=w),x=x.add(k),N=X(N,I)}return new $(x,N)}i.B=function(N){return ae(this,N).h},i.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)&N.i(D);return new c(C,this.h&N.h)},i.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)|N.i(D);return new c(C,this.h|N.h)},i.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)^N.i(D);return new c(C,this.h^N.h)};function re(N){const S=N.g.length+1,C=[];for(let D=0;D<S;D++)C[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(C,N.h)}function me(N,S){const C=S>>5;S%=32;const D=N.g.length-C,x=[];for(let k=0;k<D;k++)x[k]=S>0?N.i(k+C)>>>S|N.i(k+C+1)<<32-S:N.i(k+C);return new c(x,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,P1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,qr=c}).apply(typeof Yb<"u"?Yb:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V1,ec,U1,Ff,Bg,j1,z1,B1;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(h,y){if(y)e:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in E))break e;E=E[F]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,F,K){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return y.prototype[F].apply(A,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function B(h,y){for(let A=1;A<arguments.length;A++){const F=arguments[A];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const K=F.length||0;h.length=E+K;for(let oe=0;oe<K;oe++)h[E+oe]=F[oe]}else h.push(F)}}class j{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(h){c.setTimeout(()=>{throw h},0)}function X(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,E){const A=$.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new j(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,me=!1,N=new se,S=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(C)}};function C(){for(var h;h=X();){try{h.h.call(h.g)}catch(E){V(E)}var y=$;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}me=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Be(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(Be,x),Be.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Bt="closure_listenable_"+(Math.random()*1e6|0),J=0;function le(h,y,E,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=F,this.key=++J,this.da=this.fa=!1}function Ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ge(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function Je(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function U(h){const y={};for(const E in h)y[E]=h[E];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)h[E]=A[E];for(let K=0;K<ne.length;K++)E=ne[K],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,y,E,A,F){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const oe=Ne(h,y,A,F);return oe>-1?(y=h[oe],E||(y.fa=!1)):(y=new le(y,this.src,K,!!A,F),y.fa=E,h.push(y)),y};function Ae(h,y){const E=y.type;if(E in h.g){var A=h.g[E],F=Array.prototype.indexOf.call(A,y,void 0),K;(K=F>=0)&&Array.prototype.splice.call(A,F,1),K&&(Ee(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ne(h,y,E,A){for(let F=0;F<h.length;++F){const K=h[F];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==A)return F}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ft={};function dt(h,y,E,A,F){if(Array.isArray(y)){for(let K=0;K<y.length;K++)dt(h,y[K],E,A,F);return null}return E=Fl(E),h&&h[Bt]?h.J(y,E,m(A)?!!A.capture:!1,F):sa(h,y,E,!1,A,F)}function sa(h,y,E,A,F,K){if(!y)throw Error("Invalid event type");const oe=m(F)?!!F.capture:!!F;let Ie=ra(h);if(Ie||(h[Fe]=Ie=new de(h)),E=Ie.add(y,E,A,oe,K),E.proxy)return E;if(A=co(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)k||(F=oe),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(Ii(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function co(){function h(E){return y.call(h.src,h.listener,E)}const y=zl;return h}function ho(h,y,E,A,F){if(Array.isArray(y))for(var K=0;K<y.length;K++)ho(h,y[K],E,A,F);else A=m(A)?!!A.capture:!!A,E=Fl(E),h&&h[Bt]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],E=Ne(y,E,A,F),E>-1&&(Ee(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=ra(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ne(y,E,A,F)),(E=h>-1?y[h]:null)&&fo(E))}function fo(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Bt])Ae(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(Ii(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=ra(y))?(Ae(E,h),E.h==0&&(E.src=null,y[Fe]=null)):Ee(h)}}}function Ii(h){return h in Ft?Ft[h]:Ft[h]="on"+h}function zl(h,y){if(h.da)h=!0;else{y=new Be(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&fo(h),h=E.call(A,y)}return h}function ra(h){return h=h[Fe],h instanceof de?h:null}var Bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fl(h){return typeof h=="function"?h:(h[Bl]||(h[Bl]=function(y){return h.handleEvent(y)}),h[Bl])}function xt(){D.call(this),this.i=new de(this),this.M=this,this.G=null}b(xt,D),xt.prototype[Bt]=!0,xt.prototype.removeEventListener=function(h,y,E,A){ho(this,h,y,E,A)};function qt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var F=y;y=new x(A,h),ue(y,F)}F=!0;let K,oe;if(E)for(oe=E.length-1;oe>=0;oe--)K=y.g=E[oe],F=Hs(K,A,!0,y)&&F;if(K=y.g=h,F=Hs(K,A,!0,y)&&F,F=Hs(K,A,!1,y)&&F,E)for(oe=0;oe<E.length;oe++)K=y.g=E[oe],F=Hs(K,A,!1,y)&&F}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)Ee(E[A]);delete h.g[y],h.h--}}this.G=null},xt.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},xt.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Hs(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let K=0;K<y.length;++K){const oe=y[K];if(oe&&!oe.da&&oe.capture==E){const Ie=oe.listener,wt=oe.ha||oe.src;oe.fa&&Ae(h.i,oe),F=Ie.call(wt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Kd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function qc(h){h.g=Kd(()=>{h.g=null,h.i&&(h.i=!1,qc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class mn extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(h){D.call(this),this.h=h,this.g={}}b(aa,D);var ql=[];function Hl(h){Ge(h.g,function(y,E){this.g.hasOwnProperty(E)&&fo(y)},h),h.g={}}aa.prototype.N=function(){aa.Z.N.call(this),Hl(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=c.JSON.stringify,Yd=c.JSON.parse,Hc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Gc(){}function Qc(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){x.call(this,"d")}b(Zt,x);function Hn(){x.call(this,"c")}b(Hn,x);var At={},Kc=null;function mo(){return Kc=Kc||new xt}At.Ia="serverreachability";function Yc(h){x.call(this,At.Ia,h)}b(Yc,x);function xi(h){const y=mo();qt(y,new Yc(y))}At.STAT_EVENT="statevent";function oa(h,y){x.call(this,At.STAT_EVENT,h),this.stat=y}b(oa,x);function Nt(h){const y=mo();qt(y,new oa(y,h))}At.Ja="timingevent";function Ni(h,y){x.call(this,At.Ja,h),this.size=y}b(Ni,x);function Di(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function $d(h,y,E,A,F,K){h.info(function(){if(h.g)if(K){var oe="",Ie=K.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var wt=Ie[Ye].split("=");if(wt.length>1){const mt=wt[0];wt=wt[1];const Yn=mt.split("_");oe=Yn.length>=2&&Yn[1]=="type"?oe+(mt+"="+wt+"&"):oe+(mt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+E+`
`+oe})}function $c(h,y,E,A,F,K,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+E+`
`+K+" "+oe})}function Oi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xd(h,E)+(A?" "+A:"")})}function la(h,y){h.info(function(){return"TIMEOUT: "+y})}oi.prototype.info=function(){};function Xd(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Gs(K)}catch{return y}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ql;function ca(){}b(ca,Gc),ca.prototype.g=function(){return new XMLHttpRequest},Ql=new ca;function cs(h){return encodeURIComponent(String(h))}function Xc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function li(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Dt={},Yt={};function Mi(h,y,E){h.M=1,h.A=ha(Mt(y)),h.u=E,h.R=!0,po(h,null)}function po(h,y){h.F=Date.now(),ki(h),h.B=Mt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),vo(E.i,"t",A),h.C=0,E=h.j.L,h.h=new ui,h.g=hh(h.j,E?y:null,!h.u),h.P>0&&(h.O=new mn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(ql[0]=F.toString()),F=ql);for(let K=0;K<F.length;K++){const oe=dt(E,F[K],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),xi(),$d(h.i,h.v,h.B,h.l,h.S,h.u)}li.prototype.ba=function(h){h=h.target;const y=this.O;y&&fi(h)==3?y.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=fi(this.g),wt=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ie!=4||wt==7||(wt==8||Ye<=0?xi(3):xi(2)),Li(this);var y=this.g.ca();this.X=y;var E=Wd(this);if(this.o=y==200,$c(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var K=A;break t}}K=null}if(h=K)Oi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pi(this,h);else{this.o=!1,this.m=3,Nt(12),On(this),Gn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<E.length;)if(mt=Jc(this,E),mt==Yt){Ie==4&&(this.m=4,Nt(14),h=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Dt){this.m=4,Nt(15),Oi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Oi(this.i,this.l,mt,null),Pi(this,mt);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)Oi(this.i,this.l,E,"[Invalid Chunked Response]"),On(this),Gn(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ou(oe),oe.P=!0,Nt(11))}}else Oi(this.i,this.l,E,null),Pi(this,E);Ie==4&&On(this),this.o&&!this.K&&(Ie==4?oh(this.j,this):(this.o=!1,ki(this)))}else fs(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),On(this),Gn(this)}}}catch{}finally{}};function Wd(h){if(!Wc(h))return h.g.la();const y=en(h.g);if(y==="")return"";let E="";const A=y.length,F=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return On(h),Gn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<A;K++)h.h.h=!0,E+=h.h.i.decode(y[K],{stream:!(F&&K==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Jc(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Yt:(E=Number(y.substring(E,A)),isNaN(E)?Dt:(A+=1,A+E>y.length?Yt:(y=y.slice(A,A+E),h.C=A+E,y)))}li.prototype.cancel=function(){this.K=!0,On(this)};function ki(h){h.T=Date.now()+h.H,go(h,h.H)}function go(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Di(g(h.aa,h),y)}function Li(h){h.D&&(c.clearTimeout(h.D),h.D=null)}li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(la(this.i,this.B),this.M!=2&&(xi(),Nt(17)),On(this),this.m=2,Gn(this)):go(this,this.T-h)};function Gn(h){h.j.I==0||h.K||oh(h.j,h)}function On(h){Li(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Hl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Pi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ui(E.h,h))){if(!h.L&&Ui(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ao(E),Zs(E);else break e;_a(E),Nt(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Di(g(E.Va,E),6e3));Vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hi(E,11)}else if((h.L||E.g==h)&&Ao(E),!I(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let Ye=F[y];const mt=Ye[0];if(!(mt<=E.K))if(E.K=mt,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Yn=Ye[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const Gi=Ye[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const di=Ye[5];di!=null&&typeof di=="number"&&di>0&&(A=1.5*di,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const mi=h.g;if(mi){const va=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var K=A.h;K.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&($l(K,K.h),K.h=null))}if(A.G){const wo=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(A.wa=wo,Ze(A.J,A.G,wo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var oe=h;if(A.na=ch(A,A.L?A.ba:null,A.W),oe.L){Xl(A.h,oe);var Ie=oe,wt=A.O;wt&&(Ie.H=wt),Ie.D&&(Li(Ie),ki(Ie)),A.g=oe}else rh(A);E.i.length>0&&qi(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Hi(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Hi(E,7):ru(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}xi(4)}catch{}}var Ot=class{constructor(h,y){this.g=h,this.map=y}};function Kl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function Ui(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function $l(h,y){h.g?h.g.add(y):h.h=y}function Xl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Kl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return O(h.i)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let F,K=null;A>=0?(F=h[E].substring(0,A),K=h[E].substring(A+1)):F=h[E],y(F,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Mn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,Qs(this,h.u),this.h=h.h,Jl(this,ih(h.i)),this.m=h.m):h&&(y=String(h).match(Zc))?(this.l=!1,$t(this,y[1]||"",!0),this.o=ji(y[2]||""),this.g=ji(y[3]||"",!0),Qs(this,y[4]),this.h=ji(y[5]||"",!0),Jl(this,y[6]||"",!0),this.m=ji(y[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Mn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(fa(y,_o,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(fa(y,_o,!0),"@"),h.push(cs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(fa(E,E.charAt(0)=="/"?Zl:eh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",fa(E,th)),h.join("")},Mn.prototype.resolve=function(h){const y=Mt(this);let E=!!h.j;E?$t(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Qs(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=y.h.lastIndexOf("/");F!=-1&&(A=y.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const K=[];for(let oe=0;oe<F.length;){const Ie=F[oe++];Ie=="."?A&&oe==F.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&oe==F.length&&K.push("")):(K.push(Ie),A=!0)}A=K.join("/")}else A=F}return E?y.h=A:E=h.i.toString()!=="",E?Jl(y,ih(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Mt(h){return new Mn(h)}function $t(h,y,E){h.j=E?ji(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Qs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Jl(h,y,E){y instanceof Ys?(h.i=y,Eo(h.i,h.l)):(E||(y=fa(y,Ks)),h.i=new Ys(y,h.l))}function Ze(h,y,E){h.i.set(y,E)}function ha(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fa(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,bn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _o=/[#\/\?@]/g,eh=/[#\?:]/g,Zl=/[#\?]/g,Ks=/[#\?@]/g,th=/#/g;function Ys(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&yo(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Ys.prototype,i.add=function(h,y){Tn(this),this.i=null,h=$s(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function nh(h,y){Tn(h),y=$s(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function eu(h,y){return Tn(h),y=$s(h,y),h.g.has(y)}i.forEach=function(h,y){Tn(this),this.g.forEach(function(E,A){E.forEach(function(F){h.call(y,F,A,this)},this)},this)};function tu(h,y){Tn(h);let E=[];if(typeof y=="string")eu(h,y)&&(E=E.concat(h.g.get($s(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return Tn(this),this.i=null,h=$s(this,h),eu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=tu(this,h),h.length>0?String(h[0]):y):y};function vo(h,y,E){nh(h,y),E.length>0&&(h.i=null,h.g.set($s(h,y),O(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const F=cs(E);E=tu(this,E);for(let K=0;K<E.length;K++){let oe=F;E[K]!==""&&(oe+="="+cs(E[K])),h.push(oe)}}return this.i=h.join("&")};function ih(h){const y=new Ys;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function $s(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Eo(h,y){y&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(E,A){const F=A.toLowerCase();A!=F&&(nh(this,A),vo(this,F,E))},h)),h.j=y}function ci(h,y){const E=new oi;if(c.Image){const A=new Image;A.onload=_(Qn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Qn,E,"TestLoadImage: error",!1,y,A),A.onabort=_(Qn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Qn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function nu(h,y){const E=new oi,A=new AbortController,F=setTimeout(()=>{A.abort(),Qn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(K=>{clearTimeout(F),K.ok?Qn(E,"TestPingServer: ok",!0,y):Qn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Qn(E,"TestPingServer: error",!1,y)})}function Qn(h,y,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Xs(){this.g=new Hc}function zi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(zi,Gc),zi.prototype.g=function(){return new da(this.i,this.h)};function da(h,y){xt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(da,xt),i=da.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,hi(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ws(this):hi(this),this.readyState==3&&bo(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ws(this))},i.Na=function(h){this.g&&(this.response=h,Ws(this))},i.ga=function(){this.g&&Ws(this)};function Ws(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let y="";return Ge(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ma(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Kn(E),typeof h=="string"?E!=null&&cs(E):Ze(h,y,E))}function nt(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,xt);var Bi=/^https?$/i,iu=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ql.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){pa(this,K);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(iu,y,void 0)>=0)||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of E)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){pa(this,K)}};function pa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,su(h),hs(h)}function su(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qt(this,"complete"),qt(this,"abort"),hs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},i.Xa=function(){ga(this)};function ga(h){if(h.h&&typeof u<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(qt(h,"readystatechange"),fi(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=K===0){let oe=String(h.D).match(Zc)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),A=!Bi.test(oe?oe.toLowerCase():"")}E=A}if(E)qt(h,"complete"),qt(h,"success");else{h.o=6;try{var F=fi(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",su(h)}}finally{hs(h)}}}}function hs(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||qt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}i.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Yd(y)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const y={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var E=Xc(h[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[F]||[];y[F]=K,K.push(E)}Je(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Js(h){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(h&&h.concurrentRequestLimit),this.Ba=new Xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Js.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){Nt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ch(this,null,this.W),qi(this)};function ru(h){if(To(h),h.I==3){var y=h.V++,E=Mt(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",y),Ze(E,"TYPE","terminate"),ya(h,E),y=new li(h,h.j,y),y.M=2,y.A=ha(Mt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=hh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ki(y)}uh(h)}function Zs(h){h.g&&(ou(h),h.g.cancel(),h.g=null)}function To(h){Zs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function qi(h){if(!Yl(h.h)&&!h.m){h.m=!0;var y=h.Ea;re||S(),me||(re(),me=!0),N.add(y,h),h.D=0}}function So(h,y){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Di(g(h.Ea,h,y),lh(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new li(this,this.j,h);let K=this.o;if(this.U&&(K?(K=U(K),ue(K,this.U)):K=this.U),this.u!==null||this.R||(F.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=sh(this,F,y),E=Mt(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),ya(this,E),K&&(this.R?y="headers="+cs(Kn(K))+"&"+y:this.u&&ma(E,this.u,K)),$l(this.h,F),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",y),Ze(E,"SID","null"),F.U=!0,Mi(F,E,null)):Mi(F,E,y),this.I=2}}else this.I==3&&(h?au(this,h):this.i.length==0||Yl(this.h)||au(this))};function au(h,y){var E;y?E=y.l:E=h.V++;const A=Mt(h.J);Ze(A,"SID",h.M),Ze(A,"RID",E),Ze(A,"AID",h.K),ya(h,A),h.u&&h.o&&ma(A,h.u,h.o),E=new li(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=sh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),$l(h.h,E),Mi(E,A,y)}function ya(h,y){h.H&&Ge(h.H,function(E,A){Ze(y,A,E)}),h.l&&Ge({},function(E,A){Ze(y,A,E)})}function sh(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ie=-1;for(;;){const wt=["count="+E];Ie==-1?E>0?(Ie=F[0].g,wt.push("ofs="+Ie)):Ie=0:wt.push("ofs="+Ie);let Ye=!0;for(let mt=0;mt<E;mt++){var K=F[mt].g;const Yn=F[mt].map;if(K-=Ie,K<0)Ie=Math.max(0,F[mt].g-100),Ye=!1;else try{K="req"+K+"_"||"";try{var oe=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Gi,di]of oe){let mi=di;m(di)&&(mi=Gs(di)),wt.push(K+Gi+"="+encodeURIComponent(mi))}}catch(Gi){throw wt.push(K+"type="+encodeURIComponent("_badmap")),Gi}}catch{A&&A(Yn)}}if(Ye){oe=wt.join("&");break e}}oe=void 0}return h=h.i.splice(0,E),y.G=h,oe}function rh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;re||S(),me||(re(),me=!0),N.add(y,h),h.A=0}}function _a(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Di(g(h.Da,h),lh(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,ah(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Di(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Zs(this),ah(this))};function ou(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ah(h){h.g=new li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Mt(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),ya(h,y),h.u&&h.o&&ma(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ha(Mt(y)),E.u=null,E.R=!0,po(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Zs(this),_a(this),Nt(19))};function Ao(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function oh(h,y){var E=null;if(h.g==y){Ao(h),ou(h),h.g=null;var A=2}else if(Ui(h.h,y))E=y.G,Xl(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;A=mo(),qt(A,new Ni(A,E)),qi(h)}else rh(h);else if(F=y.m,F==3||F==0&&y.X>0||!(A==1&&So(h,y)||A==2&&_a(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),F){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function lh(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Hi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const F=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(A,"https"),ha(A),F?ci(A.toString(),E):nu(A.toString(),E)}else Nt(2);h.I=0,h.l&&h.l.pa(y),uh(h),To(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const y=Wl(h.h);(y.length!=0||h.i.length!=0)&&(B(h.ja,y),B(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function ch(h,y,E){var A=E instanceof Mn?Mt(E):new Mn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Qs(A,A.u);else{var F=c.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const K=new Mn(null);A&&$t(K,A),y&&(K.g=y),F&&Qs(K,F),E&&(K.h=E),A=K}return E=h.G,y=h.wa,E&&y&&Ze(A,E,y),Ze(A,"VER",h.ka),ya(h,A),A}function hh(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new nt(new zi({ab:E})):new nt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}i=fh.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function er(){}er.prototype.g=function(h,y){return new pn(h,y)};function pn(h,y){xt.call(this),this.g=new Js(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ds(this)}b(pn,xt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ru(this.g)},pn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Gs(h),h=E);y.i.push(new Ot(y.Ya++,h)),y.I==3&&qi(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,pn.Z.N.call(this)};function dh(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(dh,Zt);function mh(){Hn.call(this),this.status=1}b(mh,Hn);function ds(h){this.g=h}b(ds,fh),ds.prototype.ra=function(){qt(this.g,"a")},ds.prototype.qa=function(h){qt(this.g,new dh(h))},ds.prototype.pa=function(h){qt(this.g,new mh)},ds.prototype.oa=function(){qt(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,B1=function(){return new er},z1=function(){return mo()},j1=At,Bg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,Ff=ua,Gl.COMPLETE="complete",U1=Gl,Qc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",xt.prototype.listen=xt.prototype.J,ec=Qc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,V1=nt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const $b="@firebase/firestore",Xb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new OO("@firebase/firestore");function tl(){return to.logLevel}function fe(i,...e){if(to.logLevel<=He.DEBUG){const t=e.map(ky);to.debug(`Firestore (${Ll}): ${i}`,...t)}}function Fs(i,...e){if(to.logLevel<=He.ERROR){const t=e.map(ky);to.error(`Firestore (${Ll}): ${i}`,...t)}}function Al(i,...e){if(to.logLevel<=He.WARN){const t=e.map(ky);to.warn(`Firestore (${Ll}): ${i}`,...t)}}function ky(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,F1(i,r,t)}function F1(i,e,t){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Fs(r),new Error(r)}function We(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||F1(e,o,r)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends us{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class kO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LO{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new q1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class PO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new PO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const r=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jO(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%62))}return r}}function Ve(i,e){return i<e?-1:i>e?1:0}function Fg(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return lg(o)===lg(u)?Ve(o,u):lg(o)?1:-1}return Ve(i.length,e.length)}const zO=55296,BO=57343;function lg(i){const e=i.charCodeAt(0);return e>=zO&&e<=BO}function wl(i,e,t){return i.length===e.length&&i.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="__name__";class Xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=Xi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Xi.isNumericId(e),o=Xi.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Xi.extractNumericId(e).compare(Xi.extractNumericId(t)):Fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class lt extends Xi{construct(e,t,r){return new lt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const FO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Xi{construct(e,t,r){return new on(e,t,r)}static isValidIdentifier(e){return FO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jb}static keyField(){return new on([Jb])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(lt.fromString(e))}static fromName(e){return new ve(lt.fromString(e).popFirst(5))}static empty(){return new ve(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(i,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qO(i,e,t,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Zb(i){if(!ve.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eT(i){if(ve.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function G1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Cd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function no(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cd(i);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pc(i,e){if(!G1(i))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=-62135596800,nT=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nT);return new ft(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tT)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:zt("string",ft._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ft(0,0))}static max(){return new we(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function HO(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Qr(o,ve.empty(),e)}function GO(i){return new Qr(i.readTime,i.key,pc)}class Qr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qr(we.min(),ve.empty(),pc)}static max(){return new Qr(we.max(),ve.empty(),pc)}}function QO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==KO)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>r(p)))})),c=!0,u===o&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((o=>o?ie.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,u)=>{r.push(t.call(this,o,u))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++m,m===u&&r(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ie(((r,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):r()};u()}))}}function $O(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Id.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-1;function xd(i){return i==null}function ad(i){return i===0&&1/i==-1/0}function XO(i){return typeof i=="number"&&Number.isInteger(i)&&!ad(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function WO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=iT(e)),e=JO(i.get(t),e);return iT(e)}function JO(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Q1:t+="";break;default:t+=u}}return t}function iT(i){return i+Q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function na(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function K1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new an(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,o,u){return this}insert(e,t,r){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Kt(on.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Y1("Invalid base64 string: "+u):u}})(e);return new ln(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const ZO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(We(!!i,39018),typeof i=="string"){let e=0;const t=ZO.exec(i);if(We(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yr(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="server_timestamp",X1="__type__",W1="__previous_value__",J1="__local_write_time__";function Vy(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[X1])==null?void 0:r.stringValue)===$1}function Nd(i){const e=i.mapValue.fields[W1];return Vy(e)?Nd(e):e}function gc(i){const e=Kr(i.mapValue.fields[J1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t,r,o,u,c,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const od="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||od}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="__type__",t4="__max__",wf={mapValue:{}},eA="__vector__",ld="value";function $r(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vy(i)?4:i4(i)?9007199254740991:n4(i)?10:11:Se(28295,{value:i})}function ls(i,e){if(i===e)return!0;const t=$r(i);if(t!==$r(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gc(i).isEqual(gc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Kr(o.timestampValue),m=Kr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return It(o.geoPointValue.latitude)===It(u.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return It(o.integerValue)===It(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=It(o.doubleValue),m=It(u.doubleValue);return c===m?ad(c)===ad(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return wl(i.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sT(c)!==sT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!ls(c[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function _c(i,e){return(i.values||[]).find((t=>ls(t,e)))!==void 0}function Rl(i,e){if(i===e)return 0;const t=$r(i),r=$r(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=It(u.integerValue||u.doubleValue),p=It(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return aT(i.timestampValue,e.timestampValue);case 4:return aT(gc(i),gc(e));case 5:return Fg(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Yr(u),p=Yr(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ve(m[g],p[g]);if(_!==0)return _}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ve(It(u.latitude),It(c.latitude));return m!==0?m:Ve(It(u.longitude),It(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return oT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){var w,O,B,j;const m=u.fields||{},p=c.fields||{},g=(w=m[ld])==null?void 0:w.arrayValue,_=(O=p[ld])==null?void 0:O.arrayValue,b=Ve(((B=g==null?void 0:g.values)==null?void 0:B.length)||0,((j=_==null?void 0:_.values)==null?void 0:j.length)||0);return b!==0?b:oT(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===wf.mapValue&&c===wf.mapValue)return 0;if(u===wf.mapValue)return 1;if(c===wf.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const w=Fg(p[b],_[b]);if(w!==0)return w;const O=Rl(m[p[b]],g[_[b]]);if(O!==0)return O}return Ve(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function aT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=Kr(i),r=Kr(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function oT(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const u=Rl(t[o],r[o]);if(u)return u}return Ve(t.length,r.length)}function Cl(i){return qg(i)}function qg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Kr(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Yr(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ve.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",o=!0;for(const u of t.values||[])o?o=!1:r+=",",r+=qg(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${qg(t.fields[c])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function qf(i){switch($r(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(i);return e?16+qf(e):16;case 5:return 2*i.stringValue.length;case 6:return Yr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+qf(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return na(r.fields,((u,c)=>{o+=u.length+qf(c)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function lT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Hg(i){return!!i&&"integerValue"in i}function Uy(i){return!!i&&"arrayValue"in i}function uT(i){return!!i&&"nullValue"in i}function cT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Hf(i){return!!i&&"mapValue"in i}function n4(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[Z1])==null?void 0:r.stringValue)===eA}function rc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return na(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=rc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rc(i.arrayValue.values[t]);return e}return{...i}}function i4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===t4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(t)}setAll(e){let t=on.emptyPath(),r={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=m.popLast()}c?r[m.lastSegment()]=rc(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Hf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){na(t,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Dn(rc(this.value))}}function tA(i){const e=[];return na(i.fields,((t,r)=>{const o=new on([t]);if(Hf(r)){const u=tA(r.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,r,o,u,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,we.min(),we.min(),we.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,o){return new fn(e,1,t,we.min(),r,o,0)}static newNoDocument(e,t){return new fn(e,2,t,we.min(),we.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,we.min(),we.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this.position=e,this.inclusive=t}}function hT(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?r=ve.comparator(ve.fromName(c.referenceValue),t.key):r=Rl(c,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function fT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ls(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function s4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{}class jt extends nA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new a4(e,t,r):t==="array-contains"?new u4(e,r):t==="in"?new c4(e,r):t==="not-in"?new h4(e,r):t==="array-contains-any"?new f4(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new o4(e,r):new l4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Rl(t,this.value)):t!==null&&$r(this.value)===$r(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends nA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wi(e,t)}matches(e){return iA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iA(i){return i.op==="and"}function sA(i){return r4(i)&&iA(i)}function r4(i){for(const e of i.filters)if(e instanceof wi)return!1;return!0}function Gg(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Cl(i.value);if(sA(i))return i.filters.map((e=>Gg(e))).join(",");{const e=i.filters.map((t=>Gg(t))).join(",");return`${i.op}(${e})`}}function rA(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&ls(r.value,o.value)})(i,e):i instanceof wi?(function(r,o){return o instanceof wi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&rA(c,o.filters[m])),!0):!1})(i,e):void Se(19439)}function aA(i){return i instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cl(t.value)}`})(i):i instanceof wi?(function(t){return t.op.toString()+" {"+t.getFilters().map(aA).join(" ,")+"}"})(i):"Filter"}class a4 extends jt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class o4 extends jt{constructor(e,t){super(e,"in",t),this.keys=oA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class l4 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=oA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oA(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class u4 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uy(t)&&_c(t.arrayValue,this.value)}}class c4 extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class h4 extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_c(this.value.arrayValue,t)}}class f4 extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t=null,r=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function dT(i,e=null,t=[],r=[],o=null,u=null,c=null){return new d4(i,e,t,r,o,u,c)}function jy(i){const e=Ce(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Gg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Cl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Cl(r))).join(",")),e.Te=t}return e.Te}function zy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!s4(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!rA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!fT(i.startAt,e.startAt)&&fT(i.endAt,e.endAt)}function Qg(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m4(i,e,t,r,o,u,c,m){return new Ul(i,e,t,r,o,u,c,m)}function lA(i){return new Ul(i)}function mT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function uA(i){return i.collectionGroup!==null}function ac(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Kt(on.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new vc(u,r))})),t.has(on.keyField().canonicalString())||e.Ie.push(new vc(on.keyField(),r))}return e.Ie}function ss(i){const e=Ce(i);return e.Ee||(e.Ee=p4(e,ac(i))),e.Ee}function p4(i,e){if(i.limitType==="F")return dT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new vc(o.field,u)}));const t=i.endAt?new ud(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new ud(i.startAt.position,i.startAt.inclusive):null;return dT(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Kg(i,e){const t=i.filters.concat([e]);return new Ul(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Yg(i,e,t){return new Ul(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Dd(i,e){return zy(ss(i),ss(e))&&i.limitType===e.limitType}function cA(i){return`${jy(ss(i))}|lt:${i.limitType}`}function nl(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>aA(o))).join(", ")}]`),xd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Cl(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Cl(o))).join(",")),`Target(${r})`})(ss(i))}; limitType=${i.limitType})`}function Od(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ve.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of ac(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=hT(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,ac(r),o)||r.endAt&&!(function(c,m,p){const g=hT(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,ac(r),o))})(i,e)}function g4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hA(i){return(e,t)=>{let r=!1;for(const o of ac(i)){const u=y4(o,e,t);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function y4(i,e,t){const r=i.field.isKeyField()?ve.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Rl(p,g):Se(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((t,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return K1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new _t(ve.comparator);function qs(){return _4}const fA=new _t(ve.comparator);function tc(...i){let e=fA;for(const t of i)e=e.insert(t.key,t);return e}function dA(i){let e=fA;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ua(){return oc()}function mA(){return oc()}function oc(){return new oo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const v4=new _t(ve.comparator),E4=new Kt(ve.comparator);function Ue(...i){let e=E4;for(const t of i)e=e.add(t);return e}const b4=new Kt(Ve);function T4(){return b4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function pA(i){return{integerValue:""+i}}function S4(i,e){return XO(e)?pA(e):By(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function A4(i,e,t){return i instanceof Ec?(function(o,u){const c={fields:{[X1]:{stringValue:$1},[J1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vy(u)&&(u=Nd(u)),u&&(c.fields[W1]=u),{mapValue:c}})(t,e):i instanceof bc?yA(i,e):i instanceof Tc?_A(i,e):(function(o,u){const c=gA(o,u),m=pT(c)+pT(o.Ae);return Hg(c)&&Hg(o.Ae)?pA(m):By(o.serializer,m)})(i,e)}function w4(i,e,t){return i instanceof bc?yA(i,e):i instanceof Tc?_A(i,e):t}function gA(i,e){return i instanceof cd?(function(r){return Hg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Ec extends Md{}class bc extends Md{constructor(e){super(),this.elements=e}}function yA(i,e){const t=vA(e);for(const r of i.elements)t.some((o=>ls(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Tc extends Md{constructor(e){super(),this.elements=e}}function _A(i,e){let t=vA(e);for(const r of i.elements)t=t.filter((o=>!ls(o,r)));return{arrayValue:{values:t}}}class cd extends Md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function pT(i){return It(i.integerValue||i.doubleValue)}function vA(i){return Uy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t){this.field=e,this.transform=t}}function C4(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof bc&&o instanceof bc||r instanceof Tc&&o instanceof Tc?wl(r.elements,o.elements,ls):r instanceof cd&&o instanceof cd?ls(r.Ae,o.Ae):r instanceof Ec&&o instanceof Ec})(i.transform,e.transform)}class I4{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class kd{}function EA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Fy(i.key,Ti.none()):new Vc(i.key,i.data,Ti.none());{const t=i.data,r=Dn.empty();let o=new Kt(on.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ia(i.key,r,new Fn(o.toArray()),Ti.none())}}function x4(i,e,t){i instanceof Vc?(function(o,u,c){const m=o.value.clone(),p=yT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof ia?(function(o,u,c){if(!Gf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=yT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(bA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function lc(i,e,t,r){return i instanceof Vc?(function(u,c,m,p){if(!Gf(u.precondition,c))return m;const g=u.value.clone(),_=_T(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,r):i instanceof ia?(function(u,c,m,p){if(!Gf(u.precondition,c))return m;const g=_T(u.fieldTransforms,p,c),_=c.data;return _.setAll(bA(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,t,r):(function(u,c,m){return Gf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function N4(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=gA(r.transform,o||null);u!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,u))}return t||null}function gT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wl(r,o,((u,c)=>C4(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vc extends kd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends kd{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function yT(i,e,t){const r=new Map;We(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);r.set(u.field,w4(c,m,t[o]))}return r}function _T(i,e,t){const r=new Map;for(const o of i){const u=o.transform,c=t.data.field(o.field);r.set(o.field,A4(u,c,e))}return r}class Fy extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D4 extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&x4(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mA();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=EA(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((t,r)=>gT(t,r)))&&wl(this.baseMutations,e.baseMutations,((t,r)=>gT(t,r)))}}class qy{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return v4})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new qy(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,qe;function L4(i){switch(i){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function TA(i){if(i===void 0)return Fs("GRPC error has no .code"),te.UNKNOWN;switch(i){case Ut.OK:return te.OK;case Ut.CANCELLED:return te.CANCELLED;case Ut.UNKNOWN:return te.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return te.INTERNAL;case Ut.UNAVAILABLE:return te.UNAVAILABLE;case Ut.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ut.NOT_FOUND:return te.NOT_FOUND;case Ut.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ut.ABORTED:return te.ABORTED;case Ut.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ut.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:i})}}(qe=Ut||(Ut={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new qr([4294967295,4294967295],0);function vT(i){const e=P4().encode(i),t=new P1;return t.update(e),new Uint8Array(t.digest())}function ET(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([t,r],0),new qr([o,u],0)]}class Hy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qr.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(qr.fromNumber(r)));return o.compare(V4)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vT(e),[r,o]=ET(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Hy(u,o,t);return r.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=vT(e),[r,o]=ET(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ld(we.min(),o,new _t(Ve),qs(),Ue())}}class Uc{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uc(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class SA{constructor(e,t){this.targetId=e,this.Ce=t}}class AA{constructor(e,t,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class bT{constructor(){this.ve=0,this.Fe=TT(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),r=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:u})}})),new Uc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=TT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U4{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=Rf(),this.He=Rf(),this.Ye=new _t(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Qg(u))if(r===0){const c=new ve(u.path);this.et(t,c,fn.newNoDocument(c,we.min()))}else We(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=Yr(r).toUint8Array()}catch(p){if(p instanceof Y1)return Al("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hy(c,o,u)}catch(p){return Al(p instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Qg(m.target)){const p=new ve(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,fn.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let r=Ue();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Ld(e,t,this.Ye,this.je,r);return this.je=qs(),this.Je=Rf(),this.He=Rf(),this.Ye=new _t(Ve),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new bT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rf(){return new _t(ve.comparator)}function TT(){return new _t(ve.comparator)}const j4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class F4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $g(i,e){return i.useProto3Json||xd(e)?e:{value:e}}function hd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function q4(i,e){return hd(i,e.toTimestamp())}function rs(i){return We(!!i,49232),we.fromTimestamp((function(t){const r=Kr(t);return new ft(r.seconds,r.nanos)})(i))}function Gy(i,e){return Xg(i,e).canonicalString()}function Xg(i,e){const t=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function RA(i){const e=lt.fromString(i);return We(DA(e),10190,{key:e.toString()}),e}function Wg(i,e){return Gy(i.databaseId,e.path)}function ug(i,e){const t=RA(e);if(t.get(1)!==i.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(IA(t))}function CA(i,e){return Gy(i.databaseId,e)}function H4(i){const e=RA(i);return e.length===4?lt.emptyPath():IA(e)}function Jg(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function IA(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ST(i,e,t){return{name:Wg(i,e),fields:t.value.mapValue.fields}}function G4(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(We(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?te.UNKNOWN:TA(g.code);return new he(_,g.message||"")})(c);t=new AA(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ug(i,r.document.name),u=rs(r.document.updateTime),c=r.document.createTime?rs(r.document.createTime):we.min(),m=new Dn({mapValue:{fields:r.document.fields}}),p=fn.newFoundDocument(o,u,c,m),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Qf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ug(i,r.document),u=r.readTime?rs(r.readTime):we.min(),c=fn.newNoDocument(o,u),m=r.removedTargetIds||[];t=new Qf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ug(i,r.document),u=r.removedTargetIds||[];t=new Qf([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new k4(o,u),m=r.targetId;t=new SA(m,c)}}return t}function Q4(i,e){let t;if(e instanceof Vc)t={update:ST(i,e.key,e.value)};else if(e instanceof Fy)t={delete:Wg(i,e.key)};else if(e instanceof ia)t={update:ST(i,e.key,e.data),updateMask:tM(e.fieldMask)};else{if(!(e instanceof D4))return Se(16599,{Vt:e.type});t={verify:Wg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Ec)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cd)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:q4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),t}function K4(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((t=>(function(o,u){let c=o.updateTime?rs(o.updateTime):rs(u);return c.isEqual(we.min())&&(c=rs(u)),new I4(c,o.transformResults||[])})(t,e)))):[]}function Y4(i,e){return{documents:[CA(i,e.path)]}}function $4(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=CA(i,o);const u=(function(g){if(g.length!==0)return NA(wi.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:il(w.field),direction:J4(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=$g(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function X4(i){let e=H4(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){We(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(b){const w=xA(b);return w instanceof wi&&sA(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((w=>(function(B){return new vc(sl(B.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,xd(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(b){const w=!!b.before,O=b.values||[];return new ud(O,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const w=!b.before,O=b.values||[];return new ud(O,w)})(t.endAt)),m4(e,o,c,u,m,"F",p,g)}function W4(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sl(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sl(t.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sl(t.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(t){return jt.create(sl(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return wi.create(t.compositeFilter.filters.map((r=>xA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(i):Se(30097,{filter:i})}function J4(i){return j4[i]}function Z4(i){return z4[i]}function eM(i){return B4[i]}function il(i){return{fieldPath:i.canonicalString()}}function sl(i){return on.fromServerFormat(i.fieldPath)}function NA(i){return i instanceof jt?(function(t){if(t.op==="=="){if(cT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(uT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(uT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:Z4(t.op),value:t.value}}})(i):i instanceof wi?(function(t){const r=t.getFilters().map((o=>NA(o)));return r.length===1?r[0]:{compositeFilter:{op:eM(t.op),filters:r}}})(i):Se(54877,{filter:i})}function tM(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,r,o,u=we.min(),c=we.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.yt=e}}function iM(i){const e=X4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Cn=new rM}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Qr.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class rM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Kt(lt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OA=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(OA,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Il(0)}static cr(){return new Il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="LruGarbageCollector",aM=1048576;function RT([i,e],[t,r]){const o=Ve(i,t);return o===0?Ve(e,r):o}class oM{constructor(e){this.Ir=e,this.buffer=new Kt(RT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();RT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(wT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vl(t)?fe(wT,"Ignoring IndexedDB error during garbage collection: ",t):await Pl(t)}await this.Vr(3e5)}))}}class uM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Id.ce);const r=new oM(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(AT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,t)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(g=Date.now(),tl()<=He.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function cM(i,e){return new uM(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.changes=new oo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&lc(r.mutation,o,Fn.empty(),ft.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ue()){const o=Ua();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((u=>{let c=tc();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ua();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ue())))}populateOverlays(e,t,r){const o=[];return r.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,r,o){let u=qs();const c=oc(),m=(function(){return oc()})();return t.forEach(((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ia)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),lc(_.mutation,g,_.mutation.getFieldMask(),ft.now())):c.set(g.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>m.set(g,new fM(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=oc();let o=new _t(((c,m)=>c-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||Fn.empty();_=m.applyToLocalView(g,_),r.set(p,_);const b=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,b=mA();_.forEach((w=>{if(!u.has(w)){const O=EA(t.get(w),r.get(w));O!==null&&b.set(w,O),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ie.resolve(Ua());let m=pc,p=u;return c.next((g=>ie.forEach(g,((_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((_=>({batchId:m,changes:dA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let o=tc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const u=t.collectionGroup;let c=tc();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(b,w){return new Ul(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((_=>{_.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,fn.newInvalidDocument(_)))}));let m=tc();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&lc(_.mutation,g,Fn.empty(),ft.now()),Od(t,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:rs(o.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:iM(o.bundledQuery),readTime:rs(o.readTime)}})(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.overlays=new _t(ve.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ua();return ie.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,u)=>{this.St(e,t,u)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const o=Ua(),u=t.length+1,c=new ve(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new _t(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=Ua(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new M4(t,r));let u=this.qr.get(t);u===void 0&&(u=Ue(),this.qr.set(t,u)),this.qr.set(t,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.Qr=new Kt(Jt.$r),this.Ur=new Kt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Jt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new lt([])),r=new Jt(t,e),o=new Jt(t,e+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new lt([])),r=new Jt(t,e),o=new Jt(t,e+1);let u=Ue();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Jt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Jt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new O4(u,t,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Py:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Jt(t,0),o=new Jt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kt(Ve);return t.forEach((o=>{const u=new Jt(o,0),c=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ve.isDocumentKey(u)||(u=u.child(""));const c=new Jt(new ve(u),0);let m=new Kt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(t.mutations,(o=>{const u=new Jt(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Jt(t,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.ri=e,this.docs=(function(){return new _t(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=qs();return t.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=qs();const c=t.path,m=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||QO(GO(_),r)<=0||(o.has(_.key)||Od(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,r,o){Se(9500)}ii(e,t){return ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new vM(this)}getSize(e){return ie.resolve(this.size)}}class vM extends hM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.persistence=e,this.si=new oo((t=>jy(t)),zy),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Qy,this.targetCount=0,this.ai=Il.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Id(0),this.li=!1,this.li=!0,this.hi=new gM,this.referenceDelegate=e(this),this.Pi=new EM(this),this.indexManager=new sM,this.remoteDocumentCache=(function(o){return new _M(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nM(t),this.Ii=new mM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new yM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const o=new bM(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class bM extends YO{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Ri=new Qy,this.Vi=null}static mi(e){return new Ky(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=ve.fromPath(r);return this.gi(e,o).next((u=>{u||t.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class fd{constructor(e,t){this.persistence=e,this.pi=new oo((r=>WO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cM(this,t)}static mi(e,t){return new fd(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ie.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(r++,u.removeEntry(c,we.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qf(e.data.value)),t}br(e,t,r){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yy(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zI()?8:$O(dn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new TM;return this.Ss(e,t,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>u.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(tl()<=He.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(tl()<=He.DEBUG&&fe("QueryEngine","Query:",nl(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(tl()<=He.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(t))):ie.resolve())}ys(e,t){if(mT(t))return ie.resolve(null);let r=ss(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Yg(t,null,"F"),r=ss(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const c=Ue(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,Yg(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,o){return mT(t)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,r,o)?ie.resolve(null):(tl()<=He.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(t)),this.vs(e,c,t,HO(o,pc)).next((m=>m)))}))}Ds(e,t){let r=new Kt(hA(e));return t.forEach(((o,u)=>{Od(e,u)&&(r=r.add(u))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,r){return tl()<=He.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",nl(t)),this.ps.getDocumentsMatchingQuery(e,t,Qr.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="LocalStore",AM=3e8;class wM{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(Ve),this.xs=new oo((u=>jy(u)),zy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function RM(i,e,t,r){return new wM(i,e,t,r)}async function kA(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ue();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function CM(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const b=g.batch,w=b.keys();let O=ie.resolve();return w.forEach((B=>{O=O.next((()=>_.getEntry(p,B))).next((j=>{const V=g.docVersions.get(B);We(V!==null,48541),j.version.compareTo(V)<0&&(b.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(t,r,e,u).next((()=>u.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function LA(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function IM(i,e){const t=Ce(i),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((_,b)=>{const w=o.get(b);if(!w)return;m.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,b))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(ln.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,r)),o=o.insert(b,O),(function(j,V,X){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=AM?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,O,_)&&m.push(t.Pi.updateTargetData(u,O))}));let p=qs(),g=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(xM(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(we.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(_)}return ie.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function xM(i,e,t){let r=Ue(),o=Ue();return t.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let c=qs();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):fe($y,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function NM(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Py),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function DM(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((u=>u?(o=u,ie.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new jr(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Zg(i,e,t){const r=Ce(i),o=r.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Vl(c))throw c;fe($y,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function CT(i,e,t){const r=Ce(i);let o=we.min(),u=Ue();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const b=Ce(p),w=b.xs.get(_);return w!==void 0?ie.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,_)})(r,c,ss(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:we.min(),t?u:Ue()))).next((m=>(OM(r,g4(e),m),{documents:m,Qs:u})))))}function OM(i,e,t){let r=i.Os.get(e)||we.min();t.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class IT{constructor(){this.activeTargetIds=T4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MM{constructor(){this.Mo=new IT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="ConnectivityMonitor";class NT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(xT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(xT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function ey(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="RestConnection",LM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===od?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,u){const c=ey(),m=this.zo(e,t.toUriEncodedString());fe(cg,`Sending RPC '${e}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Zr(g);return this.Jo(e,m,p,r,_).then((b=>(fe(cg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Al(cg,`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(e,t,r,o,u,c){return this.Go(e,t,r,o,u)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const r=LM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class UM extends PM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,u){const c=ey();return new Promise(((m,p)=>{const g=new V1;g.setWithCredentials(!0),g.listenOnce(U1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ff.NO_ERROR:const b=g.getResponseJson();fe(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),m(b);break;case Ff.TIMEOUT:fe(cn,`RPC '${e}' ${c} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const w=g.getStatus();if(fe(cn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=O==null?void 0:O.error;if(B&&B.status&&B.message){const j=(function(X){const se=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(se)>=0?se:te.UNKNOWN})(B.status);p(new he(j,B.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(cn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe(cn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const o=ey(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=B1(),m=z1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(cn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=c.createWebChannel(_,p);this.I_(b);let w=!1,O=!1;const B=new VM({Yo:V=>{O?fe(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(fe(cn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),fe(cn,`RPC '${e}' stream ${o} sending:`,V),b.send(V))},Zo:()=>b.close()}),j=(V,X,se)=>{V.listen(X,($=>{try{se($)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return j(b,ec.EventType.OPEN,(()=>{O||(fe(cn,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),j(b,ec.EventType.CLOSE,(()=>{O||(O=!0,fe(cn,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(b))})),j(b,ec.EventType.ERROR,(V=>{O||(O=!0,Al(cn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),B.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),j(b,ec.EventType.MESSAGE,(V=>{var X;if(!O){const se=V.data[0];We(!!se,16349);const $=se,ae=($==null?void 0:$.error)||((X=$[0])==null?void 0:X.error);if(ae){fe(cn,`RPC '${e}' stream ${o} received error:`,ae);const re=ae.status;let me=(function(C){const D=Ut[C];if(D!==void 0)return TA(D)})(re),N=ae.message;me===void 0&&(me=te.INTERNAL,N="Unknown error status: "+re+" with message "+ae.message),O=!0,B.a_(new he(me,N)),b.close()}else fe(cn,`RPC '${e}' stream ${o} received:`,se),B.u_(se)}})),j(m,j1.STAT_EVENT,(V=>{V.stat===Bg.PROXY?fe(cn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Bg.NOPROXY&&fe(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(i){return new F4(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="PersistentStream";class VA{constructor(e,t,r,o,u,c,m,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(DT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(DT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jM extends VA{constructor(e,t,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=G4(this.serializer,e),r=(function(u){if(!("targetChange"in u))return we.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?rs(c.readTime):we.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Jg(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=Qg(p)?{documents:Y4(u,p)}:{query:$4(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=wA(u,c.resumeToken);const g=$g(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=hd(u,c.snapshotVersion.toTimestamp());const g=$g(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=W4(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Jg(this.serializer),t.removeTarget=e,this.q_(t)}}class zM extends VA{constructor(e,t,r,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=K4(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Jg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Q4(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{}class FM extends BM{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Xg(t,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())}))}Ho(e,t,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Xg(t,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class HM{constructor(e,t,r,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{lo(this)&&(fe(io,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await jc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Vd(g)})(this))}))})),this.Ra=new qM(r,o)}}async function Vd(i){if(lo(i))for(const e of i.da)await e(!0)}async function jc(i){for(const e of i.da)await e(!1)}function UA(i,e){const t=Ce(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zy(t)?Jy(t):jl(t).O_()&&Wy(t,e))}function Xy(i,e){const t=Ce(i),r=jl(t);t.Ia.delete(e),r.O_()&&jA(t,e),t.Ia.size===0&&(r.O_()?r.L_():lo(t)&&t.Ra.set("Unknown"))}function Wy(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jl(i).Y_(e)}function jA(i,e){i.Va.Ue(e),jl(i).Z_(e)}function Jy(i){i.Va=new U4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jl(i).start(),i.Ra.ua()}function Zy(i){return lo(i)&&!jl(i).x_()&&i.Ia.size>0}function lo(i){return Ce(i).Ea.size===0}function zA(i){i.Va=void 0}async function GM(i){i.Ra.set("Online")}async function QM(i){i.Ia.forEach(((e,t)=>{Wy(i,e)}))}async function KM(i,e){zA(i),Zy(i)?(i.Ra.ha(e),Jy(i)):i.Ra.set("Unknown")}async function YM(i,e,t){if(i.Ra.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(r){fe(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(i,r)}else if(e instanceof Qf?i.Va.Ze(e):e instanceof SA?i.Va.st(e):i.Va.tt(e),!t.isEqual(we.min()))try{const r=await LA(i.localStore);t.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),jA(u,p);const b=new jr(_.target,p,g,_.sequenceNumber);Wy(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(r){fe(io,"Failed to raise snapshot:",r),await dd(i,r)}}async function dd(i,e,t){if(!Vl(e))throw e;i.Ea.add(1),await jc(i),i.Ra.set("Offline"),t||(t=()=>LA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(io,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Vd(i)}))}function BA(i,e){return e().catch((t=>dd(i,t,e)))}async function Ud(i){const e=Ce(i),t=Xr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Py;for(;$M(e);)try{const o=await NM(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,XM(e,o)}catch(o){await dd(e,o)}FA(e)&&qA(e)}function $M(i){return lo(i)&&i.Ta.length<10}function XM(i,e){i.Ta.push(e);const t=Xr(i);t.O_()&&t.X_&&t.ea(e.mutations)}function FA(i){return lo(i)&&!Xr(i).x_()&&i.Ta.length>0}function qA(i){Xr(i).start()}async function WM(i){Xr(i).ra()}async function JM(i){const e=Xr(i);for(const t of i.Ta)e.ea(t.mutations)}async function ZM(i,e,t){const r=i.Ta.shift(),o=qy.from(r,e,t);await BA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ud(i)}async function e6(i,e){e&&Xr(i).X_&&await(async function(r,o){if((function(c){return L4(c)&&c!==te.ABORTED})(o.code)){const u=r.Ta.shift();Xr(r).B_(),await BA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ud(r)}})(i,e),FA(i)&&qA(i)}async function OT(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),fe(io,"RemoteStore received new credentials");const r=lo(t);t.Ea.add(3),await jc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vd(t)}async function t6(i,e){const t=Ce(i);e?(t.Ea.delete(2),await Vd(t)):e||(t.Ea.add(2),await jc(t),t.Ra.set("Unknown"))}function jl(i){return i.ma||(i.ma=(function(t,r,o){const u=Ce(t);return u.sa(),new jM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:GM.bind(null,i),t_:QM.bind(null,i),r_:KM.bind(null,i),H_:YM.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Zy(i)?Jy(i):i.Ra.set("Unknown")):(await i.ma.stop(),zA(i))}))),i.ma}function Xr(i){return i.fa||(i.fa=(function(t,r,o){const u=Ce(t);return u.sa(),new zM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:WM.bind(null,i),r_:e6.bind(null,i),ta:JM.bind(null,i),na:ZM.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ud(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(io,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){const c=Date.now()+r,m=new e_(e,t,c,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t_(i,e){if(Fs("AsyncQueue",`${e}: ${i}`),Vl(i))return new he(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=tc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.ga=new _t(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class xl{constructor(e,t,r,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new xl(e,t,ul.emptySet(t),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class i6{constructor(){this.queries=kT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ce(t),u=o.queries;o.queries=kT(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function kT(){return new oo((i=>cA(i)),Dd)}async function s6(i,e){const t=Ce(i);let r=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new n6,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=t_(c,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&n_(t)}async function r6(i,e){const t=Ce(i),r=e.query;let o=3;const u=t.queries.get(r);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function a6(i,e){const t=Ce(i);let r=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&n_(t)}function o6(i,e,t){const r=Ce(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);r.queries.delete(e)}function n_(i){i.Ca.forEach((e=>{e.next()}))}var ty,LT;(LT=ty||(ty={})).Ma="default",LT.Cache="cache";class l6{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.key=e}}class GA{constructor(e){this.key=e}}class u6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=hA(e),this.tu=new ul(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new MT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const w=o.get(_),O=Od(this.query,b)?b:null,B=!!w&&this.mutatedKeys.has(w.key),j=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;w&&O?w.data.isEqual(O.data)?B!==j&&(r.track({type:3,doc:O}),V=!0):this.su(w,O)||(r.track({type:2,doc:O}),V=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(r.track({type:0,doc:O}),V=!0):w&&!O&&(r.track({type:1,doc:w}),V=!0,(p||g)&&(m=!0)),V&&(O?(c=c.add(O),u=j?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,b)=>(function(O,B){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:V})}};return j(O)-j(B)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(r),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new xl(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new GA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new HA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const i_="SyncEngine";class c6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class h6{constructor(e){this.key=e,this.hu=!1}}class f6{constructor(e,t,r,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oo((m=>cA(m)),Dd),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ve.comparator),this.Au=new Map,this.Ru=new Qy,this.Vu={},this.mu=new Map,this.fu=Il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d6(i,e,t=!0){const r=WA(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await QA(r,e,t,!0),o}async function m6(i,e){const t=WA(i);await QA(t,e,!0,!1)}async function QA(i,e,t,r){const o=await DM(i.localStore,ss(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,t);let m;return r&&(m=await p6(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&UA(i.remoteStore,o),m}async function p6(i,e,t,r,o){i.pu=(b,w,O)=>(async function(j,V,X,se){let $=V.view.ru(X);$.Cs&&($=await CT(j.localStore,V.query,!1).then((({documents:N})=>V.view.ru(N,$))));const ae=se&&se.targetChanges.get(V.targetId),re=se&&se.targetMismatches.get(V.targetId)!=null,me=V.view.applyChanges($,j.isPrimaryClient,ae,re);return VT(j,V.targetId,me.au),me.snapshot})(i,b,w,O);const u=await CT(i.localStore,e,!0),c=new u6(e,u.Qs),m=c.ru(u.documents),p=Uc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);VT(i,t,g.au);const _=new c6(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function g6(i,e,t){const r=Ce(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Dd(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Zg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Xy(r.remoteStore,o.targetId),ny(r,o.targetId)})).catch(Pl)):(ny(r,o.targetId),await Zg(r.localStore,o.targetId,!0))}async function y6(i,e){const t=Ce(i),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Xy(t.remoteStore,r.targetId))}async function _6(i,e,t){const r=w6(i);try{const o=await(function(c,m){const p=Ce(c),g=ft.now(),_=m.reduce(((O,B)=>O.add(B.key)),Ue());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let B=qs(),j=Ue();return p.Ns.getEntries(O,_).next((V=>{B=V,B.forEach(((X,se)=>{se.isValidDocument()||(j=j.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,B))).next((V=>{b=V;const X=[];for(const se of m){const $=N4(se,b.get(se.key).overlayedDocument);$!=null&&X.push(new ia(se.key,$,tA($.value.mapValue),Ti.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,X,m)})).next((V=>{w=V;const X=V.applyToLocalDocumentSet(b,j);return p.documentOverlayCache.saveOverlays(O,V.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:dA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(Ve)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,t),await zc(r,o.changes),await Ud(r.remoteStore)}catch(o){const u=t_(o,"Failed to persist write");t.reject(u)}}async function KA(i,e){const t=Ce(i);try{const r=await IM(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await zc(t,r,e)}catch(r){await Pl(r)}}function PT(i,e,t){const r=Ce(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ce(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,b)=>{for(const w of b.Sa)w.va(m)&&(g=!0)})),g&&n_(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v6(i,e,t){const r=Ce(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),u=o&&o.key;if(u){let c=new _t(ve.comparator);c=c.insert(u,fn.newNoDocument(u,we.min()));const m=Ue().add(u),p=new Ld(we.min(),new Map,new _t(Ve),c,m);await KA(r,p),r.du=r.du.remove(u),r.Au.delete(e),s_(r)}else await Zg(r.localStore,e,!1).then((()=>ny(r,e,t))).catch(Pl)}async function E6(i,e){const t=Ce(i),r=e.batch.batchId;try{const o=await CM(t.localStore,e);$A(t,r,null),YA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zc(t,o)}catch(o){await Pl(o)}}async function b6(i,e,t){const r=Ce(i);try{const o=await(function(c,m){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(We(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);$A(r,e,t),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zc(r,o)}catch(o){await Pl(o)}}function YA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function $A(i,e,t){const r=Ce(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ny(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||XA(i,r)}))}function XA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Xy(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),s_(i))}function VT(i,e,t){for(const r of t)r instanceof HA?(i.Ru.addReference(r.key,e),T6(i,r)):r instanceof GA?(fe(i_,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||XA(i,r.key)):Se(19791,{wu:r})}function T6(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(fe(i_,"New document in limbo: "+t),i.Eu.add(r),s_(i))}function s_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ve(lt.fromString(e)),r=i.fu.next();i.Au.set(r,new h6(t)),i.du=i.du.insert(t,r),UA(i.remoteStore,new jr(ss(lA(t.path)),r,"TargetPurposeLimboResolution",Id.ce))}}async function zc(i,e,t){const r=Ce(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,e,t).then((g=>{var _;if((g||t)&&r.isPrimaryClient){const b=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Yy.As(p.targetId,g);u.push(b)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(w=>ie.forEach(w.Es,(O=>_.persistence.referenceDelegate.addReference(b,w.targetId,O))).next((()=>ie.forEach(w.ds,(O=>_.persistence.referenceDelegate.removeReference(b,w.targetId,O)))))))))}catch(b){if(!Vl(b))throw b;fe($y,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const O=_.Ms.get(w),B=O.snapshotVersion,j=O.withLastLimboFreeSnapshotVersion(B);_.Ms=_.Ms.insert(w,j)}}})(r.localStore,u))}async function S6(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){fe(i_,"User change. New user:",e.toKey());const r=await kA(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(te.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(t,r.Ls)}}function A6(i,e){const t=Ce(i),r=t.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function WA(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=KA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v6.bind(null,e),e.Pu.H_=a6.bind(null,e.eventManager),e.Pu.yu=o6.bind(null,e.eventManager),e}function w6(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b6.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RM(this.persistence,new SM,e.initialUser,this.serializer)}Cu(e){return new MA(Ky.mi,this.serializer)}Du(e){return new MM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class R6 extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lM(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new MA((r=>fd.mi(r,t)),this.serializer)}}class iy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S6.bind(null,this.syncEngine),await t6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new i6})()}createDatastore(e){const t=Pd(e.databaseInfo.databaseId),r=(function(u){return new UM(u)})(e.databaseInfo);return(function(u,c,m,p){return new FM(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,u,c,m){return new HM(r,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>PT(this.syncEngine,t,0)),(function(){return NT.v()?new NT:new kM})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,_){const b=new f6(o,u,c,m,p,g);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=Ce(o);fe(io,"RemoteStore shutting down."),u.Ea.add(5),await jc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}iy.provider={build:()=>new iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class I6{constructor(e,t,r,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{fe(Wr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(fe(Wr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=t_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fg(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Wr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await kA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function UT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await x6(i);fe(Wr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>OT(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>OT(e.remoteStore,o))),i._onlineComponents=e}async function x6(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Wr,"Using user provided OfflineComponentProvider");try{await fg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),await fg(i,new md)}}else fe(Wr,"Using default OfflineComponentProvider"),await fg(i,new R6(void 0));return i._offlineComponents}async function JA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Wr,"Using user provided OnlineComponentProvider"),await UT(i,i._uninitializedComponentsProvider._online)):(fe(Wr,"Using default OnlineComponentProvider"),await UT(i,new iy))),i._onlineComponents}function N6(i){return JA(i).then((e=>e.syncEngine))}async function D6(i){const e=await JA(i),t=e.eventManager;return t.onListen=d6.bind(null,e.syncEngine),t.onUnlisten=g6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=m6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y6.bind(null,e.syncEngine),t}function O6(i,e,t={}){const r=new Hr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new C6({next:w=>{_.Nu(),c.enqueueAndForget((()=>r6(u,b))),w.fromCache&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new l6(m,_,{includeMetadataChanges:!0,qa:!0});return s6(u,b)})(await D6(i),i.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firestore.googleapis.com",zT=!0;class BT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ew,this.ssl=zT}else this.host=e.host,this.ssl=e.ssl??zT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aM)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MO;switch(r.type){case"firstParty":return new VO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=jT.get(t);r&&(fe("ComponentProvider","Removing Datastore"),jT.delete(t),r.terminate())})(this),Promise.resolve()}}function M6(i,e,t,r={}){var g;i=no(i,jd);const o=Zr(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Ty(`https://${m}`),Sy("Firestore",!0)),u.host!==ew&&u.host!==m&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Wa(p,c)&&(i._setSettings(p),r.mockUserToken)){let _,b;if(typeof r.mockUserToken=="string")_=r.mockUserToken,b=hn.MOCK_USER;else{_=XS(r.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(w)}i._authCredentials=new kO(new q1(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Qt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Pc(t,Qt._jsonSchema))return new Qt(e,r||null,new ve(lt.fromString(t.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:zt("string",Qt._jsonSchemaVersion),referencePath:zt("string")};class Gr extends uo{constructor(e,t,r){super(e,t,lA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ve(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function FT(i,e,...t){if(i=yt(i),H1("collection","path",e),i instanceof jd){const r=lt.fromString(e,...t);return eT(r),new Gr(i,null,r)}{if(!(i instanceof Qt||i instanceof Gr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return eT(r),new Gr(i.firestore,null,r)}}function sy(i,e,...t){if(i=yt(i),arguments.length===1&&(e=Ly.newId()),H1("doc","path",e),i instanceof jd){const r=lt.fromString(e,...t);return Zb(r),new Qt(i,null,new ve(r))}{if(!(i instanceof Qt||i instanceof Gr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return Zb(r),new Qt(i.firestore,i instanceof Gr?i.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="AsyncQueue";class HT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PA(this,"async_queue_retry"),this._c=()=>{const r=hg();r&&fe(qT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=hg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;fe(qT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",GT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=e_.createAndSchedule(this,e,t,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function GT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Bc extends jd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new HT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HT(e),this._firestoreClient=void 0,await e}}}function k6(i,e){const t=typeof i=="object"?i:wy(),r=typeof i=="string"?i:od,o=Sd(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=KS("firestore");u&&M6(o,...u)}return o}function tw(i){if(i._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||L6(i),i._firestoreClient}function L6(i){var r,o,u;const e=i._freezeSettings(),t=(function(m,p,g,_){return new e4(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,ZA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(i._databaseId,((r=i._app)==null?void 0:r.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new I6(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(ln.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ri(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:zt("string",ri._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:zt("string",as._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new os(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:zt("string",os._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=/^__.*__$/;class V6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vc(e,this.data,t,this.fieldTransforms)}}class nw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class r_{constructor(e,t,r,o,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new r_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iw(this.Ac)&&P6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class U6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pd(e)}Cc(e,t,r,o=!1){return new r_({Ac:e,methodName:t,Dc:r,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a_(i){const e=i._freezeSettings(),t=Pd(i._databaseId);return new U6(i._databaseId,!!e.ignoreUndefinedProperties,t)}function j6(i,e,t,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);l_("Data must be an object, but it was:",c,r);const m=sw(r,c);let p,g;if(u.merge)p=new Fn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const w=ry(e,b,t);if(!c.contains(w))throw new he(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);aw(_,w)||_.push(w)}p=new Fn(_),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new V6(new Dn(m),p,g)}class Fd extends Bd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}class o_ extends Bd{_toFieldTransform(e){return new R4(e.path,new Ec)}isEqual(e){return e instanceof o_}}function z6(i,e,t,r){const o=i.Cc(1,e,t);l_("Data must be an object, but it was:",o,r);const u=[],c=Dn.empty();na(r,((p,g)=>{const _=u_(e,p,t);g=yt(g);const b=o.yc(_);if(g instanceof Fd)u.push(_);else{const w=Fc(g,b);w!=null&&(u.push(_),c.set(_,w))}}));const m=new Fn(u);return new nw(c,m,o.fieldTransforms)}function B6(i,e,t,r,o,u){const c=i.Cc(1,e,t),m=[ry(e,r,t)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ry(e,u[w])),p.push(u[w+1]);const g=[],_=Dn.empty();for(let w=m.length-1;w>=0;--w)if(!aw(g,m[w])){const O=m[w];let B=p[w];B=yt(B);const j=c.yc(O);if(B instanceof Fd)g.push(O);else{const V=Fc(B,j);V!=null&&(g.push(O),_.set(O,V))}}const b=new Fn(g);return new nw(_,b,c.fieldTransforms)}function F6(i,e,t,r=!1){return Fc(t,i.Cc(r?4:3,e))}function Fc(i,e){if(rw(i=yt(i)))return l_("Unsupported field value:",e,i),sw(i,e);if(i instanceof Bd)return(function(r,o){if(!iw(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Fc(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ft.fromDate(r);return{timestampValue:hd(o.serializer,u)}}if(r instanceof ft){const u=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(o.serializer,u)}}if(r instanceof as)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:wA(o.serializer,r._byteString)};if(r instanceof Qt){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof os)return(function(c,m){return{mapValue:{fields:{[Z1]:{stringValue:eA},[ld]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return By(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Cd(r)}`)})(i,e)}function sw(i,e){const t={};return K1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(i,((r,o)=>{const u=Fc(o,e.mc(r));u!=null&&(t[r]=u)})),{mapValue:{fields:t}}}function rw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof as||i instanceof ri||i instanceof Qt||i instanceof Bd||i instanceof os)}function l_(i,e,t){if(!rw(t)||!G1(t)){const r=Cd(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function ry(i,e,t){if((e=yt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return u_(i,e);throw pd("Field path arguments must be of type string or ",i,!1,void 0,t)}const q6=new RegExp("[~\\*/\\[\\]]");function u_(i,e,t){if(e.search(q6)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function pd(i,e,t,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+i+p)}function aw(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class H6 extends ow{data(){return super.data()}}function c_(i,e){return typeof e=="string"?u_(i,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h_{}class lw extends h_{}function Q6(i,e,...t){let r=[];e instanceof h_&&r.push(e),r=r.concat(t),(function(u){const c=u.filter((p=>p instanceof d_)).length,m=u.filter((p=>p instanceof f_)).length;if(c>1||c>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class f_ extends lw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new f_(e,t,r)}_apply(e){const t=this._parse(e);return uw(e._query,t),new uo(e.firestore,e.converter,Kg(e._query,t))}_parse(e){const t=a_(e.firestore);return(function(u,c,m,p,g,_,b){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){KT(b,_);const B=[];for(const j of b)B.push(QT(p,u,j));w={arrayValue:{values:B}}}else w=QT(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||KT(b,_),w=F6(m,c,b,_==="in"||_==="not-in");return jt.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class d_ extends h_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new d_(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:wi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)uw(c,p),c=Kg(c,p)})(e._query,t),new uo(e.firestore,e.converter,Kg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m_ extends lw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new m_(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(u,c)})(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Ul(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function K6(i,e="asc"){const t=e,r=c_("orderBy",i);return m_._create(r,t)}function QT(i,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uA(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(lt.fromString(t));if(!ve.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lT(i,new ve(r))}if(t instanceof Qt)return lT(i,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(t)}.`)}function KT(i,e){if(!Array.isArray(i)||i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uw(i,e){const t=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Y6{convertValue(e,t="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return na(e,((o,u)=>{r[o]=this.convertValue(u,t)})),r}convertVectorValue(e){var r,o,u;const t=(u=(o=(r=e.fields)==null?void 0:r[ld].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>It(c.doubleValue)));return new os(t)}convertGeoPoint(e){return new as(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const t=Kr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lt.fromString(e);We(DA(r),9688,{name:e});const o=new yc(r.get(1),r.get(3)),u=new ve(r.popFirst(5));return o.isEqual(t)||Fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class If{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends ow{constructor(e,t,r,o,u,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(c_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:zt("string",cl._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Kf extends cl{data(e={}){return super.data(e)}}class hl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new If(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Kf(this._firestore,this._userDataWriter,r.key,r,new If(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Kf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new If(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Kf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new If(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:X6(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X6(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:zt("string",hl._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class W6 extends Y6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}}function J6(i){i=no(i,uo);const e=no(i.firestore,Bc),t=tw(e),r=new W6(e);return G6(i._query),O6(t,i._query).then((o=>new hl(e,r,i,o)))}function Z6(i,e,t,...r){i=no(i,Qt);const o=no(i.firestore,Bc),u=a_(o);let c;return c=typeof(e=yt(e))=="string"||e instanceof zd?B6(u,"updateDoc",i._key,e,t,r):z6(u,"updateDoc",i._key,e),p_(o,[c.toMutation(i._key,Ti.exists(!0))])}function ek(i){return p_(no(i.firestore,Bc),[new Fy(i._key,Ti.none())])}function tk(i,e){const t=no(i.firestore,Bc),r=sy(i),o=$6(i.converter,e);return p_(t,[j6(a_(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function p_(i,e){return(function(r,o){const u=new Hr;return r.asyncQueue.enqueueAndForget((async()=>_6(await N6(r),o,u))),u.promise})(tw(i),e)}function dg(){return new o_("serverTimestamp")}(function(e,t=!0){(function(o){Ll=o})(ro),Ja(new CO("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Bc(new LO(r.getProvider("auth-internal")),new UO(c,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ts($b,Xb,e),ts($b,Xb,"esm2020")})();class nk{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firebasestorage.googleapis.com",hw="storageBucket",ik=120*1e3,sk=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends us{constructor(e,t,r=0){super(mg(e),`Firebase Storage: ${t} (${mg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function mg(i){return"storage/"+i}function g_(){const i="An unknown error occurred, please check the error payload for server response.";return new St(Tt.UNKNOWN,i)}function rk(i){return new St(Tt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function ak(i){return new St(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ok(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(Tt.UNAUTHENTICATED,i)}function lk(){return new St(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uk(i){return new St(Tt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function ck(){return new St(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hk(){return new St(Tt.CANCELED,"User canceled the upload/download.")}function fk(i){return new St(Tt.INVALID_URL,"Invalid URL '"+i+"'.")}function dk(i){return new St(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function mk(){return new St(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hw+"' property when initializing the app?")}function pk(){return new St(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gk(){return new St(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yk(i){return new St(Tt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ay(i){return new St(Tt.INVALID_ARGUMENT,i)}function fw(){return new St(Tt.APP_DELETED,"The Firebase app was deleted.")}function _k(i){return new St(Tt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uc(i,e){return new St(Tt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ku(i){throw new St(Tt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qn.makeFromUrl(e,t)}catch{return new qn(e,"")}if(r.path==="")return r;throw dk(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const _="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${_}/b/${o}/o${w}`,"i"),B={bucket:1,path:3},j=t===cw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",X=new RegExp(`^https?://${j}/${o}/${V}`,"i"),$=[{regex:m,indices:p,postModify:u},{regex:O,indices:B,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<$.length;ae++){const re=$[ae],me=re.regex.exec(e);if(me){const N=me[re.indices.bucket];let S=me[re.indices.path];S||(S=""),r=new qn(N,S),re.postModify(r);break}}if(r==null)throw fk(e);return r}}class vk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(i,e,t){let r=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function _(...V){g||(g=!0,e.apply(null,V))}function b(V){o=setTimeout(()=>{o=null,i(O,p())},V)}function w(){u&&clearTimeout(u)}function O(V,...X){if(g){w();return}if(V){w(),_.call(null,V,...X);return}if(p()||c){w(),_.call(null,V,...X);return}r<64&&(r*=2);let $;m===1?(m=2,$=0):$=(r+Math.random())*1e3,b($)}let B=!1;function j(V){B||(B=!0,w(),!g&&(o!==null?(V||(m=2),clearTimeout(o),b(0)):V||(m=1)))}return b(0),u=setTimeout(()=>{c=!0,j(!0)},t),j}function bk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(i){return i!==void 0}function Sk(i){return typeof i=="object"&&!Array.isArray(i)}function y_(i){return typeof i=="string"||i instanceof String}function YT(i){return __()&&i instanceof Blob}function __(){return typeof Blob<"u"}function $T(i,e,t,r){if(r<e)throw ay(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw ay(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(i,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${i}`}function dw(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ya;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ya||(Ya={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,r,o,u,c,m,p,g,_,b,w=!0,O=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,j)=>{this.resolve_=B,this.reject_=j,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new xf(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===Ya.NO_ERROR,p=u.getStatus();if(!m||Ak(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Ya.ABORT;r(!1,new xf(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new xf(g,u))})},t=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Tk(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=g_();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?fw():hk();c(p)}else{const p=ck();c(p)}};this.canceled_?t(!1,new xf(!1,null,!0)):this.backoffId_=Ek(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Rk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Ck(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ik(i,e){e&&(i["X-Firebase-GMPID"]=e)}function xk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Nk(i,e,t,r,o,u,c=!0,m=!1){const p=dw(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return Ik(_,e),Rk(_,t),Ck(_,u),xk(_,r),new wk(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ok(...i){const e=Dk();if(e!==void 0){const t=new e;for(let r=0;r<i.length;r++)t.append(i[r]);return t.getBlob()}else{if(__())return new Blob(i);throw new St(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mk(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(i){if(typeof atob>"u")throw yk("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pg{constructor(e,t){this.data=e,this.contentType=t||null}}function Lk(i,e){switch(i){case es.RAW:return new pg(mw(e));case es.BASE64:case es.BASE64URL:return new pg(pw(i,e));case es.DATA_URL:return new pg(Vk(e),Uk(e))}throw g_()}function mw(i){const e=[];for(let t=0;t<i.length;t++){let r=i.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=r,c=i.charCodeAt(++t);r=65536|(u&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Pk(i){let e;try{e=decodeURIComponent(i)}catch{throw uc(es.DATA_URL,"Malformed data URL.")}return mw(e)}function pw(i,e){switch(i){case es.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw uc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case es.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw uc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=kk(e)}catch(o){throw o.message.includes("polyfill")?o:uc(i,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class gw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw uc(es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=jk(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Vk(i){const e=new gw(i);return e.base64?pw(es.BASE64,e.rest):Pk(e.rest)}function Uk(i){return new gw(i).contentType}function jk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){let r=0,o="";YT(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(YT(this.data_)){const r=this.data_,o=Mk(r,e,t);return o===null?null:new xr(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xr(r,!0)}}static getBlob(...e){if(__()){const t=e.map(r=>r instanceof xr?r.data_:r);return new xr(Ok.apply(null,t))}else{const t=e.map(c=>y_(c)?Lk(es.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new xr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(i){let e;try{e=JSON.parse(i)}catch{return null}return Sk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Bk(i,e){const t=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?t:i+"/"+t}function _w(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(i,e){return e}class yn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||Fk}}let Nf=null;function qk(i){return!y_(i)||i.length<2?i:_w(i)}function vw(){if(Nf)return Nf;const i=[];i.push(new yn("bucket")),i.push(new yn("generation")),i.push(new yn("metageneration")),i.push(new yn("name","fullPath",!0));function e(u,c){return qk(c)}const t=new yn("name");t.xform=e,i.push(t);function r(u,c){return c!==void 0?Number(c):c}const o=new yn("size");return o.xform=r,i.push(o),i.push(new yn("timeCreated")),i.push(new yn("updated")),i.push(new yn("md5Hash",null,!0)),i.push(new yn("cacheControl",null,!0)),i.push(new yn("contentDisposition",null,!0)),i.push(new yn("contentEncoding",null,!0)),i.push(new yn("contentLanguage",null,!0)),i.push(new yn("contentType",null,!0)),i.push(new yn("metadata","customMetadata",!0)),Nf=i,Nf}function Hk(i,e){function t(){const r=i.bucket,o=i.fullPath,u=new qn(r,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function Gk(i,e,t){const r={};r.type="file";const o=t.length;for(let u=0;u<o;u++){const c=t[u];r[c.local]=c.xform(r,e[c.server])}return Hk(r,i),r}function Ew(i,e,t){const r=yw(e);return r===null?null:Gk(i,r,t)}function Qk(i,e,t,r){const o=yw(e);if(o===null||!y_(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const _=i.bucket,b=i.fullPath,w="/b/"+c(_)+"/o/"+c(b),O=qd(w,t,r),B=dw({alt:"media",token:g});return O+B})[0]}function Kk(i,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class v_{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i){if(!i)throw g_()}function Yk(i,e){function t(r,o){const u=Ew(i,o,e);return bw(u!==null),u}return t}function $k(i,e){function t(r,o){const u=Ew(i,o,e);return bw(u!==null),Qk(u,o,i.host,i._protocol)}return t}function Tw(i){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=lk():o=ok():t.getStatus()===402?o=ak(i.bucket):t.getStatus()===403?o=uk(i.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Sw(i){const e=Tw(i);function t(r,o){let u=e(r,o);return r.getStatus()===404&&(u=rk(i.path)),u.serverResponse=o.serverResponse,u}return t}function Xk(i,e,t){const r=e.fullServerUrl(),o=qd(r,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,m=new v_(o,u,$k(i,t),c);return m.errorHandler=Sw(e),m}function Wk(i,e){const t=e.fullServerUrl(),r=qd(t,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function c(p,g){}const m=new v_(r,o,c,u);return m.successCodes=[200,204],m.errorHandler=Sw(e),m}function Jk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Zk(i,e,t){const r=Object.assign({},t);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=Jk(null,e)),r}function eL(i,e,t,r,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let $="";for(let ae=0;ae<2;ae++)$=$+Math.random().toString().slice(2);return $}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=Zk(e,r,o),_=Kk(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",O=xr.getBlob(b,r,w);if(O===null)throw pk();const B={name:g.fullPath},j=qd(u,i.host,i._protocol),V="POST",X=i.maxUploadRetryTime,se=new v_(j,V,Yk(i,t),X);return se.urlParams=B,se.headers=c,se.body=O.uploadData(),se.errorHandler=Tw(e),se}class tL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ya.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ya.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ya.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,u){if(this.sent_)throw Ku("cannot .send() more than once");if(Zr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nL extends tL{initXhr(){this.xhr_.responseType="text"}}function E_(){return new nL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this._service=e,t instanceof qn?this._location=t:this._location=qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new so(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _w(this._location.path)}get storage(){return this._service}get parent(){const e=zk(this._location.path);if(e===null)return null;const t=new qn(this._location.bucket,e);return new so(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw _k(e)}}function iL(i,e,t){i._throwIfRoot("uploadBytes");const r=eL(i.storage,i._location,vw(),new xr(e,!0),t);return i.storage.makeRequestWithTokens(r,E_).then(o=>({metadata:o,ref:i}))}function sL(i){i._throwIfRoot("getDownloadURL");const e=Xk(i.storage,i._location,vw());return i.storage.makeRequestWithTokens(e,E_).then(t=>{if(t===null)throw gk();return t})}function rL(i){i._throwIfRoot("deleteObject");const e=Wk(i.storage,i._location);return i.storage.makeRequestWithTokens(e,E_)}function aL(i,e){const t=Bk(i._location.path,e),r=new qn(i._location.bucket,t);return new so(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(i){return/^[A-Za-z]+:\/\//.test(i)}function lL(i,e){return new so(i,e)}function Aw(i,e){if(i instanceof b_){const t=i;if(t._bucket==null)throw mk();const r=new so(t,t._bucket);return e!=null?Aw(r,e):r}else return e!==void 0?aL(i,e):i}function uL(i,e){if(e&&oL(e)){if(i instanceof b_)return lL(i,e);throw ay("To use ref(service, url), the first argument must be a Storage instance.")}else return Aw(i,e)}function XT(i,e){const t=e==null?void 0:e[hw];return t==null?null:qn.makeFromBucketSpec(t,i)}function cL(i,e,t,r={}){i.host=`${e}:${t}`;const o=Zr(e);o&&(Ty(`https://${i.host}/b`),Sy("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:XS(u,i.app.options.projectId))}class b_{constructor(e,t,r,o,u,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=cw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ik,this._maxUploadRetryTime=sk,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=XT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=XT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new so(this,e)}_makeRequest(e,t,r,o,u=!0){if(this._deleted)return new vk(fw());{const c=Nk(e,this._appId,r,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const WT="@firebase/storage",JT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="storage";function hL(i,e,t){return i=yt(i),iL(i,e,t)}function fL(i){return i=yt(i),sL(i)}function dL(i){return i=yt(i),rL(i)}function ZT(i,e){return i=yt(i),uL(i,e)}function mL(i=wy(),e){i=yt(i);const r=Sd(i,ww).getImmediate({identifier:e}),o=KS("storage");return o&&pL(r,...o),r}function pL(i,e,t,r={}){cL(i,e,t,r)}function gL(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new b_(t,r,o,e,ro)}function yL(){Ja(new nk(ww,gL,"PUBLIC").setMultipleInstances(!0)),ts(WT,JT,""),ts(WT,JT,"esm2020")}yL();const _L={apiKey:"AIzaSyDsI6Nh0HvRe6olQtS93zFAzNI1e-Jepe0",authDomain:"song-practise.firebaseapp.com",projectId:"song-practise",storageBucket:"song-practise.firebasestorage.app",messagingSenderId:"756608057127",appId:"1:756608057127:web:8e385bccd1c60fe2ebf302"},T_=ZS(_L),Df=SO(T_),Of=k6(T_),eS=mL(T_),Rw=G.createContext(void 0);function Hd(){const i=G.useContext(Rw);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}function vL({children:i}){const[e,t]=G.useState(null),[r,o]=G.useState(!0);G.useEffect(()=>hD(Df,_=>{t(_),o(!1)}),[]);const p={user:e,loading:r,signInWithEmail:async(g,_)=>{await lD(Df,g,_)},signUpWithEmail:async(g,_)=>{await oD(Df,g,_)},signOut:async()=>{await fD(Df)}};return R.jsx(Rw.Provider,{value:p,children:!r&&i})}const EL=new cI({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:1}}}),bL="24e5318628dd479b8a0b323a2737cd6c",TL="d5b835afee404446b2e3f582b9273c15";let Mf=null,tS=0;async function Cw(){if(Mf&&Date.now()<tS)return Mf;const i=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${btoa(`${bL}:${TL}`)}`},body:"grant_type=client_credentials"});if(!i.ok)throw new Error("Failed to get Spotify access token");const e=await i.json();return Mf=e.access_token,tS=Date.now()+e.expires_in*1e3-6e4,Mf}const Yu=new Map,$u=new Map;async function SL(i){var t;const e=i.toLowerCase();if(Yu.has(e))return Yu.get(e);try{const r=await Cw(),o=await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(i)}&type=artist&limit=1`,{headers:{Authorization:`Bearer ${r}`}});if(!o.ok)throw new Error("Failed to search Spotify artist");const u=await o.json();if(u.artists.items.length===0)return Yu.set(e,null),null;const c=u.artists.items[0],m={id:c.id,name:c.name,images:c.images||[],genres:c.genres||[],followers:((t=c.followers)==null?void 0:t.total)||0};return Yu.set(e,m),m}catch(r){return console.error("Error fetching Spotify artist:",r),Yu.set(e,null),null}}function gd(i,e="large"){var t,r,o,u,c,m;return!i||!i.images.length?null:e==="large"?((t=i.images[0])==null?void 0:t.url)||null:e==="medium"?((r=i.images[1])==null?void 0:r.url)||((o=i.images[0])==null?void 0:o.url)||null:((u=i.images[2])==null?void 0:u.url)||((c=i.images[1])==null?void 0:c.url)||((m=i.images[0])==null?void 0:m.url)||null}async function AL(i,e){var r,o;const t=`${i.toLowerCase()}-${e.toLowerCase()}`;if($u.has(t))return $u.get(t);try{const u=await Cw(),c=await fetch(`https://api.spotify.com/v1/search?q=track:${encodeURIComponent(i)}%20artist:${encodeURIComponent(e)}&type=track&limit=1`,{headers:{Authorization:`Bearer ${u}`}});if(!c.ok)throw new Error("Failed to search Spotify track");const m=await c.json();if(m.tracks.items.length===0)return $u.set(t,null),null;const p=m.tracks.items[0],g={id:p.id,name:p.name,albumImage:((r=p.album.images[0])==null?void 0:r.url)||null,albumName:p.album.name,artistName:((o=p.artists[0])==null?void 0:o.name)||e};return $u.set(t,g),g}catch(u){return console.error("Error fetching Spotify track:",u),$u.set(t,null),null}}function Iw(i){return by({queryKey:["spotify-artist",i.toLowerCase()],queryFn:()=>SL(i),staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!i})}function xw(i,e){return by({queryKey:["spotify-track",i.toLowerCase(),e.toLowerCase()],queryFn:()=>AL(i,e),staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!i&&!!e})}function Nw({song:i,onEdit:e,onDelete:t,onUpdateProgress:r}){const o=vd(),[u,c]=G.useState(i.progress||0),m=G.useRef(),{data:p,isLoading:g}=xw(i.title,i.artist);G.useEffect(()=>{c(i.progress||0)},[i.progress]);const _=b=>{const w=Number.parseInt(b.target.value);c(w),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{r(i.id,w)},500)};return G.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),R.jsxs("div",{className:"bg-slate-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition flex flex-col cursor-pointer",onClick:()=>o(`/song/${i.id}`),children:[R.jsxs("div",{className:"flex flex-1",children:[R.jsxs("div",{className:"w-32 h-32 flex-shrink-0 bg-gradient-to-br from-slate-700 to-slate-800 relative",children:[g&&R.jsx("div",{className:"absolute inset-0 bg-slate-700 animate-pulse"}),!g&&(p==null?void 0:p.albumImage)&&R.jsx("img",{src:p.albumImage,alt:`${i.title} album art`,className:"w-full h-full object-cover"}),!g&&!(p!=null&&p.albumImage)&&R.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-4xl text-slate-600",children:"🎵"})]}),R.jsxs("div",{className:"flex-1 p-3 flex flex-col",children:[R.jsxs("div",{className:"flex justify-between items-start gap-2 mb-3",children:[R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("h3",{className:"text-lg font-bold text-white truncate",children:i.title}),R.jsx(bi,{to:`/artist/${encodeURIComponent(i.artist)}`,className:"text-sm text-slate-400 hover:text-blue-400 transition block",onClick:b=>b.stopPropagation(),children:i.artist}),i.tuning&&i.tuning!=="Standard (E A D G B E)"&&R.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-300 mt-1",children:["🎸 ",i.tuning]})]}),R.jsxs("div",{className:"flex flex-col gap-1",children:[R.jsx("button",{onClick:b=>{b.stopPropagation(),e(i)},className:"p-2 bg-slate-700 hover:bg-blue-600 rounded transition",title:"Edit song",children:R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),R.jsx("button",{onClick:b=>{b.stopPropagation(),confirm(`Delete "${i.title}"?`)&&t(i.id)},className:"p-2 bg-slate-700 hover:bg-red-600 rounded transition",title:"Delete song",children:R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(i.lessonLink||i.songLinkYoutube||i.songLinkSpotify||i.tabsLink)&&R.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[(i.lessonLink||i.songLinkYoutube)&&R.jsx("a",{href:i.lessonLink||i.songLinkYoutube,target:"_blank",rel:"noopener noreferrer",className:"group p-2 bg-red-500/10 hover:bg-slate-700/50 rounded-lg transition",onClick:b=>b.stopPropagation(),title:"YouTube",children:R.jsx("svg",{className:"w-5 h-5 text-red-500 group-hover:text-slate-400 transition",viewBox:"0 0 24 24",fill:"currentColor",children:R.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),i.songLinkSpotify&&R.jsx("a",{href:i.songLinkSpotify,target:"_blank",rel:"noopener noreferrer",className:"group p-2 bg-green-500/10 hover:bg-slate-700/50 rounded-lg transition",onClick:b=>b.stopPropagation(),title:"Spotify",children:R.jsx("svg",{className:"w-5 h-5 text-green-500 group-hover:text-slate-400 transition",viewBox:"0 0 24 24",fill:"currentColor",children:R.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})})}),i.tabsLink&&R.jsx("a",{href:i.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"group p-2 bg-orange-500/10 hover:bg-slate-700/50 rounded-lg transition",onClick:b=>b.stopPropagation(),title:"Tabs",children:R.jsxs("svg",{className:"w-5 h-5 text-orange-500 group-hover:text-slate-400 transition",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[R.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),R.jsx("polyline",{points:"14 2 14 8 20 8"}),R.jsx("line",{x1:"9",y1:"13",x2:"15",y2:"13"}),R.jsx("line",{x1:"9",y1:"17",x2:"15",y2:"17"})]})})]})]})]}),R.jsxs("div",{className:"w-full px-3 pb-3",children:[R.jsxs("div",{className:"flex justify-between items-center mb-2",children:[R.jsx("span",{className:"text-xs text-slate-400",children:"Progress"}),R.jsxs("span",{className:"text-xs font-medium text-blue-400",children:[u,"%"]})]}),R.jsx("input",{type:"range",min:"0",max:"100",value:u,onChange:_,onClick:b=>b.stopPropagation(),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]})}function wL({songs:i,onEdit:e,onDelete:t,onUpdateProgress:r}){return i.length===0?R.jsxs("div",{className:"text-center py-12 text-slate-400",children:[R.jsx("p",{className:"text-xl",children:"No songs in this category yet"}),R.jsx("p",{className:"text-sm mt-2",children:"Add your first song to get started!"})]}):R.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(o=>R.jsx(Nw,{song:o,onEdit:e,onDelete:t,onUpdateProgress:r},o.id))})}const RL=[{value:"Standard (E A D G B E)",label:"Standard (E A D G B E)"},{value:"Drop D (D A D G B E)",label:"Drop D (D A D G B E)"},{value:"Half Step Down (Eb Ab Db Gb Bb Eb)",label:"Half Step Down (Eb Ab Db Gb Bb Eb)"},{value:"Whole Step Down (D G C F A D)",label:"Whole Step Down (D G C F A D)"},{value:"Drop C (C G C F A D)",label:"Drop C (C G C F A D)"},{value:"Drop C# (C# G# C# F# A# D#)",label:"Drop C# (C# G# C# F# A# D#)"},{value:"Open D (D A D F# A D)",label:"Open D (D A D F# A D)"},{value:"Open G (D G D G B D)",label:"Open G (D G D G B D)"},{value:"DADGAD (D A D G A D)",label:"DADGAD (D A D G A D)"},{value:"Drop B (B F# B E G# C#)",label:"Drop B (B F# B E G# C#)"},{value:"Drop A (A E A D F# B)",label:"Drop A (A E A D F# B)"},{value:"Open E (E B E G# B E)",label:"Open E (E B E G# B E)"},{value:"Open C (C G C G C E)",label:"Open C (C G C G C E)"}],Gd=[{id:"currently-working",slug:"currently-working",label:"Currently Working"},{id:"backlog",slug:"backlog",label:"Backlog"},{id:"learned",slug:"learned",label:"Learned"}],CL=i=>Gd.find(e=>e.slug===i),yd=()=>Gd[0];function S_({song:i,onSubmit:e,onCancel:t}){const{user:r}=Hd(),[o,u]=G.useState(i||{id:Date.now(),title:"",artist:"",lessonLink:"",lessonLinks:[],songLinkYoutube:"",songLinkSpotify:"",tabsLink:"",tabsLinks:[],notes:"",progress:0,category:yd().id,tuning:"Standard (E A D G B E)"}),[c,m]=G.useState(null),[p,g]=G.useState(!1),[_,b]=G.useState(!1),w=async S=>{if(S.preventDefault(),c&&r){g(!0);try{const C=`${r.uid}/${Date.now()}_${c.name}`,D=ZT(eS,`tabs/${C}`);await hL(D,c);const x=await fL(D);e({...o,tabsPdfUrl:x})}catch(C){console.error("Error uploading PDF:",C),alert("Failed to upload PDF. Please try again.")}finally{g(!1)}}else e(o)},O=S=>{S.preventDefault(),S.stopPropagation(),b(!1);const C=S.dataTransfer.files;C&&C[0]&&C[0].type==="application/pdf"?m(C[0]):alert("Please drop a PDF file")},B=S=>{const C=S.target.files;C&&C[0]&&C[0].type==="application/pdf"?m(C[0]):alert("Please select a PDF file")},j=async()=>{if(o.tabsPdfUrl&&r)try{const S=ZT(eS,o.tabsPdfUrl);await dL(S)}catch(S){console.error("Error deleting PDF:",S)}m(null),u(S=>({...S,tabsPdfUrl:void 0}))},V=S=>{const{name:C,value:D}=S.target;u(x=>({...x,[C]:D}))},X=()=>{u(S=>({...S,lessonLinks:[...S.lessonLinks||[],{url:"",label:""}]}))},se=(S,C,D)=>{u(x=>{var k;return{...x,lessonLinks:(k=x.lessonLinks)==null?void 0:k.map((I,Be)=>Be===S?{...I,[C]:D}:I)}})},$=S=>{u(C=>{var D;return{...C,lessonLinks:(D=C.lessonLinks)==null?void 0:D.filter((x,k)=>k!==S)}})},ae=()=>{u(S=>({...S,tabsLinks:[...S.tabsLinks||[],{url:"",label:""}]}))},re=(S,C,D)=>{u(x=>{var k;return{...x,tabsLinks:(k=x.tabsLinks)==null?void 0:k.map((I,Be)=>Be===S?{...I,[C]:D}:I)}})},me=S=>{u(C=>{var D;return{...C,tabsLinks:(D=C.tabsLinks)==null?void 0:D.filter((x,k)=>k!==S)}})},N=S=>{S.target===S.currentTarget&&t()};return R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/50",onClick:N,children:R.jsxs("div",{className:"bg-slate-800 w-full h-full md:h-auto md:max-h-[90vh] md:max-w-3xl md:rounded-lg shadow-2xl flex flex-col",children:[R.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-slate-700",children:[R.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Song":"Add New Song"}),R.jsx("button",{type:"button",onClick:t,className:"text-slate-400 hover:text-white text-2xl leading-none","aria-label":"Close",children:"×"})]}),R.jsx("form",{id:"song-form",onSubmit:w,className:"flex-1 overflow-y-auto p-4 md:p-6",children:R.jsxs("div",{className:"grid gap-4",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Title *"}),R.jsx("input",{type:"text",name:"title",value:o.title,onChange:V,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Artist *"}),R.jsx("input",{type:"text",name:"artist",value:o.artist,onChange:V,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Main Lesson Link (YouTube)"}),R.jsx("input",{type:"url",name:"lessonLink",value:o.lessonLink,onChange:V,placeholder:"https://youtube.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsx("label",{className:"block text-sm font-medium",children:"Additional Lesson Links"}),R.jsx("button",{type:"button",onClick:X,className:"text-xs px-2 py-1 bg-blue-600 hover:bg-blue-700 rounded transition",children:"+ Add Link"})]}),o.lessonLinks&&o.lessonLinks.length>0&&R.jsx("div",{className:"space-y-2",children:o.lessonLinks.map((S,C)=>R.jsxs("div",{className:"flex gap-2",children:[R.jsx("input",{type:"text",value:S.label,onChange:D=>se(C,"label",D.target.value),placeholder:"Label (e.g., Solo, Part 2)",className:"w-1/3 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),R.jsx("input",{type:"url",value:S.url,onChange:D=>se(C,"url",D.target.value),placeholder:"https://youtube.com/...",className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),R.jsx("button",{type:"button",onClick:()=>$(C),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:"×"})]},C))})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Link (YouTube)"}),R.jsx("input",{type:"url",name:"songLinkYoutube",value:o.songLinkYoutube,onChange:V,placeholder:"https://youtube.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Song Link (Spotify)"}),R.jsx("input",{type:"url",name:"songLinkSpotify",value:o.songLinkSpotify,onChange:V,placeholder:"https://open.spotify.com/...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Main Tabs/Chords Link"}),R.jsx("input",{type:"url",name:"tabsLink",value:o.tabsLink,onChange:V,placeholder:"https://...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsx("label",{className:"block text-sm font-medium",children:"Additional Tabs/Chords Links"}),R.jsx("button",{type:"button",onClick:ae,className:"text-xs px-2 py-1 bg-orange-600 hover:bg-orange-700 rounded transition",children:"+ Add Link"})]}),o.tabsLinks&&o.tabsLinks.length>0&&R.jsx("div",{className:"space-y-2",children:o.tabsLinks.map((S,C)=>R.jsxs("div",{className:"flex gap-2",children:[R.jsx("input",{type:"text",value:S.label,onChange:D=>re(C,"label",D.target.value),placeholder:"Label (e.g., Solo, Simplified)",className:"w-1/3 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),R.jsx("input",{type:"url",value:S.url,onChange:D=>re(C,"url",D.target.value),placeholder:"https://...",className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),R.jsx("button",{type:"button",onClick:()=>me(C),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:"×"})]},C))})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-2",children:"Upload Tabs PDF"}),R.jsxs("div",{onDrop:O,onDragOver:S=>{S.preventDefault(),b(!0)},onDragLeave:()=>b(!1),className:`border-2 border-dashed rounded-lg p-6 text-center transition ${_?"border-blue-500 bg-blue-500/10":"border-slate-600"}`,children:[!c&&!o.tabsPdfUrl&&R.jsxs(R.Fragment,{children:[R.jsx("p",{className:"text-slate-400 mb-2",children:"Drag & drop a PDF file here or"}),R.jsxs("label",{className:"inline-block px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded cursor-pointer transition",children:["Browse Files",R.jsx("input",{type:"file",accept:"application/pdf",onChange:B,className:"hidden"})]})]}),(c||o.tabsPdfUrl)&&R.jsxs("div",{className:"flex items-center justify-between bg-slate-700 p-3 rounded",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-2xl",children:"📄"}),R.jsx("span",{className:"text-sm",children:(c==null?void 0:c.name)||"Uploaded PDF"})]}),R.jsx("button",{type:"button",onClick:j,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded transition text-sm",children:"Remove"})]})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),R.jsx("select",{name:"category",value:o.category,onChange:V,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:Gd.map(({id:S,label:C})=>R.jsx("option",{value:S,children:C},S))})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Guitar Tuning"}),R.jsx("select",{name:"tuning",value:o.tuning,onChange:V,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:RL.map(S=>R.jsx("option",{value:S.value,children:S.label},S.value))})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),R.jsx("textarea",{name:"notes",value:o.notes,onChange:V,rows:4,placeholder:"Additional tips, capo position, etc...",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})}),R.jsx("div",{className:"p-4 md:p-6 border-t border-slate-700 bg-slate-800",children:R.jsxs("div",{className:"flex gap-2 justify-end",children:[R.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition",children:"Cancel"}),R.jsx("button",{type:"submit",form:"song-form",disabled:p,className:`px-6 py-2 rounded-lg transition ${p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?"Uploading...":(i?"Update":"Add")+" Song"})]})})]})})}function IL(){const{category:i=yd().slug}=Ed();return R.jsx("div",{className:"mb-6 flex gap-2 justify-center flex-wrap",children:Gd.map(({id:e,slug:t,label:r})=>R.jsx(bi,{to:`/${t}`,className:`px-6 py-2 rounded-lg font-medium transition ${i===t?"bg-blue-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:r},e))})}function Qd(){const{user:i}=Hd(),e=Ey(),{data:t=[],isLoading:r,isFetching:o}=by({queryKey:["songs",i==null?void 0:i.uid],queryFn:async()=>{if(!i)return[];const p=FT(Of,"users",i.uid,"songs"),g=Q6(p,K6("createdAt","desc"));return(await J6(g)).docs.map(b=>({...b.data(),id:b.id}))},enabled:!!i,refetchOnMount:!1,refetchOnWindowFocus:!1}),u=eg({mutationFn:async p=>{if(!i)throw new Error("Not authenticated");const g=FT(Of,"users",i.uid,"songs");return(await tk(g,{...p,createdAt:dg(),updatedAt:dg()})).id},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}}),c=eg({mutationFn:async({songId:p,updates:g})=>{if(!i)throw new Error("Not authenticated");const _=sy(Of,"users",i.uid,"songs",p);await Z6(_,{...g,updatedAt:dg()})},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}}),m=eg({mutationFn:async p=>{if(!i)throw new Error("Not authenticated");const g=sy(Of,"users",i.uid,"songs",p);await ek(g)},onSuccess:()=>{e.invalidateQueries({queryKey:["songs",i==null?void 0:i.uid]})}});return{songs:t,loading:r,addSong:p=>u.mutateAsync(p),updateSong:(p,g)=>c.mutateAsync({songId:p,updates:g}),deleteSong:p=>m.mutateAsync(p)}}const nS=i=>{let e;const t=new Set,r=(g,_)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const w=e;e=_??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(O=>O(e,w))}},o=()=>e,m={setState:r,getState:o,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=i(r,o,m);return m},xL=(i=>i?nS(i):nS),NL=i=>i;function DL(i,e=NL){const t=Xu.useSyncExternalStore(i.subscribe,Xu.useCallback(()=>e(i.getState()),[i,e]),Xu.useCallback(()=>e(i.getInitialState()),[i,e]));return Xu.useDebugValue(t),t}const iS=i=>{const e=xL(i),t=r=>DL(e,r);return Object.assign(t,e),t},OL=(i=>i?iS(i):iS),A_=OL(i=>({showForm:!1,editingSong:null,openForm:()=>i({showForm:!0,editingSong:null}),openEditForm:e=>i({showForm:!0,editingSong:e}),closeForm:()=>i({showForm:!1,editingSong:null})}));function ML(){const{category:i=yd().slug}=Ed(),e=CL(i)||yd(),{songs:t,addSong:r,updateSong:o,deleteSong:u}=Qd(),{showForm:c,editingSong:m,openForm:p,openEditForm:g,closeForm:_}=A_(),b=async j=>{const{id:V,...X}=j;await r(X),_()},w=async j=>{const{id:V,...X}=j;await o(String(V),X),_()},O=async j=>{await u(String(j))},B=t.filter(j=>j.category===e.id);return R.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:R.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[R.jsxs("header",{className:"mb-8",children:[R.jsx("h1",{className:"text-4xl font-bold text-center mb-2",children:"🎸 Guitar Learning Tracker"}),R.jsx("p",{className:"text-slate-400 text-center",children:"Track your guitar journey"}),R.jsx("div",{className:"flex justify-center mt-4",children:R.jsxs(bi,{to:"/artists",className:"text-blue-400 hover:text-blue-300 transition flex items-center gap-2",children:[R.jsx("span",{children:"👥"})," Browse by Artist"]})})]}),R.jsx(IL,{}),!c&&R.jsx("button",{onClick:p,className:"w-full mb-6 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition",children:"+ Add New Song"}),c&&R.jsx(S_,{song:m,onSubmit:m?w:b,onCancel:_}),R.jsx(wL,{songs:B,onEdit:g,onDelete:O,onUpdateProgress:async(j,V)=>{await o(String(j),{progress:V})}})]})})}function kL({name:i,count:e}){const{data:t,isLoading:r}=Iw(i);return R.jsxs(bi,{to:`/artist/${encodeURIComponent(i)}`,className:"group bg-slate-800 hover:bg-slate-750 rounded-lg p-6 transition border border-slate-700 hover:border-slate-600",children:[R.jsxs("div",{className:"w-full h-32 mb-4 rounded bg-gradient-to-br from-slate-700 to-slate-800 overflow-hidden relative",children:[r&&R.jsx("div",{className:"absolute inset-0 bg-slate-700 animate-pulse"}),!r&&gd(t,"medium")&&R.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${gd(t,"medium")})`}})]}),R.jsx("h2",{className:"text-xl font-bold mb-1 group-hover:text-blue-400 transition",children:i}),R.jsxs("p",{className:"text-slate-400 text-sm",children:[e," ",e===1?"song":"songs"]}),t&&t.genres.length>0&&R.jsx("p",{className:"text-slate-500 text-xs mt-1 truncate",children:t.genres[0]})]})}function LL(){const{songs:i}=Qd(),e=G.useMemo(()=>{const t=i.reduce((r,o)=>{const u=o.artist;return r[u]||(r[u]={name:u,count:0}),r[u].count++,r},{});return Object.values(t).sort((r,o)=>r.name.localeCompare(o.name))},[i]);return R.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:R.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[R.jsxs("header",{className:"mb-8",children:[R.jsx(bi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:"← Back to songs"}),R.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Artists"}),R.jsx("p",{className:"text-slate-400",children:"Browse songs by artist"})]}),e.length===0?R.jsx("div",{className:"text-center py-12 text-slate-400",children:R.jsx("p",{children:"No artists yet. Add some songs to get started!"})}):R.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>R.jsx(kL,{name:t.name,count:t.count},t.name))})]})})}function PL(){const{artist:i}=Ed(),{songs:e,updateSong:t,deleteSong:r}=Qd(),{showForm:o,editingSong:u,openEditForm:c,closeForm:m}=A_(),p=decodeURIComponent(i||""),g=e.filter(j=>j.artist.toLowerCase()===p.toLowerCase()),{data:_,isLoading:b}=Iw(p),w=async j=>{const{id:V,...X}=j;await t(String(V),X),m()},O=async j=>{await r(String(j))},B=async(j,V)=>{await t(String(j),{progress:V})};return R.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:[R.jsxs("div",{className:"relative h-64 md:h-96 bg-gradient-to-b from-slate-800 to-slate-900 overflow-hidden",children:[!b&&gd(_,"large")&&R.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:`url(${gd(_,"large")})`}}),b&&R.jsx("div",{className:"absolute inset-0 bg-slate-800 animate-pulse"}),R.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"}),R.jsxs("div",{className:"relative h-full max-w-6xl mx-auto px-4 flex flex-col justify-end pb-8",children:[R.jsx(bi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:"← Back to songs"}),R.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-2",children:p}),R.jsxs("p",{className:"text-slate-400 text-lg",children:[g.length," ",g.length===1?"song":"songs"]}),_&&_.genres.length>0&&R.jsx("p",{className:"text-slate-500 text-sm mt-1",children:_.genres.slice(0,3).join(", ")})]})]}),R.jsx("div",{className:"max-w-6xl mx-auto p-4",children:g.length===0?R.jsx("div",{className:"text-center py-12 text-slate-400",children:R.jsx("p",{children:"No songs found for this artist."})}):R.jsx("div",{className:"grid gap-4",children:g.map(j=>R.jsx(Nw,{song:j,onEdit:c,onDelete:O,onUpdateProgress:B},j.id))})}),o&&R.jsx(S_,{song:u,onSubmit:w,onCancel:m})]})}function VL(){var C,D,x;const{id:i}=Ed(),e=vd(),{songs:t,loading:r,updateSong:o,deleteSong:u}=Qd(),{showForm:c,editingSong:m,openEditForm:p,closeForm:g}=A_(),_=t.find(k=>k.id===i),[b,w]=G.useState((_==null?void 0:_.progress)||0),O=G.useRef(),{data:B,isLoading:j}=xw((_==null?void 0:_.title)||"",(_==null?void 0:_.artist)||"");G.useEffect(()=>{w((_==null?void 0:_.progress)||0)},[_==null?void 0:_.progress]);const V=async k=>{const{id:I,...Be}=k;await o(String(I),Be),g()},X=async()=>{confirm(`Delete "${_==null?void 0:_.title}"?`)&&(await u(String(_==null?void 0:_.id)),e("/currently-working"))},se=k=>{w(k),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{_&&o(String(_.id),{progress:k})},500)};G.useEffect(()=>()=>{O.current&&clearTimeout(O.current)},[]);const $=k=>{const I=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Be=k.match(I);return Be&&Be[2].length===11?Be[2]:null},ae=k=>{const I=k.match(/track\/([a-zA-Z0-9]+)/);return I?I[1]:null},re=k=>k.includes("ultimate-guitar.com")||k.includes("tabs.ultimate-guitar.com");if(r&&t.length===0)return R.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),R.jsx("p",{className:"text-slate-400",children:"Loading..."})]})});if(!_)return R.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Song not found"}),R.jsx(bi,{to:"/currently-working",className:"text-blue-400 hover:text-blue-300",children:"← Back to songs"})]})});const me=_.lessonLink?$(_.lessonLink):_.songLinkYoutube?$(_.songLinkYoutube):null,N=((C=_.lessonLinks)==null?void 0:C.map(k=>({id:$(k.url),label:k.label})).filter(k=>k.id))||[],S=_.songLinkSpotify?ae(_.songLinkSpotify):null;return R.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100",children:[R.jsxs("div",{className:"relative bg-gradient-to-b from-slate-800 to-slate-900",children:[(B==null?void 0:B.albumImage)&&R.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-xl",style:{backgroundImage:`url(${B.albumImage})`}}),R.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 py-8",children:[R.jsx(bi,{to:"/currently-working",className:"text-slate-400 hover:text-white mb-4 inline-flex items-center gap-2",children:"← Back to songs"}),R.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start mt-4",children:[R.jsxs("div",{className:"w-full md:w-64 h-64 flex-shrink-0 bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg overflow-hidden shadow-2xl",children:[j&&R.jsx("div",{className:"w-full h-full bg-slate-700 animate-pulse"}),!j&&(B==null?void 0:B.albumImage)&&R.jsx("img",{src:B.albumImage,alt:`${_.title} album art`,className:"w-full h-full object-cover"}),!j&&!(B!=null&&B.albumImage)&&R.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl text-slate-600",children:"🎵"})]}),R.jsxs("div",{className:"flex-1",children:[R.jsxs("div",{className:"flex justify-between items-start gap-4 mb-2",children:[R.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:_.title}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>p(_),className:"p-2 bg-slate-700 hover:bg-blue-600 rounded transition",title:"Edit song",children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),R.jsx("button",{onClick:X,className:"p-2 bg-slate-700 hover:bg-red-600 rounded transition",title:"Delete song",children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),R.jsx(bi,{to:`/artist/${encodeURIComponent(_.artist)}`,className:"text-2xl text-slate-400 hover:text-blue-400 transition inline-block mb-3",children:_.artist}),_.tuning&&R.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-700 rounded-lg text-sm mb-4 ml-3",children:["🎸 ",_.tuning]}),B&&R.jsxs("p",{className:"text-slate-400 mb-4",children:["Album: ",B.albumName]}),R.jsxs("div",{className:"mb-4",children:[R.jsxs("div",{className:"flex justify-between items-center mb-2",children:[R.jsx("span",{className:"text-sm text-slate-400",children:"Learning Progress"}),R.jsxs("span",{className:"text-lg font-bold text-blue-400",children:[b,"%"]})]}),R.jsx("input",{type:"range",min:"0",max:"100",value:b,onChange:k=>se(Number.parseInt(k.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]})]})]})]}),R.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(_.lessonLink||_.songLinkYoutube||_.songLinkSpotify||_.tabsLink)&&R.jsxs("div",{className:"mb-8",children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Resources"}),R.jsxs("div",{className:"flex flex-wrap gap-3",children:[(_.lessonLink||_.songLinkYoutube)&&R.jsxs("a",{href:_.lessonLink||_.songLinkYoutube,target:"_blank",rel:"noopener noreferrer",className:"group p-3 bg-red-500/10 hover:bg-slate-700/50 rounded-lg transition flex items-center gap-2",children:[R.jsx("svg",{className:"w-6 h-6 text-red-500 group-hover:text-slate-400 transition",viewBox:"0 0 24 24",fill:"currentColor",children:R.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),R.jsx("span",{className:"font-medium",children:"YouTube"})]}),_.songLinkSpotify&&R.jsxs("a",{href:_.songLinkSpotify,target:"_blank",rel:"noopener noreferrer",className:"group p-3 bg-green-500/10 hover:bg-slate-700/50 rounded-lg transition flex items-center gap-2",children:[R.jsx("svg",{className:"w-6 h-6 text-green-500 group-hover:text-slate-400 transition",viewBox:"0 0 24 24",fill:"currentColor",children:R.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})}),R.jsx("span",{className:"font-medium",children:"Spotify"})]}),_.tabsLink&&R.jsxs("a",{href:_.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"group p-3 bg-orange-500/10 hover:bg-slate-700/50 rounded-lg transition flex items-center gap-2",children:[R.jsxs("svg",{className:"w-6 h-6 text-orange-500 group-hover:text-slate-400 transition",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[R.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),R.jsx("polyline",{points:"14 2 14 8 20 8"}),R.jsx("line",{x1:"9",y1:"13",x2:"15",y2:"13"}),R.jsx("line",{x1:"9",y1:"17",x2:"15",y2:"17"})]}),R.jsx("span",{className:"font-medium",children:"Tabs"})]})]})]}),R.jsxs("div",{className:"space-y-6 mb-8",children:[me&&R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:_.lessonLink&&$(_.lessonLink)===me?"Main Lesson Video":"Song Video"}),R.jsx("div",{className:"relative pb-[56.25%] h-0 bg-slate-800 rounded-lg overflow-hidden",children:R.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${me}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),N.length>0&&R.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:N.map((k,I)=>R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:k.label}),R.jsx("div",{className:"relative pb-[56.25%] h-0 bg-slate-800 rounded-lg overflow-hidden",children:R.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${k.id}`,title:`${k.label} video player`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]},I))}),S&&R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Listen on Spotify"}),R.jsx("div",{className:"bg-slate-800 rounded-lg overflow-hidden",style:{height:"352px"},children:R.jsx("iframe",{className:"w-full h-full",src:`https://open.spotify.com/embed/track/${S}?utm_source=generator`,frameBorder:"0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})})]})]}),(_.tabsLink||!!((D=_.tabsLinks)!=null&&D.length)||_.tabsPdfUrl)&&R.jsxs("div",{className:"mb-8 space-y-6",children:[_.tabsPdfUrl&&R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tabs PDF"}),R.jsx("div",{className:"bg-slate-800 rounded-lg overflow-hidden",style:{height:"800px"},children:R.jsx("iframe",{src:_.tabsPdfUrl,className:"w-full h-full",title:"Tabs PDF"})})]}),_.tabsLink&&R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tabs & Chords"}),R.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 text-center border-2 border-slate-700",children:[R.jsx("p",{className:"text-slate-400 mb-4",children:re(_.tabsLink)?"Ultimate Guitar tabs work best in their own tab":"Tabs are best viewed on the original site"}),R.jsx("a",{href:_.tabsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded-lg transition text-lg font-medium",children:"📄 Open Tabs in Ultimate Guitar"})]})]}),(x=_.tabsLinks)==null?void 0:x.map((k,I)=>R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:k.label}),R.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 text-center border-2 border-slate-700",children:[R.jsx("p",{className:"text-slate-400 mb-4",children:re(k.url)?"Ultimate Guitar tabs work best in their own tab":`${k.label} tabs are best viewed on the original site`}),R.jsxs("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded-lg transition text-lg font-medium",children:["📄 Open ",k.label]})]})]},I))]}),_.notes&&R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Notes"}),R.jsx("div",{className:"p-6 bg-slate-800 rounded-lg",children:R.jsx("p",{className:"whitespace-pre-wrap text-slate-300",children:_.notes})})]})]}),c&&R.jsx(S_,{song:m,onSubmit:V,onCancel:g})]})}function Dw(){const{signInWithEmail:i,signUpWithEmail:e}=Hd(),[t,r]=G.useState(!1),[o,u]=G.useState(""),[c,m]=G.useState(""),[p,g]=G.useState(""),[_,b]=G.useState(!1),w=async O=>{O.preventDefault();try{g(""),b(!0),t?await e(o,c):await i(o,c)}catch(B){g(B.message)}finally{b(!1)}};return R.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center p-4",children:R.jsxs("div",{className:"max-w-md w-full",children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("h1",{className:"text-4xl font-bold mb-2",children:"🎸 Guitar Learning Tracker"}),R.jsx("p",{className:"text-slate-400",children:"Sign in to sync your songs across devices"})]}),R.jsxs("div",{className:"bg-slate-800 rounded-lg p-8 shadow-xl",children:[p&&R.jsx("div",{className:"mb-4 p-3 bg-red-600/20 border border-red-600 rounded text-red-400 text-sm",children:p}),R.jsxs("form",{onSubmit:w,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),R.jsx("input",{type:"email",value:o,onChange:O=>u(O.target.value),required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),R.jsx("input",{type:"password",value:c,onChange:O=>m(O.target.value),required:!0,minLength:6,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••"})]}),R.jsx("button",{type:"submit",disabled:_,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition disabled:opacity-50",children:_?"Please wait...":t?"Sign Up":"Sign In"})]}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx("button",{onClick:()=>r(!t),className:"text-blue-400 hover:text-blue-300 text-sm",children:t?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})}const UL="modulepreload",jL=function(i){return"/tune-book/"+i},sS={},zL=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=c(t.map(g=>{if(g=jL(g),g in sS)return;sS[g]=!0;const _=g.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":UL,_||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),_)return new Promise((O,B)=>{w.addEventListener("load",O),w.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};function BL(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:u,onRegisterError:c}=i;let m,p;const g=async(b=!0)=>{await p};async function _(){if("serviceWorker"in navigator){if(m=await zL(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/tune-book/sw.js",{scope:"/tune-book/",type:"classic"})).catch(b=>{c==null||c(b)}),!m)return;m.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),m.addEventListener("installed",b=>{b.isUpdate||r==null||r()}),m.register({immediate:e}).then(b=>{u?u("/tune-book/sw.js",b):o==null||o(b)}).catch(b=>{c==null||c(b)})}}return p=_(),g}BL({onNeedRefresh(){console.log("New content available, refresh to update.")},onOfflineReady(){console.log("App ready to work offline.")}});function kf({children:i}){const{user:e}=Hd();return e?R.jsx(R.Fragment,{children:i}):R.jsx(Dw,{})}_C.createRoot(document.getElementById("root")).render(R.jsx(Xu.StrictMode,{children:R.jsx(hI,{client:EL,children:R.jsx(O2,{basename:"/tune-book",children:R.jsx(vL,{children:R.jsxs(u2,{children:[R.jsx(La,{path:"/login",element:R.jsx(Dw,{})}),R.jsx(La,{path:"/artists",element:R.jsx(kf,{children:R.jsx(LL,{})})}),R.jsx(La,{path:"/artist/:artist",element:R.jsx(kf,{children:R.jsx(PL,{})})}),R.jsx(La,{path:"/song/:id",element:R.jsx(kf,{children:R.jsx(VL,{})})}),R.jsx(La,{path:"/:category",element:R.jsx(kf,{children:R.jsx(ML,{})})}),R.jsx(La,{index:!0,element:R.jsx(o2,{to:"/currently-working",replace:!0})})]})})})})}));
